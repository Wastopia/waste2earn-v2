(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[93],{60093:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>et});var i=n(87631),r=n(18434),s=n(57060),o=n(35479),a=n(37037),c=n(93864),d=n(53248),l=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function u(t){return(0,a.Pz)((0,d.useCallback)((()=>l(this,void 0,void 0,(function*(){if(t)return yield function(t){return l(this,void 0,void 0,(function*(){const e=(0,o.Pk)(yield(yield(0,c.fP)(t)).get_init({})).data;return e?e.init[0]:void 0}))}(t)}))),[t]))}var _=n(84755),p=n(72946),x=n(68483),f=n(67694),h=n(94247),m=n(12971),S=n(9259),v=n(62964),g=n(14754),y=n.n(g),N=n(89156),j=n(23412),E=n(28630),I=n(36092);function O(t){let{label:e,value:n}=t;return(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{color:"text.primary",sx:{minWidth:"120px"},children:e}),(0,I.jsx)(r.A,{color:"text.primary",align:"right",sx:{wordBreak:"break-all"},children:null!==n&&void 0!==n?n:"--"})]})}function A(t){let{ledger_id:e,tokenInfo:n,swapInitArgs:r,saleParameters:s}=t;const o=(0,v.A)(),{result:a}=(0,N.g0)(e),c=(0,d.useMemo)((()=>{var t,e;if(r)return null===(t=r.restricted_countries[0])||void 0===t||null===(e=t.iso_codes)||void 0===e?void 0:e.join(",")}),[r]);return(0,I.jsxs)(i.A,{sx:{borderRadius:"12px",background:o.palette.background.level4,padding:"20px",width:"50%",display:"flex",flexDirection:"column",gap:"15px 0","@media(max-width: 980px)":{width:"100%"}},children:[(0,I.jsx)(O,{label:S.Ru._({id:"jJrqb1"}),value:null===n||void 0===n?void 0:n.name}),(0,I.jsx)(O,{label:S.Ru._({id:"cy3NLg"}),value:null===n||void 0===n?void 0:n.symbol}),(0,I.jsx)(O,{label:S.Ru._({id:"fqHNfY"}),value:a&&n?"".concat((0,j.t)(a.toString(),n.decimals).toFormat()," ").concat(n.symbol):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"Eov5fE"}),value:s&&n?"".concat((0,j.t)(s.sns_token_e8s.toString(),n.decimals).toFormat()," ").concat(n.symbol):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"8V6mHy"}),value:s?"".concat(s.min_participants.toString()):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"rh+kgi"}),value:s&&n?"".concat((0,j.t)(s.min_participant_icp_e8s.toString(),E.Nj.decimals).toFormat()," ").concat(E.Nj.symbol):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"cLNSDz"}),value:s&&n?"".concat((0,j.t)(s.max_participant_icp_e8s.toString(),E.Nj.decimals).toFormat()," ").concat(E.Nj.symbol):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"niU/LI"}),value:s&&n?"".concat((0,j.t)(s.sns_token_e8s.toString(),n.decimals).toFormat()," ").concat(n.symbol):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"1JmHVS"}),value:s?"".concat(y()(Number(s.swap_due_timestamp_seconds*BigInt(1e3))).format("YYYY-MM-DD HH:mm:ss")):"--"}),(0,I.jsx)(O,{label:S.Ru._({id:"2s4Pgi"}),value:null!==c&&void 0!==c?c:"--"})]})}var P=n(90329),R=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function T(t){return R(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,c.fP)(t)).get_lifecycle({})).data}))}var M=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function b(t,e){return(0,a.Pz)((0,d.useCallback)((()=>M(this,void 0,void 0,(function*(){if(t)return yield function(t){return M(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,c.fP)(t)).get_derived_state({})).data}))}(t)}))),[t]),e)}var w=n(9978),D=n(81795),U=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function k(t,e,n){return(0,a.Pz)((0,d.useCallback)((()=>U(this,void 0,void 0,(function*(){if(t&&e)return yield function(t,e){return U(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,c.fP)(t)).get_buyer_state({principal_id:(0,w.E)(D.p.fromText(e))})).data}))}(t,e)}))),[t,e]),n)}var $=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function C(){const{result:t}=function(){return(0,a.Pz)((0,d.useCallback)((()=>$(this,void 0,void 0,(function*(){const t=yield fetch("https://api.iplocation.net/?cmd=get-ip").catch((()=>{}));if(t)return yield t.json()}))),[]))}();return(0,a.Pz)((0,d.useCallback)((()=>$(this,void 0,void 0,(function*(){if(!t||!t.ip)return;const e=yield fetch("https://api.iplocation.net/?cmd=ip-country&ip=".concat(t.ip)).catch((()=>{}));if(!e)return;const n=yield e.json();return n?n.country_code2:void 0}))),[t]))}var Y=n(37155),L=n(19501),F=n(92875),H=n(59257),B=n(53199),W=n(93217),z=n(57635),G=n(913),V=n(1783),J=n(97382),q=n(63431),X=n(78878);function Q(t){let{open:e,onClose:n,swap_id:s,swapInitArgs:a,min_participant:l,max_participant:u,onParticipateSuccessfully:p}=t;const x=(0,H.Le)(),[f,m]=(0,d.useState)(null),[v,g]=(0,d.useState)(!1),[y,O]=(0,d.useState)(!1),{result:A}=(0,h.nC)(E.Nj.address,x),[R]=(0,X.cO)(),[M,b]=(0,X.dx)();let D=!1;return v||(D=S.Ru._({id:"E977Yw"})),f||(D=S.Ru._({id:"tbR3sW"})),A&&f&&(0,j.t)(A.minus(E.Nj.transFee),E.Nj.decimals).isLessThan(f)&&(D=S.Ru._({id:"N2DUxS"})),f&&!(0,j.N)(f,E.Nj.decimals).isGreaterThan(E.Nj.transFee)&&(D=S.Ru._({id:"j0r844"})),f&&void 0!==l&&(0,j.N)(f,E.Nj.decimals).isLessThan(l.toString())&&(D=S.Ru._({id:"UrT+5t",values:{0:(0,j.t)(null===l||void 0===l?void 0:l.toString(),E.Nj.decimals).toFormat()}})),f&&void 0!==u&&(0,j.N)(f,E.Nj.decimals).isGreaterThan(u.toString())&&(D=S.Ru._({id:"vg3Ny8",values:{0:(0,j.t)(null===u||void 0===u?void 0:u.toString(),E.Nj.decimals).toFormat()}})),(0,I.jsxs)(_.aF,{open:e,onClose:n,title:S.Ru._({id:"lyPpvz"}),children:[(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",margin:"0 0 10px 0",alignItems:"center"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"hehnjM"})}),(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"0 5px",alignItems:"center"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"0QDjxt"})}),(0,I.jsx)(r.A,{color:"text.primary",children:A?(0,L.d)((0,j.t)(A,E.Nj.decimals).toString(),8,{groupSeparator:","}):"--"})]})]}),(0,I.jsx)(_.LT,{placeholder:"Amount",value:null!==f&&void 0!==f?f:"",numericProps:{thousandSeparator:!0,decimalScale:E.Nj.decimals,allowNegative:!1,maxLength:100},InputProps:{endAdornment:(0,I.jsx)(z.A,{position:"start",children:(0,I.jsx)(r.A,{sx:{cursor:"pointer"},color:"primary",onClick:()=>{A&&m((0,j.t)(A.minus(E.Nj.transFee),E.Nj.decimals).toString())},children:"MAX"})})},onChange:t=>{m(t)}})]}),(0,I.jsxs)(i.A,{sx:{margin:"10px 0 0 0"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"6cutnO"})}),(0,I.jsxs)(r.A,{children:[(0,j.t)(E.Nj.transFee,E.Nj.decimals).toFormat()," ",E.Nj.symbol]})]}),(0,I.jsxs)(i.A,{sx:{margin:"30px 0 0 0",display:"flex",gap:"0 10px"},children:[(0,I.jsx)(G.A,{checked:v,onChange:t=>{let{target:{checked:e}}=t;g(e)}}),(0,I.jsx)(r.A,{sx:{cursor:"pointer",userSelect:"none",fontSize:"12px"},onClick:()=>g(!v),children:(0,I.jsx)(P.x6,{id:"TUVFkH"})})]}),(0,I.jsx)(i.A,{sx:{margin:"20px 0 0 0"},children:(0,I.jsxs)(F.A,{variant:"contained",onClick:async()=>{if(y||!x||!f||!s||!a)return;const t=await T(s);if(!t)return void R(S.Ru._({id:"8iuFxq"}),X.XI);if(t.lifecycle[0]!==B.aH.Open)return void R(S.Ru._({id:"/XIaA2"}),X.XI);O(!0),M();const e=(0,q.l)(s,x.toString()),{status:i,message:r}=await(0,N.FY)({from:x.toString(),canisterId:E.Nj.address,to:e,amount:(0,j.N)(f,E.Nj.decimals)});if(i===J.i.ERROR)return R(r,X.XI),O(!1),void b();const d=a.confirmation_text[0];await function(t,e,n){return U(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,c.fP)(t,!0)).refresh_buyer_tokens({buyer:e,confirmation_text:(0,w.E)(n)})).data}))}(s,x.toString(),d),R("Participate successfully",X.mh),O(!1),b(),n(),p()},disabled:y||!!D,fullWidth:!0,children:[y?(0,I.jsx)(V.A,{color:"inherit",size:22,sx:{margin:"0 5px 0 0"}}):null,D||(0,I.jsx)(P.x6,{id:"lyPpvz"})]})})]})}const Z=(0,d.createContext)({}),K={[B.aH.Unspecified]:S.Ru._({id:"+DHRWw"}),[B.aH.Pending]:S.Ru._({id:"epDWwQ"}),[B.aH.Open]:S.Ru._({id:"EwRIqM"}),[B.aH.Committed]:S.Ru._({id:"qqWcBV"}),[B.aH.Aborted]:S.Ru._({id:"hG2g/b"}),[B.aH.Adopted]:S.Ru._({id:"g6kW/x"})};function tt(t){var e;let{tokenInfo:n,swap_id:s,swapInitArgs:o,saleParameters:c}=t;const l=(0,v.A)(),u=(0,H.Le)(),[p,x]=(0,d.useState)(!1),{reload:f,setReload:h}=(0,d.useContext)(Z),{result:m}=function(t){return(0,a.Pz)((0,d.useCallback)((()=>R(this,void 0,void 0,(function*(){if(t)return yield T(t)}))),[t]))}(s),{result:g}=b(s,f),{result:N}=k(s,null===u||void 0===u?void 0:u.toString(),f),O=(0,d.useMemo)((()=>{var t,e;if(!N)return;const n=null===(t=N.buyer_state[0])||void 0===t||null===(e=t.icp[0])||void 0===e?void 0:e.amount_e8s;return null===n||void 0===n?void 0:n.toString()}),[N]),A=(0,d.useMemo)((()=>{if(!m)return;return m.lifecycle[0]}),[m]),M=(0,d.useMemo)((()=>{var t,e;if(o)return null===(t=o.restricted_countries[0])||void 0===t||null===(e=t.iso_codes)||void 0===e?void 0:e.join(",")}),[o]),{max_neurons_fund_commitment:w}=(0,d.useMemo)((()=>{var t,e;if(!o)return{max_neurons_fund_commitment:void 0};return{max_neurons_fund_commitment:null===(t=o.neurons_fund_participation_constraints[0])||void 0===t||null===(e=t.max_neurons_fund_participation_icp_e8s[0])||void 0===e?void 0:e.toString()}}),[o]),{min_direct:D,max_direct:U,min_participant:$,max_participant:z}=(0,d.useMemo)((()=>{if(!c)return{min_direct:void 0,max_direct:void 0};return{max_direct:c.max_direct_participation_icp_e8s[0],min_direct:c.min_direct_participation_icp_e8s[0],min_participant:c.min_participant_icp_e8s,max_participant:c.max_participant_icp_e8s}}),[c]),{total_participants:G,direct_participation_icp:V,neurons_fund_icp:J,neurons_fund_percent:q,buyer_total_icp:X}=(0,d.useMemo)((()=>{var t,e,n,i;if(!g)return{total_participants:void 0,direct_participation_icp:void 0,neurons_fund_icp:void 0,neurons_fund_percent:void 0,buyer_total_icp:void 0};const r=null===(t=g.direct_participant_count[0])||void 0===t?void 0:t.toString(),s=null===(e=g.direct_participation_icp_e8s[0])||void 0===e?void 0:e.toString(),o=null===(n=g.neurons_fund_participation_icp_e8s[0])||void 0===n?void 0:n.toString();return{total_participants:r,direct_participation_icp:s,neurons_fund_icp:o,buyer_total_icp:null===(i=g.buyer_total_icp_e8s[0])||void 0===i?void 0:i.toString(),neurons_fund_percent:o&&w?"".concat(new Y.A(o.toString()).dividedBy(w.toString()).multipliedBy(100).toFixed(2),"%"):void 0}}),[g,w]),{direct_commitment_percent:tt,min_direct_percent:et,fill_min_direct:nt,fill_max_direct:it}=(0,d.useMemo)((()=>{var t;if(!g||!c)return{direct_commitment_percent:void 0,min_direct_percent:void 0,fill_min_direct:!1,fill_max_direct:!1};const e=null===(t=g.direct_participation_icp_e8s[0])||void 0===t?void 0:t.toString(),n=c.max_direct_participation_icp_e8s[0],i=c.min_direct_participation_icp_e8s[0];return e&&n&&i?{direct_commitment_percent:"".concat(new Y.A(e.toString()).dividedBy(n.toString()).multipliedBy(100).toFixed(2),"%"),min_direct_percent:"".concat(new Y.A(i.toString()).dividedBy(n.toString()).multipliedBy(100).toFixed(2),"%"),fill_min_direct:!new Y.A(e.toString()).isLessThan(i.toString()),fill_max_direct:!new Y.A(e.toString()).isLessThan(n.toString())}:{direct_commitment_percent:void 0,min_direct_percent:void 0,fill_min_direct:!1,fill_max_direct:!1}}),[g,c]),{result:rt}=C(),st=(0,H.il)();let ot;return(!rt||rt&&M&&M.includes(rt))&&(ot=S.Ru._({id:"omX5yT"})),st&&st===W.Wi.PLUG||(ot=S.Ru._({id:"nLSZwe"})),(0,I.jsxs)(i.A,{sx:{borderRadius:"12px",background:l.palette.background.level4,padding:"20px",width:"50%",display:"flex",flexDirection:"column",gap:"15px 0","@media(max-width: 980px)":{width:"100%"}},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{color:"text.primary",fontSize:"18px",fontWeight:500,children:"Status"}),A?(0,I.jsx)(i.A,{sx:{padding:"3px 10px",borderRadius:"12px",background:A===B.aH.Open?l.colors.successDark:l.palette.background.level1},children:(0,I.jsx)(r.A,{color:"text.primary",children:A?K[A]:"--"})}):null]}),(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"4asDkN"})}),(0,I.jsx)(r.A,{color:"text.primary",align:"right",sx:{wordBreak:"break-all"},children:G||"--"})]}),(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"0 5px",alignItems:"center"},children:[(0,I.jsx)(i.A,{sx:{width:"8px",height:"8px",background:l.colors.secondaryMain,borderRadius:"50%"}}),(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"2HnJ0v"})})]}),(0,I.jsx)(r.A,{color:"text.primary",align:"right",sx:{wordBreak:"break-all"},children:V?"".concat((0,L.d)((0,j.t)(V,E.Nj.decimals).toString(),8,{groupSeparator:","})," ").concat(E.Nj.symbol):"--"})]}),(0,I.jsxs)(i.A,{sx:{borderRadius:"8px",background:"#ffffff",height:"8px",margin:"20px 0 0 0",position:"relative"},children:[(0,I.jsx)(i.A,{sx:{background:l.colors.secondaryMain,width:tt||"0%",height:"8px",borderRadius:"8px"}}),(0,I.jsx)(i.A,{sx:{width:et?"2px":"0px",height:"18px",background:l.colors.secondaryMain,position:"absolute",top:"50%",left:et||"0%",transform:"translate(-50%, -50%)"}}),(0,I.jsx)(i.A,{sx:{position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent",borderTop:"8px solid ".concat(l.colors.secondaryMain),top:"-10px",left:et||"0%",transform:"translate(-50%, -50%)",display:et?"block":"none"}})]}),(0,I.jsxs)(i.A,{sx:{margin:"5px 0 0 0",display:"flex",justifyContent:"space-between"},children:[(0,I.jsxs)(i.A,{children:[(0,I.jsx)(r.A,{color:nt?l.colors.secondaryMain:"textSecondary",children:(0,I.jsx)(P.x6,{id:"CHM/EF"})}),(0,I.jsx)(r.A,{sx:{margin:"5px 0 0 0",color:nt?l.colors.secondaryMain:"textSecondary"},children:D?"".concat((0,j.t)(D,E.Nj.decimals).toFormat()," ").concat(E.Nj.symbol):"--"})]}),(0,I.jsxs)(i.A,{children:[(0,I.jsx)(r.A,{align:"right",sx:{color:it?l.colors.secondaryMain:"textSecondary"},children:(0,I.jsx)(P.x6,{id:"tXPDK5"})}),(0,I.jsx)(r.A,{sx:{margin:"5px 0 0 0",color:it?l.colors.secondaryMain:"textSecondary"},align:"right",children:U?"".concat((0,j.t)(U,E.Nj.decimals).toFormat()," ").concat(E.Nj.symbol):"--"})]})]})]}),(0,I.jsxs)(i.A,{sx:{margin:"20px 0 0 0"},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"0 5px",alignItems:"center"},children:[(0,I.jsx)(i.A,{sx:{width:"8px",height:"8px",background:l.colors.primaryMain,borderRadius:"50%"}}),(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"qvp1T0"})})]}),(0,I.jsx)(r.A,{color:"text.primary",align:"right",sx:{wordBreak:"break-all"},children:J?"".concat((0,L.d)((0,j.t)(J,E.Nj.decimals).toString(),8,{groupSeparator:","})," ").concat(E.Nj.symbol):"--"})]}),(0,I.jsxs)(r.A,{sx:{margin:"10px 0 0 0",fontSize:"12px"},children:["The Neurons' Fund commitment increases based on direct participation. The exact amount is computed at the end of the swap.",(0,I.jsx)(_.QW,{sx:{fontSize:"12px"},link:"https://internetcomputer.org/docs/current/developer-docs/daos/nns/neurons-fund",children:"Learn more."})]}),(0,I.jsx)(i.A,{sx:{borderRadius:"8px",background:"#ffffff",height:"8px",margin:"10px 0 0 0",position:"relative"},children:(0,I.jsx)(i.A,{sx:{background:l.colors.primaryMain,width:q||"0px",height:"8px",borderRadius:"8px"}})}),(0,I.jsxs)(i.A,{sx:{margin:"5px 0 0 0",display:"flex",justifyContent:"space-between"},children:[(0,I.jsxs)(i.A,{children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"mqnkMY"})}),(0,I.jsx)(r.A,{sx:{margin:"5px 0 0 0"},children:"0 ".concat(E.Nj.symbol)})]}),(0,I.jsxs)(i.A,{children:[(0,I.jsx)(r.A,{align:"right",children:(0,I.jsx)(P.x6,{id:"179Jh6"})}),(0,I.jsx)(r.A,{sx:{margin:"5px 0 0 0"},align:"right",children:w?"".concat((0,L.d)((0,j.t)(w,E.Nj.decimals).toString(),8,{groupSeparator:","})," ").concat(E.Nj.symbol):"--"})]})]})]}),(0,I.jsxs)(i.A,{sx:{margin:"10px 0 0 0",display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"mD6T5Y"})}),(0,I.jsx)(r.A,{color:"text.primary",children:X?"".concat((0,L.d)((0,j.t)(X,E.Nj.decimals).toString(),8,{groupSeparator:","})," ").concat(E.Nj.symbol):"--"})]}),(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"ubpROi"})}),(0,I.jsx)(r.A,{color:"text.primary",children:X?"".concat((0,L.d)((0,j.t)(O,E.Nj.decimals).toString(),8,{groupSeparator:","})," ").concat(E.Nj.symbol):"--"})]}),(0,I.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)(r.A,{children:(0,I.jsx)(P.x6,{id:"fGvT2T"})}),(0,I.jsx)(r.A,{color:"text.primary",children:X&&c?"".concat(y()(Number(c.swap_due_timestamp_seconds*BigInt(1e3))).format("YYYY-MM-DD HH:mm:ss")):"--"})]}),A&&A===B.aH.Open?(0,I.jsx)(i.A,{sx:{margin:"20px 0 0 0"},children:(0,I.jsx)(F.A,{variant:"contained",onClick:async()=>{x(!0)},disabled:!!ot||void 0===rt,children:null!==(e=ot)&&void 0!==e?e:(0,I.jsx)(P.x6,{id:"lyPpvz"})})}):null,p?(0,I.jsx)(Q,{open:p,onClose:()=>x(!1),tokenInfo:n,swapInitArgs:o,swap_id:s,min_participant:$,max_participant:z,onParticipateSuccessfully:()=>{h(f+1)}}):null]})}function et(){const t=(0,x.W6)(),{root_id:e}=(0,x.g)(),[n,o]=(0,d.useState)(0),{result:a}=(0,m.B)(),c=(0,d.useMemo)((()=>{if(a)return a.filter((t=>t.canister_ids.root_canister_id===e))[0]}),[a,e]),{ledger_id:l,swap_id:S}=(0,d.useMemo)((()=>{if(!c)return{swap_id:void 0,ledger_id:void 0};return{ledger_id:c.canister_ids.ledger_canister_id,swap_id:c.canister_ids.swap_canister_id}}),[c]),{result:v}=(0,h.Vs)(l),{result:g}=(0,s.y)(S,n),{result:y}=u(S);return(0,I.jsx)(Z.Provider,{value:{reload:n,setReload:o},children:(0,I.jsx)(i.A,{sx:{display:"flex",justifyContent:"center"},children:(0,I.jsxs)(i.A,{sx:{maxWidth:"1400px",width:"100%"},children:[(0,I.jsx)(r.A,{sx:{fontSize:"22px",fontWeight:500,margin:"0 0 20px 0"},color:"text.primary",children:(0,I.jsx)(f.A,{style:{cursor:"pointer"},onClick:()=>t.push("/sns/launches")})}),c?(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:"0 10px"},children:[(0,I.jsx)(p.A,{style:{width:"52px",height:"52px"},src:c.meta.logo}),(0,I.jsx)(r.A,{color:"text.primary",fontSize:24,fontWeight:500,children:c.meta.name})]}),(0,I.jsx)(r.A,{sx:{margin:"10px 0 0 0"},children:c.meta.description}),(0,I.jsxs)(r.A,{sx:{margin:"10px 0 0 0",display:"flex"},component:"div",children:[(0,I.jsx)(_.QW,{link:c.meta.url,children:c.meta.url}),(0,I.jsx)(_.QW,{link:"https://dashboard.internetcomputer.org/sns/".concat(e),children:"ICP Dashboard"})]})]}),(0,I.jsxs)(i.A,{sx:{display:"flex",gap:"0 20px",margin:"20px 0 0 0","@media(max-width: 980px)":{flexDirection:"column",gap:"20px 0"}},children:[(0,I.jsx)(A,{ledger_id:l,swap_id:S,tokenInfo:v,saleParameters:g,swapInitArgs:y}),(0,I.jsx)(tt,{ledger_id:l,swap_id:S,tokenInfo:v,saleParameters:g,swapInitArgs:y})]})]}):(0,I.jsxs)(_.FO,{children:[(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{}),(0,I.jsx)("div",{})]})]})})})}},14754:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,i="millisecond",r="second",s="minute",o="hour",a="day",c="week",d="month",l="quarter",u="year",_="date",p="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},S={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(i,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,d),s=n-r<0,o=e.clone().add(i+(s?-1:1),d);return+(-(i+(n-r)/(s?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:u,w:c,d:a,D:_,h:o,m:s,s:r,ms:i,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",g={};g[v]=h;var y="$isDayjsObject",N=function(t){return t instanceof O||!(!t||!t[y])},j=function t(e,n,i){var r;if(!e)return v;if("string"==typeof e){var s=e.toLowerCase();g[s]&&(r=s),n&&(g[s]=n,r=s);var o=e.split("-");if(!r&&o.length>1)return t(o[0])}else{var a=e.name;g[a]=e,r=a}return!i&&r&&(v=r),r||!i&&v},E=function(t,e){if(N(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},I=S;I.l=j,I.i=N,I.w=function(t,e){return E(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function h(t){this.$L=j(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[y]=!0}var m=h.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(I.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(x);if(i){var r=i[2]-1||0,s=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return!(this.$d.toString()===p)},m.isSame=function(t,e){var n=E(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return E(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<E(t)},m.$g=function(t,e,n){return I.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,i=!!I.u(e)||e,l=I.p(t),p=function(t,e){var r=I.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?r:r.endOf(a)},x=function(t,e){return I.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},f=this.$W,h=this.$M,m=this.$D,S="set"+(this.$u?"UTC":"");switch(l){case u:return i?p(1,0):p(31,11);case d:return i?p(1,h):p(0,h+1);case c:var v=this.$locale().weekStart||0,g=(f<v?f+7:f)-v;return p(i?m-g:m+(6-g),h);case a:case _:return x(S+"Hours",0);case o:return x(S+"Minutes",1);case s:return x(S+"Seconds",2);case r:return x(S+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,c=I.p(t),l="set"+(this.$u?"UTC":""),p=(n={},n[a]=l+"Date",n[_]=l+"Date",n[d]=l+"Month",n[u]=l+"FullYear",n[o]=l+"Hours",n[s]=l+"Minutes",n[r]=l+"Seconds",n[i]=l+"Milliseconds",n)[c],x=c===a?this.$D+(e-this.$W):e;if(c===d||c===u){var f=this.clone().set(_,1);f.$d[p](x),f.init(),this.$d=f.set(_,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](x);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[I.p(t)]()},m.add=function(i,l){var _,p=this;i=Number(i);var x=I.p(l),f=function(t){var e=E(p);return I.w(e.date(e.date()+Math.round(t*i)),p)};if(x===d)return this.set(d,this.$M+i);if(x===u)return this.set(u,this.$y+i);if(x===a)return f(1);if(x===c)return f(7);var h=(_={},_[s]=e,_[o]=n,_[r]=t,_)[x]||1,m=this.$d.getTime()+i*h;return I.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=I.z(this),s=this.$H,o=this.$m,a=this.$M,c=n.weekdays,d=n.months,l=n.meridiem,u=function(t,n,r,s){return t&&(t[n]||t(e,i))||r[n].slice(0,s)},_=function(t){return I.s(s%12||12,t,"0")},x=l||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(f,(function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return I.s(e.$y,4,"0");case"M":return a+1;case"MM":return I.s(a+1,2,"0");case"MMM":return u(n.monthsShort,a,d,3);case"MMMM":return u(d,a);case"D":return e.$D;case"DD":return I.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return u(n.weekdaysMin,e.$W,c,2);case"ddd":return u(n.weekdaysShort,e.$W,c,3);case"dddd":return c[e.$W];case"H":return String(s);case"HH":return I.s(s,2,"0");case"h":return _(1);case"hh":return _(2);case"a":return x(s,o,!0);case"A":return x(s,o,!1);case"m":return String(o);case"mm":return I.s(o,2,"0");case"s":return String(e.$s);case"ss":return I.s(e.$s,2,"0");case"SSS":return I.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,_,p){var x,f=this,h=I.p(_),m=E(i),S=(m.utcOffset()-this.utcOffset())*e,v=this-m,g=function(){return I.m(f,m)};switch(h){case u:x=g()/12;break;case d:x=g();break;case l:x=g()/3;break;case c:x=(v-S)/6048e5;break;case a:x=(v-S)/864e5;break;case o:x=v/n;break;case s:x=v/e;break;case r:x=v/t;break;default:x=v}return p?x:I.a(x)},m.daysInMonth=function(){return this.endOf(d).$D},m.$locale=function(){return g[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=j(t,e,!0);return i&&(n.$L=i),n},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},h}(),A=O.prototype;return E.prototype=A,[["$ms",i],["$s",r],["$m",s],["$H",o],["$W",a],["$M",d],["$y",u],["$D",_]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),E.extend=function(t,e){return t.$i||(t(e,O,E),t.$i=!0),E},E.locale=j,E.isDayjs=N,E.unix=function(t){return E(1e3*t)},E.en=g[v],E.Ls=g,E.p={},E}()},67694:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var i=n(53248),r=n(59265),s=n.n(r);function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o.apply(this,arguments)}function a(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=(0,i.forwardRef)((function(t,e){var n=t.color,r=void 0===n?"currentColor":n,s=t.size,c=void 0===s?24:s,d=a(t,["color","size"]);return i.createElement("svg",o({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),i.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),i.createElement("polyline",{points:"12 19 5 12 12 5"}))}));c.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},c.displayName="ArrowLeft";const d=c},53199:(t,e,n)=>{"use strict";var i,r,s,o;n.d(e,{Bd:()=>s,aH:()=>i,kh:()=>a,po:()=>o,xS:()=>r}),function(t){t[t.Unspecified=0]="Unspecified",t[t.Pending=1]="Pending",t[t.Open=2]="Open",t[t.Committed=3]="Committed",t[t.Aborted=4]="Aborted",t[t.Adopted=5]="Adopted"}(i||(i={})),function(t){t[t.Unspecified=0]="Unspecified",t[t.Yes=1]="Yes",t[t.No=2]="No"}(r||(r={})),function(t){t[t.PROPOSAL_DECISION_STATUS_UNSPECIFIED=0]="PROPOSAL_DECISION_STATUS_UNSPECIFIED",t[t.PROPOSAL_DECISION_STATUS_OPEN=1]="PROPOSAL_DECISION_STATUS_OPEN",t[t.PROPOSAL_DECISION_STATUS_REJECTED=2]="PROPOSAL_DECISION_STATUS_REJECTED",t[t.PROPOSAL_DECISION_STATUS_ADOPTED=3]="PROPOSAL_DECISION_STATUS_ADOPTED",t[t.PROPOSAL_DECISION_STATUS_EXECUTED=4]="PROPOSAL_DECISION_STATUS_EXECUTED",t[t.PROPOSAL_DECISION_STATUS_FAILED=5]="PROPOSAL_DECISION_STATUS_FAILED"}(s||(s={})),function(t){t[t.NEURON_PERMISSION_TYPE_UNSPECIFIED=0]="NEURON_PERMISSION_TYPE_UNSPECIFIED",t[t.NEURON_PERMISSION_TYPE_CONFIGURE_DISSOLVE_STATE=1]="NEURON_PERMISSION_TYPE_CONFIGURE_DISSOLVE_STATE",t[t.NEURON_PERMISSION_TYPE_MANAGE_PRINCIPALS=2]="NEURON_PERMISSION_TYPE_MANAGE_PRINCIPALS",t[t.NEURON_PERMISSION_TYPE_SUBMIT_PROPOSAL=3]="NEURON_PERMISSION_TYPE_SUBMIT_PROPOSAL",t[t.NEURON_PERMISSION_TYPE_VOTE=4]="NEURON_PERMISSION_TYPE_VOTE",t[t.NEURON_PERMISSION_TYPE_DISBURSE=5]="NEURON_PERMISSION_TYPE_DISBURSE",t[t.NEURON_PERMISSION_TYPE_SPLIT=6]="NEURON_PERMISSION_TYPE_SPLIT",t[t.NEURON_PERMISSION_TYPE_MERGE_MATURITY=7]="NEURON_PERMISSION_TYPE_MERGE_MATURITY",t[t.NEURON_PERMISSION_TYPE_DISBURSE_MATURITY=8]="NEURON_PERMISSION_TYPE_DISBURSE_MATURITY",t[t.NEURON_PERMISSION_TYPE_STAKE_MATURITY=9]="NEURON_PERMISSION_TYPE_STAKE_MATURITY",t[t.NEURON_PERMISSION_TYPE_MANAGE_VOTING_PERMISSION=10]="NEURON_PERMISSION_TYPE_MANAGE_VOTING_PERMISSION"}(o||(o={}));o.NEURON_PERMISSION_TYPE_CONFIGURE_DISSOLVE_STATE,o.NEURON_PERMISSION_TYPE_DISBURSE,o.NEURON_PERMISSION_TYPE_DISBURSE_MATURITY,o.NEURON_PERMISSION_TYPE_MANAGE_PRINCIPALS,o.NEURON_PERMISSION_TYPE_MANAGE_VOTING_PERMISSION,o.NEURON_PERMISSION_TYPE_SPLIT,o.NEURON_PERMISSION_TYPE_STAKE_MATURITY,o.NEURON_PERMISSION_TYPE_MERGE_MATURITY,o.NEURON_PERMISSION_TYPE_SUBMIT_PROPOSAL,o.NEURON_PERMISSION_TYPE_UNSPECIFIED,o.NEURON_PERMISSION_TYPE_VOTE;const a=[o.NEURON_PERMISSION_TYPE_SUBMIT_PROPOSAL,o.NEURON_PERMISSION_TYPE_VOTE]},57060:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var i=n(35479),r=n(37037),s=n(93864),o=n(53248),a=function(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function c(t,e){return(0,r.Pz)((0,o.useCallback)((()=>a(this,void 0,void 0,(function*(){if(t)return yield function(t){return a(this,void 0,void 0,(function*(){const e=(0,i.Pk)(yield(yield(0,s.fP)(t)).get_sale_parameters({})).data;return e?e.params[0]:void 0}))}(t)}))),[t]),e)}}}]);
//# sourceMappingURL=93.97c80ef7.chunk.js.map