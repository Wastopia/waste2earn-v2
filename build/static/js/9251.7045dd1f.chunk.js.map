{"version":3,"file":"static/js/9251.7045dd1f.chunk.js","mappings":"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","sources":["components/CurrenciesAvatar/index.tsx","components/CurrencyAvatar/index.tsx","components/swap/LiquidityPoolIntro.tsx","components/swap/PoolCard.tsx","components/swap/PositionRangeState.tsx","components/swap/SwapUIWrapper.tsx","constants/misc.ts","hooks/swap/usePositionFees.ts","hooks/swap/v2/usePosition.ts","hooks/swap/v2/usePositionFees.ts","components/swap/v2/CollectFeesModal.tsx","components/swap/v2/PositionItem.tsx","components/swap/HistoryRemoveModal.tsx","components/swap/HistoryPositionItem.tsx","components/swap/HistoryPositions.tsx","views/swap-v2/liquidity/Positions/index.tsx","views/swap-v2/liquidity/PoolList.tsx","views/swap-v2/liquidity/index.tsx","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.17_@emotion+react@11.11.4_@types+react@17.0.2_re_lyqavj3g7ctinxmr5j3myp6gz4/node_modules/@mui/icons-material/esm/KeyboardArrowDown.js","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.17_@emotion+react@11.11.4_@types+react@17.0.2_re_lyqavj3g7ctinxmr5j3myp6gz4/node_modules/@mui/icons-material/esm/KeyboardArrowUp.js","../node_modules/.pnpm/@mui+icons-material@5.5.0_@mui+material@5.15.17_@emotion+react@11.11.4_@types+react@17.0.2_re_lyqavj3g7ctinxmr5j3myp6gz4/node_modules/@mui/icons-material/esm/SyncAlt.js","../packages/swap-sdk/src/utils/getPriceOrderingFromPositionForUI.ts","../packages/swap-sdk/src/utils/invert.ts"],"sourcesContent":["import { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrencyAvatar from \"components/CurrencyAvatar\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = makeStyles(() => {\n  return {\n    floatLeft: {\n      float: \"left\",\n    },\n    avatarBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n      \"& .currencyB\": {\n        marginLeft: \"-8px\",\n        float: \"left\",\n      },\n      \"& .currencyA \": {\n        float: \"left\",\n      },\n    },\n  };\n});\n\nexport interface CurrenciesAvatarProps {\n  currencyA: Token | undefined;\n  currencyB: Token | undefined;\n  borderColor: string;\n  bgColor: string;\n  className?: any;\n  size?: string;\n}\n\nexport default function CurrenciesAvatar({\n  currencyA,\n  currencyB,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  size,\n}: CurrenciesAvatarProps) {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.avatarBox}>\n      <CurrencyAvatar\n        className=\"currencyA\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyA}\n        size={size}\n      />\n      <CurrencyAvatar\n        className=\"currencyB\"\n        borderColor={borderColor}\n        bgColor={bgColor}\n        currency={currencyB}\n        size={size}\n      />\n    </Box>\n  );\n}\n","import { Avatar } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Token } from \"@w2e/swap-sdk\";\n\nconst useStyles = ({ borderColor, size }: { borderColor: string; size?: string | undefined }) =>\n  makeStyles(() => {\n    return {\n      avatar: {\n        width: size || \"24px\",\n        height: size || \"24px\",\n        border: `1px solid ${borderColor}`,\n      },\n    };\n  });\n\nexport interface CurrencyAvatarProps {\n  currency: Token | undefined | null;\n  borderColor?: string;\n  bgColor?: string;\n  className?: string;\n  size?: string;\n}\n\nexport default function CurrencyAvatar({\n  currency,\n  borderColor = \"#ffffff\",\n  bgColor = \"#97a4ef\",\n  className,\n  size,\n}: CurrencyAvatarProps) {\n  const classes = useStyles({ borderColor, size })();\n\n  return (\n    <Avatar className={`${classes.avatar} ${className || \"\"}`} sx={{ bgcolor: bgColor }} src={currency?.logo}>\n      &nbsp;\n    </Avatar>\n  );\n}\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Box, Button, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { MainCard } from \"components/index\";\n\nconst useStyle = makeStyles(() => {\n  return {\n    button: {\n      width: \"230px\",\n      height: \"48px\",\n    },\n  };\n});\n\nexport default function LiquidityPoolIntro({ version }: { version?: \"v2\" | \"v3\" }) {\n  const classes = useStyle();\n  const history = useHistory();\n\n  const loadAddLiquidity = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(\"/swap/v2/liquidity/add\");\n    } else {\n      history.push(\"/swap/liquidity/add\");\n    }\n  }, [history]);\n\n  return (\n    <MainCard level={1} sx={{ height: \"244px\" }} className=\"lightGray200\">\n      <Typography variant=\"h3\" align=\"center\" color=\"text.primary\">\n        <Trans>Liquidity Pool</Trans>\n      </Typography>\n      <Box mt={2}>\n        <Typography fontSize={16} align=\"center\">\n          <Trans>\n            80% of the trading fees are rewarded to the liquidity providers, and the remaining 20% of the trading fees\n            are put into the ICS Repurchase-and-Burn Pool.\n          </Trans>\n        </Typography>\n      </Box>\n      <Grid container mt={4} justifyContent=\"center\">\n        <Grid item>\n          <Button className={classes.button} variant=\"contained\" onClick={loadAddLiquidity}>\n            <Trans>Add Liquidity</Trans>\n          </Button>\n        </Grid>\n      </Grid>\n    </MainCard>\n  );\n}\n","import { useCallback } from \"react\";\nimport { Box, Grid, Typography } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { useToken } from \"hooks/useCurrency\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport { useHistory } from \"react-router-dom\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { formatDollarAmount } from \"@w2e/utils\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    topBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n    },\n    floatLeft: {\n      float: \"left\",\n    },\n    listItem: {\n      height: \"140px\",\n      padding: \"18px\",\n      borderRadius: `${theme.radius}px`,\n      cursor: \"pointer\",\n    },\n    poolName: {\n      margin: \"0 8px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n        fontWeight: 700,\n      },\n    },\n    feeAmount: {\n      padding: \"2px 4px\",\n      borderRadius: \"4px\",\n      \"& .MuiTypography-root\": {\n        color: \"#fff\",\n      },\n    },\n    poolData: {\n      marginTop: \"28px\",\n    },\n  };\n});\n\nexport interface PoolCardProps {\n  token0: string;\n  token1: string;\n  fee: bigint;\n  tvlUSD: string | number;\n  totalVolumeUSD: string | number;\n  version?: \"v2\" | \"v3\";\n  token0Symbol?: string;\n  token1Symbol?: string;\n}\n\nexport default function PoolCard({\n  token0,\n  token1,\n  fee,\n  totalVolumeUSD,\n  tvlUSD,\n  token0Symbol,\n  token1Symbol,\n  version,\n}: PoolCardProps) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [, currency0] = useToken(token0);\n  const [, currency1] = useToken(token1);\n\n  const handlePoolClick = useCallback(() => {\n    if (version === \"v2\") {\n      history.push(`/swap/v2/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    } else {\n      history.push(`/swap/liquidity/add/${token0}/${token1}/${Number(fee)}`);\n    }\n  }, [history]);\n\n  return (\n    <Box className={`${classes.listItem} list-item`} onClick={handlePoolClick}>\n      <Box className=\"list-item-color-box\" />\n      <Grid container alignItems=\"center\" className={`${classes.topBox}`}>\n        <CurrenciesAvatar\n          className={classes.floatLeft}\n          currencyA={currency0}\n          currencyB={currency1}\n          borderColor=\"transparent\"\n          bgColor=\"transparent\"\n        />\n        <Box className={`${classes.poolName} ${classes.floatLeft}`}>\n          <Typography>{`${token0Symbol ?? currency0?.symbol ?? \"--\"}/${token1Symbol ?? currency1?.symbol ?? \"--\"\n            }`}</Typography>\n        </Box>\n        <Box className={`${classes.feeAmount} feeAmount ${classes.floatLeft}`}>\n          <Typography>{feeAmountToPercentage(Number(fee))}</Typography>\n        </Box>\n      </Grid>\n      <Grid container className={classes.poolData}>\n        <Grid container flexDirection=\"column\" item xs={6}>\n          <Grid item container justifyContent=\"flex-start\">\n            <Typography className=\"title\">\n              <Trans>TVL</Trans>\n            </Typography>\n          </Grid>\n          <Grid item mt={1} container justifyContent=\"flex-start\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(tvlUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid container item xs={6} flexDirection=\"column\" justifyContent=\"flex-end\">\n          <Grid item container justifyContent=\"flex-end\">\n            <Typography className=\"title\">\n              <Trans>Total Volume</Trans>\n            </Typography>\n          </Grid>\n          <Grid mt={1} item container justifyContent=\"flex-end\">\n            <Typography className=\"value\" color=\"#ffffff\" fontWeight={700} fontSize={16}>\n              {formatDollarAmount(totalVolumeUSD)}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n","import { Box, Typography, SvgIcon } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Trans } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\n\nconst useStyle = makeStyles((theme: Theme) => {\n  return {\n    wrapper: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"24px\",\n      padding: \"0 9px\",\n      borderRadius: \"8px\",\n\n      \"& .MuiTypography-root\": {\n        fontSize: \"12px\",\n        fontWeight: 500,\n      },\n\n      \"&.inRange\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.closed\": {\n        background: theme.colors.darkPrimary400,\n      },\n\n      \"&.outOfRange\": {\n        background: \"#FFC107\",\n        \"& .MuiTypography-root\": {\n          color: theme.colors.darkLevel1,\n          marginLeft: \"3px\",\n        },\n      },\n    },\n  };\n});\n\nfunction Marker(props: any) {\n  return (\n    <SvgIcon width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" {...props}>\n      <path\n        d=\"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z\"\n        fill={props.color ? props.color : \"#111936\"}\n      />\n    </SvgIcon>\n  );\n}\n\nfunction Closed() {\n  const classes = useStyle();\n\n  return (\n    <Box component=\"span\" className={`${classes.wrapper} closed`}>\n      <Marker fontSize=\"12px\" color=\"#fff\" />\n\n      <Typography color=\"#ffffff\" sx={{ marginLeft: \"3px\" }}>\n        <Trans>Closed</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction OutOfRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} outOfRange`}>\n      <Marker fontSize=\"12px\" />\n\n      <Typography>\n        <Trans>Out of range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nfunction InRange() {\n  const classes = useStyle();\n\n  return (\n    <Box className={`${classes.wrapper} inRange`}>\n      <Box\n        component=\"span\"\n        sx={{ background: \"#54C081\", width: \"8px\", height: \"8px\", borderRadius: \"50%\", marginRight: \"8px\" }}\n      />\n      <Typography color=\"#ffffff\">\n        <Trans>In range</Trans>\n      </Typography>\n    </Box>\n  );\n}\n\nexport interface PositionRangeStateProps {\n  outOfRange?: boolean | undefined;\n  closed?: boolean | undefined;\n}\n\nexport default function PositionRangeState({ outOfRange, closed }: PositionRangeStateProps) {\n  return closed ? <Closed /> : outOfRange ? <OutOfRange /> : <InRange />;\n}\n","import { Box, Typography, Grid } from \"@mui/material\";\nimport { t } from \"@lingui/macro\";\nimport { Wrapper, TabPanel } from \"components/index\";\nimport React from \"react\";\nimport { INFO_URL } from \"constants/index\";\n\nfunction LinkIcon() {\n  return (\n    <svg width=\"6\" height=\"7\" viewBox=\"0 0 6 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M4.09619 1.5H0.303301V0.5H5.3033H5.8033V1V6H4.8033V2.20711L0.707107 6.3033L0 5.59619L4.09619 1.5Z\"\n        fill=\"#4F5A84\"\n      />\n    </svg>\n  );\n}\n\ntype Button = {\n  id: number | string;\n  value: React.ReactNode;\n  path?: string;\n  key: string;\n};\n\nfunction SwapWrapper({ children, buttons }: { children: React.ReactNode; buttons: Button[] }) {\n  return (\n    <Wrapper>\n      <TabPanel tabs={buttons} />\n      <Box mt={4}>{children}</Box>\n    </Wrapper>\n  );\n}\n\nexport function SwapV2Wrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 3, value: t`Wrap`, path: \"/swap/v2/wrap\", key: \"/wrap\" },\n    {\n      id: 2,\n      key: \"/swap/v2/liquidity\",\n      value: t`Liquidity V2`,\n      path: \"/swap/v2/liquidity\",\n    },\n    {\n      id: 4,\n      key: \"swap-v3\",\n      value: (\n        <Grid container>\n          <Typography\n            sx={{\n              fontWeight: 600,\n              \"@media (max-width: 640px)\": {\n                fontSize: \"12px\",\n              },\n            }}\n          >\n            Exchange\n          </Typography>\n          <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n            <LinkIcon />\n          </Box>\n        </Grid>\n      ),\n      path: \"/swap\",\n    },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n\nexport default function _SwapWrapper({ children }: { children: React.ReactNode }) {\n  const buttons = [\n    { id: 1, value: t`Swap V3`, path: \"/swap\", key: \"/swap\" },\n    {\n      id: 2,\n      key: \"/swap/liquidity\",\n      value: t`Liquidity`,\n      path: \"/swap/liquidity\",\n    },\n    {\n      id: 3,\n      key: \"info\",\n      value: (\n        <Grid container>\n          <Typography>Info</Typography>\n          <Box sx={{ margin: \"0 0 0 3px\", position: \"relative\", top: \"-4px\" }}>\n            <LinkIcon />\n          </Box>\n        </Grid>\n      ),\n      link: INFO_URL,\n    },\n  ];\n\n  return <SwapWrapper buttons={buttons}>{children}</SwapWrapper>;\n}\n","import { Percent } from \"@w2e/swap-sdk\";\nimport { JSBI } from \"utils/index\";\n\nexport const ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\nexport const NetworkContextName = \"NETWORK\";\n\n// 30 minutes, denominated in seconds\nexport const DEFAULT_DEADLINE_FROM_NOW = 60 * 30;\nexport const L2_DEADLINE_FROM_NOW = 60 * 5;\n\n// used for rewards deadlines\nexport const BIG_INT_SECONDS_IN_WEEK = JSBI.BigInt(60 * 60 * 24 * 7);\n\nexport const BIG_INT_ZERO = JSBI.BigInt(0);\n\n// one basis JSBI.BigInt\nconst BIPS_BASE = JSBI.BigInt(10000);\nexport const ONE_BIPS = new Percent(JSBI.BigInt(1), BIPS_BASE);\n\n// used for warning states\nexport const ALLOWED_PRICE_IMPACT_LOW: Percent = new Percent(JSBI.BigInt(100), BIPS_BASE); // 1%\nexport const ALLOWED_PRICE_IMPACT_MEDIUM: Percent = new Percent(JSBI.BigInt(300), BIPS_BASE); // 3%\nexport const ALLOWED_PRICE_IMPACT_HIGH: Percent = new Percent(JSBI.BigInt(500), BIPS_BASE); // 5%\n// if the price slippage exceeds this number, force the user to type 'confirm' to execute\nexport const PRICE_IMPACT_WITHOUT_FEE_CONFIRM_MIN: Percent = new Percent(JSBI.BigInt(1000), BIPS_BASE); // 10%\n// for non expert mode disable swaps above this\nexport const BLOCKED_PRICE_IMPACT_NON_EXPERT: Percent = new Percent(JSBI.BigInt(1500), BIPS_BASE); // 15%\n\nexport const BETTER_TRADE_LESS_HOPS_THRESHOLD = new Percent(JSBI.BigInt(50), BIPS_BASE);\n\nexport const ZERO_PERCENT = new Percent(\"0\");\nexport const ONE_HUNDRED_PERCENT = new Percent(\"1\");\n\nexport const MaxUint128 = JSBI.subtract(JSBI.exponentiate(JSBI.BigInt(2), JSBI.BigInt(128)), JSBI.BigInt(1));\n","import { useMemo } from \"react\";\nimport { usePositionFee } from \"@w2e/hooks\";\n\nexport function usePositionFees(\n  canisterId: string | undefined,\n  positionId: bigint | undefined,\n  refresh?: number | boolean,\n) {\n  const { result } = usePositionFee(canisterId, positionId, refresh);\n\n  return useMemo(() => {\n    if (!result)\n      return {\n        amount0: undefined,\n        amount1: undefined,\n      };\n\n    return {\n      amount0: result.tokensOwed0,\n      amount1: result.tokensOwed1,\n    };\n  }, [result]);\n}\n","import { Position, Pool } from \"@w2e/swap-sdk\";\nimport { usePool, PoolState, usePoolV1 } from \"hooks/swap/v2/usePools\";\nimport { useToken } from \"hooks/useCurrency\";\nimport { PositionResult, UserPosition } from \"types/swapv2\";\n\nexport function usePositionInfo(positionDetails: PositionResult | UserPosition | undefined | null): {\n  loading: boolean;\n  position: Position | undefined;\n  pool: Pool | undefined;\n} {\n  const [, currency0] = useToken(positionDetails?.token0);\n  const [, currency1] = useToken(positionDetails?.token1);\n\n  const [poolState, pool] = usePool(\n    currency0 ?? undefined,\n    currency1 ?? undefined,\n    positionDetails?.fee ? Number(positionDetails.fee) : undefined,\n  );\n\n  let position: Position | undefined;\n  if (pool && positionDetails) {\n    position = new Position({\n      pool,\n      liquidity: positionDetails.liquidity.toString(),\n      tickLower: Number(positionDetails.tickLower),\n      tickUpper: Number(positionDetails.tickUpper),\n    });\n  }\n\n  return {\n    loading: poolState === PoolState.LOADING,\n    position,\n    pool: pool ?? undefined,\n  };\n}\n\nexport function usePositionInfoV1(positionDetails: PositionResult | UserPosition | undefined | null): {\n  loading: boolean;\n  position: Position | undefined;\n  pool: Pool | undefined;\n} {\n  const [, currency0] = useToken(positionDetails?.token0);\n  const [, currency1] = useToken(positionDetails?.token1);\n\n  const [poolState, pool] = usePoolV1(\n    currency0 ?? undefined,\n    currency1 ?? undefined,\n    positionDetails?.fee ? Number(positionDetails.fee) : undefined,\n  );\n\n  let position: Position | undefined;\n  if (pool && positionDetails) {\n    position = new Position({\n      pool,\n      liquidity: positionDetails.liquidity.toString(),\n      tickLower: Number(positionDetails.tickLower),\n      tickUpper: Number(positionDetails.tickUpper),\n    });\n  }\n\n  return {\n    loading: poolState === PoolState.LOADING,\n    position,\n    pool: pool ?? undefined,\n  };\n}\n","import { useMemo } from \"react\";\nimport { usePositionFeesCall } from \"hooks/swap/v2/useSwapCalls\";\n\nexport function usePositionFees(positionId: bigint | string | number | undefined, invalid: boolean, reload?: boolean) {\n  const { result } = usePositionFeesCall(positionId, invalid, reload);\n\n  return useMemo(() => {\n    if (!result)\n      return {\n        amount0: undefined,\n        amount1: undefined,\n      };\n\n    return {\n      amount0: result.amount0,\n      amount1: result.amount1,\n    };\n  }, [result]);\n}\n","import { Box, Grid, Typography, CircularProgress } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport SwapModal from \"components/modal/swap\";\nimport { Trans, t } from \"@lingui/macro\";\nimport { Theme } from \"@mui/material/styles\";\nimport { BigNumber } from \"@w2e/utils\";\nimport { Token, CurrencyAmount } from \"@w2e/swap-sdk\";\nimport Button from \"components/authentication/ButtonConnector\";\nimport { toFormat } from \"utils/index\";\nimport { TokenImage } from \"components/index\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  feeBox: {\n    padding: \"16px 16px\",\n    borderRadius: \"12px\",\n    background: theme.palette.background.level3,\n  },\n}));\n\nexport interface CollectFeeModalProps {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  token0: Token | undefined;\n  token1: Token | undefined;\n  loading: boolean;\n  currencyFeeAmount0: CurrencyAmount<Token> | undefined;\n  currencyFeeAmount1: CurrencyAmount<Token> | undefined;\n}\n\nexport default function CollectFeesModal({\n  open,\n  onClose,\n  onConfirm,\n  token0,\n  token1,\n  loading,\n  currencyFeeAmount0,\n  currencyFeeAmount1,\n}: CollectFeeModalProps) {\n  const classes = useStyles();\n\n  return (\n    <SwapModal open={open} onClose={onClose} title={t`Claim fees`}>\n      <>\n        <Box className={classes.feeBox}>\n          <Grid container alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token0?.logo} tokenId={token0?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token0?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount0 ? toFormat(new BigNumber(currencyFeeAmount0.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid container mt={2} alignItems=\"center\">\n            <Grid item xs container alignItems=\"center\">\n              <Grid item mr={1}>\n                <TokenImage logo={token1?.logo} tokenId={token1?.address} />\n              </Grid>\n              <Grid item>\n                <Typography color=\"text.primary\">{token1?.symbol}</Typography>\n              </Grid>\n            </Grid>\n            <Grid item xs>\n              <Typography align=\"right\" color=\"text.primary\">\n                {currencyFeeAmount1 ? toFormat(new BigNumber(currencyFeeAmount1.toExact()).toFixed(8)) : \"--\"}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Box>\n        <Typography mt={1}>\n          <Trans>You can claim the liquidity incentive reward from the transaction according to your position.</Trans>\n        </Typography>\n        <Button\n          variant=\"contained\"\n          size=\"large\"\n          fullWidth\n          sx={{ marginTop: \"24px\" }}\n          onClick={onConfirm}\n          disabled={loading}\n          startIcon={loading ? <CircularProgress size={24} color=\"inherit\" /> : null}\n        >\n          {loading ? \"\" : t`Claim`}\n        </Button>\n      </>\n    </SwapModal>\n  );\n}\n","import React, { useState, memo, useCallback, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Typography, Grid, Chip, Button, useMediaQuery } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { KeyboardArrowDown, KeyboardArrowUp, SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport Loading from \"components/Loading\";\nimport { useCollectFeesCall } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePositionFees } from \"hooks/swap/v2/usePositionFees\";\nimport { useAccount } from \"store/global/hooks\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { MaxUint128 } from \"constants/misc\";\nimport { numberToString } from \"@w2e/utils\";\nimport BigNumber from \"bignumber.js\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme } from \"utils\";\nimport { useErrorTip, useSuccessTip, useLoadingTip } from \"hooks/useTips\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Identity as TypeIdentity } from \"types/global\";\nimport PositionStatus from \"components/swap/PositionRangeState\";\nimport { getLocaleMessage } from \"locales/services\";\n\nimport CollectFeesModal from \"./CollectFeesModal\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-of-type\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n  },\n}));\n\nexport const DetailItem = memo(\n  ({\n    label,\n    value,\n    convert,\n    onConvertClick,\n  }: {\n    label: React.ReactChild;\n    value: React.ReactChild | undefined;\n    convert?: boolean;\n    onConvertClick?: () => void;\n  }) => {\n    const theme = useTheme() as Theme;\n    const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n    return (\n      <Grid\n        container\n        sx={{\n          height: \"48px\",\n        }}\n        alignItems=\"center\"\n      >\n        <Grid item xs={4}>\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n        </Grid>\n        <Grid item xs={8} container justifyContent=\"flex-end\">\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n          {convert && (\n            <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  },\n);\n\nexport interface PositionDetailsProps {\n  positionId: number | bigint | string | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n}\n\nexport function PositionDetails({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n  const history = useHistory();\n  const account = useAccount();\n  const principal = useAccountPrincipal();\n  const theme = useTheme() as Theme;\n  const [openErrorTip] = useErrorTip();\n  const [openSuccessTip] = useSuccessTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n\n  const [collectFeesShow, setCollectFeesShow] = useState(false);\n  const [reloadPositionFee, setReloadPositionFee] = useState(false);\n\n  const noLiquidity = position?.liquidity.toString() === \"0\";\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const handleLoadRemoveLiquidity = useCallback(() => {\n    if (invalid) {\n      history.push(`/swap/v2/liquidity/decrease/${String(positionId)}?invalid=true`);\n      return;\n    }\n    history.push(`/swap/v2/liquidity/decrease/${String(positionId)}`);\n  }, [history, invalid, positionId]);\n\n  const handleLoadIncreaseLiquidity = useCallback(() => {\n    history.push(`/swap/v2/liquidity/increase/${String(positionId)}`);\n  }, [token0, token1]);\n\n  const handleCollectFee = useCallback(() => {\n    setCollectFeesShow(true);\n  }, [setCollectFeesShow]);\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(positionId, invalid, reloadPositionFee);\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || (!feeAmount0 && BigInt(0) !== feeAmount0)) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(feeAmount0));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || (!feeAmount1 && feeAmount1 !== BigInt(0))) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(feeAmount1));\n  }, [feeAmount1, token1]);\n\n  const collectFeesCall = useCollectFeesCall(invalid);\n\n  const onCollectConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!identity || loading || !principal || !positionId) return;\n\n      setCollectFeesShow(false);\n\n      const loadingTipKey = openLoadingTip(\n        `Claim ${new BigNumber(currencyFeeAmount0?.toExact() ?? 0)\n          .multipliedBy(0.8)\n          .toFixed(8)} ${token0?.symbol} and ${new BigNumber(currencyFeeAmount1?.toExact() ?? 0)\n            .multipliedBy(0.8)\n            .toFixed(8)} ${token1?.symbol}`,\n      );\n\n      const { status, message } = await collectFeesCall(identity, {\n        tokenId: BigInt(positionId),\n        recipient: principal,\n        amount0Max: MaxUint128.toString(),\n        amount1Max: MaxUint128.toString(),\n        internalCall: false,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Claimed successfully`);\n        setReloadPositionFee(!reloadPositionFee);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to claim`);\n      }\n    },\n    [account, setReloadPositionFee, reloadPositionFee, token0, token1, currencyFeeAmount0, currencyFeeAmount1],\n  );\n\n  const hasUnclaimedFees = useMemo(() => {\n    if (Number(feeAmount0) === 0 && Number(feeAmount1) === 0) return false;\n    return true;\n  }, [feeAmount0, feeAmount1]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  let buttonGridXS = 6;\n  if (!noLiquidity && hasUnclaimedFees && !invalid) {\n    buttonGridXS = 4;\n  }\n\n  if (matchDownSM) {\n    buttonGridXS = 12;\n  }\n\n  return (\n    <>\n      <Grid mt={1} className={classes.detailContainer} sx={{ display: show ? \"block\" : \"none\" }}>\n        <DetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n              : position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n              : position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0\n              ? inverted\n                ? pool?.priceOf(token1)\n                  ? `${pool?.priceOf(token1).toSignificant(6)} ${pairName}`\n                  : \"--\"\n                : pool?.priceOf(token0)\n                  ? `${pool?.priceOf(token0).toSignificant(6)} ${pairName}`\n                  : \"--\"\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Price Range`}\n          value={`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} - ${formatTickPrice(\n            priceUpper,\n            tickAtLimit,\n            Bound.UPPER,\n          )} ${pairName}`}\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Unclaimed fees`}\n          value={\n            currencyFeeAmount0 && currencyFeeAmount1\n              ? `${new BigNumber(currencyFeeAmount0.toExact())\n                .multipliedBy(0.8)\n                .toFixed(8)} ${token0?.symbol} and ${new BigNumber(currencyFeeAmount1.toExact())\n                  .multipliedBy(0.8)\n                  .toFixed(8)} ${token1?.symbol}`\n              : \"--\"\n          }\n        />\n        {showButtons && (\n          <Grid\n            container\n            mt={3}\n            justifyContent={noLiquidity || !hasUnclaimedFees ? \"flex-end\" : \"space-between\"}\n            spacing=\"20px\"\n            flexDirection={matchDownSM ? \"column\" : \"row\"}\n          >\n            {!noLiquidity && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleLoadRemoveLiquidity}>\n                  <Trans>Remove Liquidity</Trans>\n                </Button>\n              </Grid>\n            )}\n            {hasUnclaimedFees && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleCollectFee}>\n                  <Trans>Claim fees</Trans>\n                </Button>\n              </Grid>\n            )}\n            {!invalid ? (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"contained\" size=\"large\" onClick={handleLoadIncreaseLiquidity}>\n                  <Trans>Increase Liquidity</Trans>\n                </Button>\n              </Grid>\n            ) : null}\n          </Grid>\n        )}\n      </Grid>\n\n      <Identity onSubmit={onCollectConfirm}>\n        {({ submit, loading }: CallbackProps) => (\n          <CollectFeesModal\n            open={collectFeesShow}\n            token0={token0}\n            token1={token1}\n            currencyFeeAmount0={currencyFeeAmount0}\n            currencyFeeAmount1={currencyFeeAmount1}\n            onClose={() => setCollectFeesShow(false)}\n            onConfirm={submit}\n            loading={loading}\n          />\n        )}\n      </Identity>\n    </>\n  );\n}\n\nexport interface PositionItemProps {\n  positionId: number | bigint | string | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n}\n\nexport default function PositionItem({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n}: PositionItemProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const [detailShow, setDetailShow] = useState<boolean | undefined>(undefined);\n\n  const handleToggleShow = useCallback(() => {\n    if (!position) return;\n    setDetailShow(!detailShow);\n  }, [detailShow, setDetailShow, position]);\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  return (\n    <>\n      <Grid className={classes.positionContainer} container alignItems=\"center\" onClick={handleToggleShow}>\n        {!position && <Loading loading={!position} circularSize={28} />}\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#273155\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid container alignItems=\"center\">\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n            <Grid item ml={matchDownMD ? \"5px\" : \"10px\"}>\n              <Grid container alignItems=\"center\">\n                {detailShow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {typeof detailShow !== \"boolean\" ? null : (\n        <PositionDetails\n          position={position}\n          positionId={positionId}\n          invalid={invalid}\n          showButtons={showButtons}\n          manuallyInverted={manuallyInverted}\n          setManuallyInverted={setManuallyInverted}\n          show={detailShow}\n        />\n      )}\n    </>\n  );\n}\n","import { memo } from \"react\";\nimport { Box, Typography, Grid, Button } from \"@mui/material\";\nimport SwapModal from \"components/modal/swap\";\nimport { BURN_FIELD } from \"constants/swap\";\nimport { Trans } from \"@lingui/macro\";\nimport { Token } from \"@w2e/swap-sdk\";\nimport { TokenImage } from \"components/index\";\n\nexport default memo(\n  ({\n    open,\n    onCancel,\n    onConfirm,\n    formattedAmounts,\n    currencyA,\n    currencyB,\n  }: {\n    open: boolean;\n    onCancel: () => void;\n    onConfirm: () => void;\n    currencyA: Token | undefined;\n    currencyB: Token | undefined;\n    formattedAmounts: { [key in BURN_FIELD]?: string };\n  }) => {\n    return (\n      <SwapModal open={open} onClose={onCancel} title=\"Remove Liquidity\">\n        <>\n          <Box mt={1}>\n            <Grid container mt={1} alignItems=\"center\">\n              <Grid item xs container alignItems=\"center\">\n                <Grid item mr={1}>\n                  <TokenImage tokenId={currencyA?.wrapped.address} logo={currencyA?.wrapped.logo} />\n                </Grid>\n                <Grid item>\n                  <Typography>{currencyA?.symbol}</Typography>\n                </Grid>\n              </Grid>\n              <Grid item xs>\n                <Typography align=\"right\">{formattedAmounts[BURN_FIELD.CURRENCY_A] ?? 0}</Typography>\n              </Grid>\n            </Grid>\n            <Grid container mt={2} alignItems=\"center\">\n              <Grid item xs container alignItems=\"center\">\n                <Grid item mr={1}>\n                  <TokenImage tokenId={currencyB?.wrapped.address} logo={currencyB?.wrapped.logo} />\n                </Grid>\n                <Grid item>\n                  <Typography>{currencyB?.symbol}</Typography>\n                </Grid>\n              </Grid>\n              <Grid item xs>\n                <Typography align=\"right\">{formattedAmounts[BURN_FIELD.CURRENCY_B] ?? 0}</Typography>\n              </Grid>\n            </Grid>\n          </Box>\n          <Button variant=\"contained\" size=\"large\" fullWidth sx={{ marginTop: \"40px\" }} onClick={onConfirm}>\n            <Trans>Remove</Trans>\n          </Button>\n        </>\n      </SwapModal>\n    );\n  },\n);\n","import React, { useState, memo, useCallback, useMemo } from \"react\";\nimport { Typography, Grid, Chip, Button, useMediaQuery } from \"@mui/material\";\nimport { makeStyles, useTheme } from \"@mui/styles\";\nimport CurrenciesAvatar from \"components/CurrenciesAvatar\";\nimport { KeyboardArrowDown, KeyboardArrowUp, SyncAlt as SyncAltIcon } from \"@mui/icons-material\";\nimport { formatTickPrice } from \"utils/swap/formatTickPrice\";\nimport useIsTickAtLimit from \"hooks/swap/useIsTickAtLimit\";\nimport { Bound, BURN_FIELD, slippageToPercent } from \"constants/swap\";\nimport { DEFAULT_PERCENT_SYMBOL, CurrencyAmountFormatDecimals } from \"constants/index\";\nimport { feeAmountToPercentage } from \"utils/swap/index\";\nimport Loading from \"components/Loading\";\nimport { useCollectFeesCall, decreaseV1Liquidity } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePositionFees } from \"hooks/swap/usePositionFees\";\nimport { useAccount } from \"store/global/hooks\";\nimport { useAccountPrincipal } from \"store/auth/hooks\";\nimport { MaxUint128 } from \"constants/misc\";\nimport { numberToString } from \"@w2e/utils\";\nimport { CurrencyAmount, Position, getPriceOrderingFromPositionForUI, useInverter } from \"@w2e/swap-sdk\";\nimport { isDarkTheme } from \"utils\";\nimport { useErrorTip, useSuccessTip, useLoadingTip } from \"hooks/useTips\";\nimport { Trans, t } from \"@lingui/macro\";\nimport Identity, { CallbackProps, SubmitLoadingProps } from \"components/Identity\";\nimport { Theme } from \"@mui/material/styles\";\nimport { Identity as TypeIdentity } from \"types/global\";\nimport { getLocaleMessage } from \"locales/services\";\nimport { useSlippageManager, useUserTransactionsDeadline } from \"store/swap/cache/hooks\";\nimport ConfirmRemoveLiquidityModal from \"./HistoryRemoveModal\";\nimport PositionStatus from \"./PositionRangeState\";\n\nimport CollectFeesModal from \"./v2/CollectFeesModal\";\n\nconst useStyle = makeStyles((theme: Theme) => ({\n  positionContainer: {\n    position: \"relative\",\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"24px 20px\",\n    marginTop: \"16px\",\n    cursor: \"pointer\",\n    overflow: \"hidden\",\n    \"&:first-child\": {\n      marginTop: \"0\",\n    },\n    [theme.breakpoints.down(\"md\")]: {\n      padding: \"16px 10px\",\n    },\n  },\n  detailContainer: {\n    backgroundColor: theme.palette.background.level3,\n    borderRadius: `${theme.radius}px`,\n    border: theme.palette.border.gray200,\n    padding: \"20px\",\n  },\n}));\n\nexport const DetailItem = memo(\n  ({\n    label,\n    value,\n    convert,\n    onConvertClick,\n  }: {\n    label: React.ReactChild;\n    value: React.ReactChild | undefined;\n    convert?: boolean;\n    onConvertClick?: () => void;\n  }) => {\n    const theme = useTheme() as Theme;\n    const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n    return (\n      <Grid\n        container\n        sx={{\n          height: \"48px\",\n        }}\n        alignItems=\"center\"\n      >\n        <Grid item xs={4}>\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})}>{label}</Typography>\n        </Grid>\n        <Grid item xs={8} container justifyContent=\"flex-end\">\n          <Typography {...(matchDownSM ? { fontSize: \"12px\" } : {})} color=\"textPrimary\">\n            {value}\n          </Typography>\n          {convert && (\n            <SyncAltIcon sx={{ fontSize: \"1rem\", marginLeft: \"6px\", cursor: \"pointer\" }} onClick={onConvertClick} />\n          )}\n        </Grid>\n      </Grid>\n    );\n  },\n);\n\nexport interface PositionDetailsProps {\n  positionId: bigint | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  manuallyInverted: boolean;\n  setManuallyInverted: (manuallyInverted: boolean) => void;\n  show: boolean | undefined;\n}\n\nexport function PositionDetails({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  manuallyInverted,\n  setManuallyInverted,\n  show,\n}: PositionDetailsProps) {\n  const classes = useStyle();\n  const account = useAccount();\n  const principal = useAccountPrincipal();\n  const theme = useTheme() as Theme;\n  const [openErrorTip] = useErrorTip();\n  const [openSuccessTip] = useSuccessTip();\n  const [openLoadingTip, closeLoadingTip] = useLoadingTip();\n\n  const [collectFeesShow, setCollectFeesShow] = useState(false);\n  const [reloadPositionFee, setReloadPositionFee] = useState(false);\n\n  const noLiquidity = position?.liquidity.toString() === \"0\";\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const [slippageTolerance] = useSlippageManager(\"burn\");\n  const transactionsDeadline = useUserTransactionsDeadline();\n\n  const handleCollectFee = useCallback(() => {\n    setCollectFeesShow(true);\n  }, [setCollectFeesShow]);\n\n  const _tickAtLimit = useIsTickAtLimit(feeAmount, tickLower, tickUpper);\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n\n  // handle manual inversion\n  const { priceLower, priceUpper, base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const tickAtLimit = useMemo(() => {\n    if (!inverted) return _tickAtLimit;\n\n    return {\n      [Bound.LOWER]: _tickAtLimit[Bound.UPPER] ? true : undefined,\n      [Bound.UPPER]: _tickAtLimit[Bound.LOWER] ? true : undefined,\n    };\n  }, [_tickAtLimit, inverted]);\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const pairName = useMemo(() => {\n    return `${currencyQuote?.symbol} per ${currencyBase?.symbol}`;\n  }, [currencyQuote, currencyBase]);\n\n  const { amount0: feeAmount0, amount1: feeAmount1 } = usePositionFees(\n    position?.pool.id,\n    positionId,\n    reloadPositionFee,\n  );\n\n  const currencyFeeAmount0 = useMemo(() => {\n    if (!token0 || !feeAmount0) return undefined;\n    return CurrencyAmount.fromRawAmount(token0, numberToString(feeAmount0));\n  }, [feeAmount0, token0]);\n\n  const currencyFeeAmount1 = useMemo(() => {\n    if (!token1 || !feeAmount1) return undefined;\n    return CurrencyAmount.fromRawAmount(token1, numberToString(feeAmount1));\n  }, [feeAmount1, token1]);\n\n  const collectFeesCall = useCollectFeesCall(invalid);\n\n  const onCollectConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!identity || loading || !principal || !positionId) return;\n\n      setCollectFeesShow(false);\n\n      const loadingTipKey = openLoadingTip(\n        `Claim ${currencyFeeAmount0?.toSignificant(6)} ${token0?.symbol} and ${currencyFeeAmount1?.toSignificant(\n          6,\n        )} ${token1?.symbol}`,\n      );\n\n      const { status, message } = await collectFeesCall(identity, {\n        tokenId: BigInt(positionId),\n        recipient: principal,\n        amount0Max: MaxUint128.toString(),\n        amount1Max: MaxUint128.toString(),\n        internalCall: false,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Claimed successfully`);\n        setReloadPositionFee(!reloadPositionFee);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to claim`);\n      }\n    },\n    [account, setReloadPositionFee, reloadPositionFee, token0, token1, currencyFeeAmount0, currencyFeeAmount1],\n  );\n\n  const hasUnclaimedFees = useMemo(() => {\n    if (Number(feeAmount0) === 0 && Number(feeAmount1) === 0) return false;\n    return true;\n  }, [feeAmount0, feeAmount1]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  let buttonGridXS = 6;\n  if (!noLiquidity && hasUnclaimedFees && !invalid) {\n    buttonGridXS = 4;\n  }\n\n  if (matchDownSM) {\n    buttonGridXS = 12;\n  }\n\n  const [confirmModalShow, setConfirmModalShow] = useState(false);\n\n  const handleConfirm = useCallback(\n    async (identity: TypeIdentity, { loading }: SubmitLoadingProps) => {\n      if (!position || !positionId || loading || !principal) {\n        return;\n      }\n\n      const loadingTipKey = openLoadingTip(`Remove ${token0?.symbol}/${token1?.symbol} liquidity`);\n      setConfirmModalShow(false);\n\n      const partialPosition = new Position({\n        pool: position.pool,\n        liquidity: position.liquidity,\n        tickLower: position.tickLower,\n        tickUpper: position.tickUpper,\n      });\n\n      const { amount0: amount0Min, amount1: amount1Min } = partialPosition.burnAmountsWithSlippage(\n        slippageToPercent(slippageTolerance),\n      );\n\n      const { status, message } = await decreaseV1Liquidity(identity, {\n        tokenId: BigInt(positionId),\n        liquidity: partialPosition.liquidity.toString(),\n        amount0Min: amount0Min.toString(),\n        amount1Min: amount1Min.toString(),\n        deadline: BigInt(transactionsDeadline),\n        recipient: principal,\n      });\n\n      closeLoadingTip(loadingTipKey);\n\n      if (status === \"ok\") {\n        openSuccessTip(t`Removed liquidity successfully`);\n      } else {\n        openErrorTip(getLocaleMessage(message) ?? t`Failed to remove liquidity`);\n      }\n    },\n    [position, slippageTolerance, positionId, transactionsDeadline, account],\n  );\n\n  const discountedAmount0 = position ? position.amount0.quotient : undefined;\n  const discountedAmount1 = position ? position.amount1.quotient : undefined;\n\n  const parsedAmounts = {\n    [BURN_FIELD.CURRENCY_A]:\n      token0 && discountedAmount0 ? CurrencyAmount.fromRawAmount(token0, discountedAmount0) : undefined,\n    [BURN_FIELD.CURRENCY_B]:\n      token1 && discountedAmount1 ? CurrencyAmount.fromRawAmount(token1, discountedAmount1) : undefined,\n  };\n\n  const formattedAmounts = {\n    [BURN_FIELD.CURRENCY_A]:\n      parsedAmounts[BURN_FIELD.CURRENCY_A]?.toFixed(\n        CurrencyAmountFormatDecimals(parsedAmounts[BURN_FIELD.CURRENCY_A]?.currency.decimals),\n      ) ?? \"\",\n    [BURN_FIELD.CURRENCY_B]:\n      parsedAmounts[BURN_FIELD.CURRENCY_B]?.toFixed(\n        CurrencyAmountFormatDecimals(parsedAmounts[BURN_FIELD.CURRENCY_B]?.currency.decimals),\n      ) ?? \"\",\n  };\n\n  return (\n    <>\n      <Grid mt={1} className={classes.detailContainer} sx={{ display: show ? \"block\" : \"none\" }}>\n        <DetailItem\n          label={t`${currencyQuote?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n              : position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`${currencyBase?.symbol} Amount`}\n          value={\n            inverted\n              ? position?.amount1.toFixed(CurrencyAmountFormatDecimals(position?.amount1.currency.decimals))\n              : position?.amount0.toFixed(CurrencyAmountFormatDecimals(position?.amount0.currency.decimals))\n          }\n        />\n        <DetailItem\n          label={t`Current Price`}\n          value={\n            !!token1 && !!token0\n              ? inverted\n                ? pool?.priceOf(token1)\n                  ? `${pool?.priceOf(token1).toSignificant(6)} ${pairName}`\n                  : \"--\"\n                : pool?.priceOf(token0)\n                  ? `${pool?.priceOf(token0).toSignificant(6)} ${pairName}`\n                  : \"--\"\n              : \"--\"\n          }\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Price Range`}\n          value={`${formatTickPrice(priceLower, tickAtLimit, Bound.LOWER)} - ${formatTickPrice(\n            priceUpper,\n            tickAtLimit,\n            Bound.UPPER,\n          )} ${pairName}`}\n          convert\n          onConvertClick={() => setManuallyInverted(!manuallyInverted)}\n        />\n        <DetailItem\n          label={t`Unclaimed fees`}\n          value={`${currencyFeeAmount0?.toExact() ?? 0} ${token0?.symbol} and ${currencyFeeAmount1?.toExact() ?? 0\n            } ${token1?.symbol}`}\n        />\n        {showButtons && (\n          <Grid\n            container\n            mt={3}\n            justifyContent={noLiquidity || !hasUnclaimedFees ? \"flex-end\" : \"space-between\"}\n            spacing=\"20px\"\n            flexDirection={matchDownSM ? \"column\" : \"row\"}\n          >\n            {!noLiquidity && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={() => setConfirmModalShow(true)}>\n                  <Trans>Remove Liquidity</Trans>\n                </Button>\n              </Grid>\n            )}\n            {hasUnclaimedFees && (\n              <Grid item xs={buttonGridXS}>\n                <Button fullWidth variant=\"outlined\" size=\"large\" onClick={handleCollectFee}>\n                  <Trans>Claim fees</Trans>\n                </Button>\n              </Grid>\n            )}\n          </Grid>\n        )}\n      </Grid>\n\n      {collectFeesShow ? (\n        <Identity onSubmit={onCollectConfirm}>\n          {({ submit, loading }: CallbackProps) => (\n            <CollectFeesModal\n              open={collectFeesShow}\n              token0={token0}\n              token1={token1}\n              currencyFeeAmount0={currencyFeeAmount0}\n              currencyFeeAmount1={currencyFeeAmount1}\n              onClose={() => setCollectFeesShow(false)}\n              onConfirm={submit}\n              loading={loading}\n            />\n          )}\n        </Identity>\n      ) : null}\n\n      {confirmModalShow && (\n        <Identity onSubmit={handleConfirm} fullScreenLoading>\n          {({ submit }: CallbackProps) => (\n            <ConfirmRemoveLiquidityModal\n              open={confirmModalShow}\n              onConfirm={submit}\n              onCancel={() => setConfirmModalShow(false)}\n              currencyA={token0}\n              currencyB={token1}\n              formattedAmounts={formattedAmounts}\n            />\n          )}\n        </Identity>\n      )}\n    </>\n  );\n}\n\nexport interface PositionItemProps {\n  positionId: bigint | undefined;\n  invalid?: boolean;\n  showButtons?: boolean;\n  position: Position | undefined;\n  closed: boolean;\n}\n\nexport default function PositionItem({\n  position,\n  showButtons,\n  positionId,\n  invalid = false,\n  closed,\n}: PositionItemProps) {\n  const classes = useStyle();\n  const theme = useTheme() as Theme;\n\n  const matchDownMD = useMediaQuery(theme.breakpoints.down(\"md\"));\n\n  const [detailShow, setDetailShow] = useState<boolean | undefined>(undefined);\n\n  const handleToggleShow = useCallback(() => {\n    if (!position) return;\n    setDetailShow(!detailShow);\n  }, [detailShow, setDetailShow, position]);\n\n  const { pool, tickLower, tickUpper } = position || {};\n  const { token0, token1, fee: feeAmount } = pool || {};\n\n  const pricesFromPosition = getPriceOrderingFromPositionForUI(position);\n  const [manuallyInverted, setManuallyInverted] = useState(false);\n\n  // handle manual inversion\n  const { base } = useInverter({\n    priceLower: pricesFromPosition?.priceLower,\n    priceUpper: pricesFromPosition?.priceUpper,\n    quote: pricesFromPosition?.quote,\n    base: pricesFromPosition?.base,\n    invert: manuallyInverted,\n  });\n\n  const inverted = token1 ? base?.equals(token1) : undefined;\n\n  const currencyQuote = inverted ? token0 : token1;\n  const currencyBase = inverted ? token1 : token0;\n\n  const outOfRange =\n    pool && (tickUpper || tickUpper === 0) && (tickLower || tickLower === 0)\n      ? pool.tickCurrent < tickLower || pool.tickCurrent >= tickUpper\n      : false;\n\n  return (\n    <>\n      <Grid className={classes.positionContainer} container alignItems=\"center\" onClick={handleToggleShow}>\n        {!position && <Loading loading={!position} circularSize={28} />}\n        <Grid item xs>\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <CurrenciesAvatar\n                currencyA={currencyBase}\n                currencyB={currencyQuote}\n                borderColor={isDarkTheme(theme) ? \"rgba(189, 200, 240, 0.4)\" : \"rgba(255, 255, 255, 0.4)\"}\n                bgColor={isDarkTheme(theme) ? \"#273155\" : \"#DADADA\"}\n                size={matchDownMD ? \"20px\" : \"24px\"}\n              />\n            </Grid>\n            <Grid item mx={1}>\n              <Typography color=\"textPrimary\" fontSize={matchDownMD ? 14 : 16} fontWeight={500}>\n                {currencyBase?.symbol}/{currencyQuote?.symbol}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Chip\n                label={feeAmount ? feeAmountToPercentage(feeAmount) : DEFAULT_PERCENT_SYMBOL}\n                sx={{\n                  borderRadius: \"8px\",\n                  height: matchDownMD ? \"22px\" : \"24px\",\n                  \"& span\": { padding: matchDownMD ? \"2px\" : \"5px\", fontSize: matchDownMD ? \"12px\" : \"14px\" },\n                  backgroundColor: isDarkTheme(theme) ? \"#4F5A84\" : \"#EFEFFF\",\n                }}\n              />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid container alignItems=\"center\">\n            <PositionStatus closed={closed} outOfRange={outOfRange} />\n            <Grid item ml={matchDownMD ? \"5px\" : \"10px\"}>\n              <Grid container alignItems=\"center\">\n                {detailShow ? <KeyboardArrowUp /> : <KeyboardArrowDown />}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {typeof detailShow !== \"boolean\" ? null : (\n        <PositionDetails\n          position={position}\n          positionId={positionId}\n          invalid={invalid}\n          showButtons={showButtons}\n          manuallyInverted={manuallyInverted}\n          setManuallyInverted={setManuallyInverted}\n          show={detailShow}\n        />\n      )}\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Box } from \"@mui/material\";\nimport PositionItemComponent from \"components/swap/HistoryPositionItem\";\nimport { usePositionInfoV1 } from \"hooks/swap/v2/usePosition\";\nimport { t } from \"@lingui/macro\";\nimport Modal from \"components/modal/swap\";\nimport { NoData } from \"components/index\";\nimport { UserPosition } from \"types/swapv2\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport { useUserV1Positions } from \"store/swapv2/liquidity/hooks\";\n\nfunction hasLiquidity(position: UserPosition | undefined) {\n  return position?.liquidity.toString() !== \"0\";\n}\n\nfunction PositionItem({ position: positionDetail }: { position: UserPosition | undefined }) {\n  const { position } = usePositionInfoV1(positionDetail);\n  const noLiquidity = !hasLiquidity(positionDetail);\n\n  return !noLiquidity ? (\n    <PositionItemComponent\n      position={position}\n      positionId={positionDetail?.id}\n      showButtons\n      invalid\n      closed={noLiquidity}\n    />\n  ) : null;\n}\n\nexport default function HistoryPositions({ open, onClose }: { open: boolean; onClose: () => void }) {\n  const { loading, result: userPositions } = useUserV1Positions();\n\n  const hasLiquidityPositions = useMemo(() => {\n    return userPositions.filter((position) => hasLiquidity(position)).length !== 0;\n  }, [userPositions]);\n\n  return (\n    <Modal open={open} title={t`Your History Positions`} onClose={onClose}>\n      <Box\n        sx={{\n          maxHeight: \"500px\",\n          overflow: \"auto\",\n        }}\n      >\n        {loading ? (\n          <LoadingRow>\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n            <div />\n          </LoadingRow>\n        ) : (\n          <>\n            {!hasLiquidityPositions || userPositions.length === 0 ? (\n              <Box mt={2}>\n                <NoData />\n              </Box>\n            ) : null}\n            <Box>\n              {userPositions.map((position, index) => (\n                <PositionItem key={position?.id ? String(position?.id) : index} position={position} />\n              ))}\n            </Box>\n          </>\n        )}\n      </Box>\n    </Modal>\n  );\n}\n","import { useCallback, useState, useMemo } from \"react\";\nimport { Typography, Box, Grid, Checkbox, useMediaQuery, useTheme } from \"@mui/material\";\nimport PositionItemComponent from \"components/swap/v2/PositionItem\";\nimport { usePositionInfo } from \"hooks/swap/v2/usePosition\";\nimport { useUserPositions, useQueryUserPositions } from \"store/swapv2/liquidity/hooks\";\nimport { Trans } from \"@lingui/macro\";\nimport HistoryPositions from \"components/swap/HistoryPositions\";\nimport { TextButton, NoData, MainCard, LoadingRow } from \"components/index\";\nimport { UserPosition } from \"types/swapv2\";\nimport { useClosedPositionManager } from \"store/swap/cache/hooks\";\n\nfunction hasLiquidity(position: UserPosition | undefined) {\n  return position?.liquidity?.toString() !== \"0\";\n}\n\nfunction PositionItem({\n  position: positionDetail,\n  showClosedPosition,\n}: {\n  position: UserPosition | undefined;\n  showClosedPosition?: boolean;\n}) {\n  const { position } = usePositionInfo(positionDetail);\n  const noLiquidity = !hasLiquidity(positionDetail);\n\n  return !showClosedPosition && noLiquidity ? null : (\n    <PositionItemComponent closed={noLiquidity} position={position} positionId={positionDetail?.id} showButtons />\n  );\n}\n\nexport default function Positions() {\n  const userPositions = useUserPositions();\n  const theme = useTheme();\n  const [open, setOpen] = useState(false);\n\n  const loading = useQueryUserPositions();\n\n  const [showClosedPosition, updateShowClosedPosition] = useClosedPositionManager();\n\n  const handleShowClosedPosition = useCallback(() => {\n    updateShowClosedPosition(!showClosedPosition);\n  }, [updateShowClosedPosition, showClosedPosition]);\n\n  const hasLiquidityPositions = useMemo(() => {\n    return userPositions.filter((position) => hasLiquidity(position)).length !== 0;\n  }, [userPositions]);\n\n  const matchDownSM = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  return (\n    <>\n      <Grid item xs={12} lg={6} sx={{ height: \"100%\" }}>\n        <MainCard level={1} className=\"lightGray200\">\n          <Box\n            sx={{\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 2fr\",\n              margin: \"0px 0px 16px 0\",\n            }}\n          >\n            <Box>\n              <Grid container alignItems=\"center\" sx={{ height: \"100%\" }}>\n                <Typography variant=\"h3\" color=\"textPrimary\">\n                  <Trans>Your Positions</Trans>\n                </Typography>\n              </Grid>\n            </Box>\n            <Box>\n              <Grid\n                container\n                justifyContent=\"flex-end\"\n                alignItems=\"center\"\n                sx={{\n                  cursor: \"pointer\",\n                  userSelect: \"none\",\n                }}\n              >\n                <Typography\n                  color=\"textPrimary\"\n                  component=\"span\"\n                  onClick={handleShowClosedPosition}\n                  sx={{\n                    ...(matchDownSM ? { fontSize: \"12px\" } : {}),\n                    marginRight: \"5px\",\n                  }}\n                >\n                  <Trans>Show closed positions</Trans>\n                </Typography>\n                <Checkbox\n                  sx={{ padding: \"0\" }}\n                  checked={showClosedPosition}\n                  onChange={({ target: { checked } }) => {\n                    updateShowClosedPosition(checked);\n                  }}\n                />\n              </Grid>\n            </Box>\n          </Box>\n          {loading ? (\n            <LoadingRow>\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n              <div />\n            </LoadingRow>\n          ) : (\n            <>\n              {(!hasLiquidityPositions && !showClosedPosition) || userPositions.length === 0 ? (\n                <Box mt={2}>\n                  <NoData />\n                </Box>\n              ) : null}\n              <Box>\n                {userPositions.map((position, index) => (\n                  <PositionItem\n                    key={position?.id ? String(position?.id) : index}\n                    position={position}\n                    showClosedPosition={showClosedPosition}\n                  />\n                ))}\n              </Box>\n            </>\n          )}\n        </MainCard>\n        {/* <Grid mt=\"10px\" container justifyContent=\"center\">\n          <TextButton onClick={() => setOpen(true)}>\n            <Trans>Your Invalid Positions?</Trans>\n          </TextButton>\n        </Grid> */}\n        {/* <Grid mt=\"10px\" container justifyContent=\"center\">\n          <TextButton onClick={() => setOpen(true)}>\n            <Trans>Your History Positions?</Trans>\n          </TextButton>\n        </Grid> */}\n        <TextButton sx={{ padding: \"0 0 0 20px\", margin: \"5px 0 0 0\" }} to=\"/swap/liquidity\">\n          <Trans>Check your positions in Swap V3</Trans>\n        </TextButton>\n      </Grid>\n      {open ? <HistoryPositions open={open} onClose={() => setOpen(false)} /> : null}\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useFourListedPools } from \"hooks/swap/v2/useSwapCalls\";\nimport { isDarkTheme } from \"utils/index\";\nimport { Theme } from \"@mui/material/styles\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport PoolCard from \"components/swap/PoolCard\";\n\nconst useStyles = makeStyles((theme: Theme) => {\n  const bgOpacity = isDarkTheme(theme) ? \"0.34\" : \"0.7\";\n\n  return {\n    wrapper: {\n      display: \"grid\",\n      gap: \"0 20px\",\n      gridTemplateColumns: \"repeat(4, 1fr)\",\n      overflow: \"hidden\",\n      width: \"100%\",\n      \"@media (max-width:1140px)\": {\n        gridGap: \"10px 10px\",\n        gridTemplateColumns: \"1fr 1fr\",\n      },\n      \"@media (max-width:640px)\": {\n        gridGap: \"10px 0\",\n        gridTemplateColumns: \"1fr\",\n      },\n      \"& .title\": {\n        color: \"rgba(255, 255, 255, 0.6)\",\n      },\n      \"& .value\": {\n        color: \"#ffffff\",\n      },\n    },\n    topBox: {\n      clear: \"both\",\n      overflow: \"hidden\",\n    },\n    listWrapper: {\n      \"& .list-item\": {\n        position: \"relative\",\n        overflow: \"hidden\",\n        border: \"1px solid rgba(255, 255, 255, 0.04)\",\n      },\n      \"& .list-item-color-box\": {\n        position: \"absolute\",\n        left: \"10px\",\n        bottom: \"7px\",\n        width: \"98px\",\n        height: \"98px\",\n        filter: \"blur(34px)\",\n        zIndex: \"-1\",\n      },\n      \"&:first-child\": {\n        \"& .list-item\": {\n          background: `rgba(80, 95, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#3644C2\",\n        },\n        \"& .feeAmount\": {\n          background: \"#4D5CA9\",\n        },\n      },\n      \"&:nth-child(2)\": {\n        \"& .list-item\": {\n          background: `rgba(101, 80, 186, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#5D0A9E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#654DA9\",\n        },\n      },\n      \"&:nth-child(3)\": {\n        \"& .list-item\": {\n          background: `rgba(45, 148, 243, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#0A609E\",\n        },\n        \"& .feeAmount\": {\n          background: \"#2D94F3\",\n        },\n      },\n      \"&:nth-child(4)\": {\n        \"& .list-item\": {\n          background: `rgba(162, 88, 145, ${bgOpacity})`,\n        },\n        \"& .list-item-color-box\": {\n          background: \"#9E0A8F\",\n        },\n        \"& .feeAmount\": {\n          background: \"#833780\",\n        },\n      },\n    },\n  };\n});\n\nexport default function PoolList() {\n  const classes = useStyles();\n\n  const { result: pools, loading } = useFourListedPools();\n\n  const poolList = useMemo(() => {\n    if (!pools) return [];\n\n    return pools\n      .filter((pool) => {\n        return pool.tvlUSD !== Infinity && pool.totalVolumeUSD !== Infinity;\n      })\n      .sort((a, b) => {\n        if (a.totalVolumeUSD > b.totalVolumeUSD) {\n          return -1;\n        }\n        return 1;\n      })\n      .filter((pool) => pool.feeTier === BigInt(3000))\n      .slice(0, 4);\n  }, [pools]);\n\n  return loading ? (\n    <LoadingRow>\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n      <div />\n    </LoadingRow>\n  ) : (\n    <Box className={classes.wrapper}>\n      {poolList.map((pool, index) => (\n        <Box className={classes.listWrapper} key={index}>\n          <PoolCard\n            token0={pool.token0Id}\n            token1={pool.token1Id}\n            token0Symbol={pool.token0Symbol}\n            token1Symbol={pool.token1Symbol}\n            tvlUSD={pool.tvlUSD}\n            totalVolumeUSD={pool.totalVolumeUSD}\n            fee={pool.feeTier}\n            version=\"v2\"\n          />\n        </Box>\n      ))}\n    </Box>\n  );\n}\n","import { useEffect } from \"react\";\nimport { Grid } from \"@mui/material\";\nimport { SwapV2Wrapper } from \"components/swap/SwapUIWrapper\";\nimport { useUpdatePoolTokenStandardCallback } from \"hooks/swap/v2/index\";\nimport { usePoolList } from \"hooks/swap/v2/useSwapCalls\";\nimport { usePoolStandardManager } from \"store/global/hooks\";\nimport LoadingRow from \"components/Loading/LoadingRow\";\nimport LiquidityPoolIntro from \"components/swap/LiquidityPoolIntro\";\nimport Positions from \"./Positions\";\nimport PoolList from \"./PoolList\";\n\nexport default function Liquidity() {\n  const [isInitialed, updatePoolStandardInitialed] = usePoolStandardManager();\n  const updatePoolTokenStandard = useUpdatePoolTokenStandardCallback();\n  const { pools } = usePoolList();\n\n  useEffect(() => {\n    const call = async () => {\n      if (pools && pools.length && !isInitialed) {\n        const calls: Promise<void>[] = [];\n\n        for (let i = 0; i < pools.length; i++) {\n          const pool = pools[i];\n\n          if (!!pool && !!pool?.pool) {\n            calls.push(updatePoolTokenStandard(pool.pool, pool.token0));\n            calls.push(updatePoolTokenStandard(pool.pool, pool.token1));\n          }\n        }\n\n        Promise.all(calls).finally(() => {\n          updatePoolStandardInitialed(true);\n        });\n      }\n    };\n\n    call();\n  }, [pools]);\n\n  return (\n    <SwapV2Wrapper>\n      {!isInitialed ? (\n        <LoadingRow>\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </LoadingRow>\n      ) : (\n        <>\n          <PoolList />\n          <Grid container mt={4} spacing={2}>\n            <Grid item xs={12} lg={6}>\n              <LiquidityPoolIntro version=\"v2\" />\n            </Grid>\n            <Positions />\n          </Grid>\n        </>\n      )}\n    </SwapV2Wrapper>\n  );\n}\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z\"\n}), 'KeyboardArrowUp');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"m18 12 4-4-4-4v3H3v2h15zM6 12l-4 4 4 4v-3h15v-2H6z\"\n}), 'SyncAlt');","import { Position } from \"../entities/position\";\n\nexport function getPriceOrderingFromPositionForUI(position: Position | undefined) {\n  if (!position) return {};\n\n  const token0 = position.amount0.currency;\n  const token1 = position.amount1.currency;\n\n  // if both prices are below 1, invert\n  if (position.token0PriceUpper.lessThan(1)) {\n    return {\n      priceLower: position.token0PriceUpper.invert(),\n      priceUpper: position.token0PriceLower.invert(),\n      quote: token0,\n      base: token1,\n    };\n  }\n\n  // otherwise, just return the default\n  return {\n    priceLower: position.token0PriceLower,\n    priceUpper: position.token0PriceUpper,\n    quote: token1,\n    base: token0,\n  };\n}\n","import { Token } from \"../core/entities/token\";\nimport { Price } from \"../core/entities/fractions/price\";\n\ninterface useInverterProps {\n  priceLower: Price<Token, Token> | undefined;\n  priceUpper: Price<Token, Token> | undefined;\n  quote: Token | undefined;\n  base: Token | undefined;\n  invert: boolean;\n}\n\nexport function useInverter({ priceLower, priceUpper, quote, base, invert }: useInverterProps) {\n  return {\n    priceUpper: invert ? priceLower?.invert() : priceUpper,\n    priceLower: invert ? priceUpper?.invert() : priceLower,\n    quote: invert ? base : quote,\n    base: invert ? quote : base,\n  };\n}\n"],"names":["useStyles","makeStyles","floatLeft","float","avatarBox","clear","overflow","marginLeft","CurrenciesAvatar","_ref","currencyA","currencyB","borderColor","bgColor","size","classes","_jsxs","Box","className","children","_jsx","CurrencyAvatar","currency","avatar","width","height","border","concat","_ref2","Avatar","sx","bgcolor","src","logo","useStyle","button","LiquidityPoolIntro","version","history","useHistory","loadAddLiquidity","useCallback","push","MainCard","level","Typography","variant","align","color","Trans","id","mt","fontSize","Grid","container","justifyContent","item","Button","onClick","theme","topBox","listItem","padding","borderRadius","radius","cursor","poolName","margin","fontWeight","feeAmount","poolData","marginTop","PoolCard","_ref3","token0","token1","fee","totalVolumeUSD","tvlUSD","token0Symbol","token1Symbol","currency0","useToken","currency1","handlePoolClick","Number","alignItems","symbol","feeAmountToPercentage","flexDirection","xs","formatDollarAmount","wrapper","display","background","colors","darkPrimary400","darkLevel1","Marker","props","SvgIcon","viewBox","d","fill","Closed","component","OutOfRange","InRange","marginRight","PositionRangeState","outOfRange","closed","LinkIcon","xmlns","fillRule","clipRule","SwapWrapper","buttons","Wrapper","TabPanel","tabs","SwapV2Wrapper","value","i18n","_","path","key","position","top","_SwapWrapper","link","INFO_URL","JSBI","BigInt","BIPS_BASE","ALLOWED_PRICE_IMPACT_LOW","Percent","ALLOWED_PRICE_IMPACT_MEDIUM","ALLOWED_PRICE_IMPACT_HIGH","BLOCKED_PRICE_IMPACT_NON_EXPERT","MaxUint128","subtract","exponentiate","usePositionFees","canisterId","positionId","refresh","result","usePositionFee","useMemo","amount0","tokensOwed0","amount1","tokensOwed1","undefined","usePositionInfo","positionDetails","poolState","pool","usePool","Position","liquidity","toString","tickLower","tickUpper","loading","PoolState","LOADING","usePositionInfoV1","usePoolV1","invalid","reload","usePositionFeesCall","feeBox","palette","level3","CollectFeesModal","open","onClose","onConfirm","currencyFeeAmount0","currencyFeeAmount1","SwapModal","title","_Fragment","mr","TokenImage","tokenId","address","toFormat","BigNumber","toExact","toFixed","fullWidth","disabled","startIcon","CircularProgress","positionContainer","backgroundColor","gray200","breakpoints","down","detailContainer","DetailItem","memo","label","convert","onConvertClick","useTheme","matchDownSM","useMediaQuery","SyncAltIcon","PositionDetails","showButtons","manuallyInverted","setManuallyInverted","show","account","useAccount","principal","useAccountPrincipal","openErrorTip","useErrorTip","openSuccessTip","useSuccessTip","openLoadingTip","closeLoadingTip","useLoadingTip","collectFeesShow","setCollectFeesShow","useState","reloadPositionFee","setReloadPositionFee","noLiquidity","handleLoadRemoveLiquidity","String","handleLoadIncreaseLiquidity","handleCollectFee","_tickAtLimit","useIsTickAtLimit","pricesFromPosition","getPriceOrderingFromPositionForUI","priceLower","priceUpper","base","useInverter","quote","invert","inverted","equals","tickAtLimit","Bound","LOWER","UPPER","currencyQuote","currencyBase","pairName","feeAmount0","feeAmount1","CurrencyAmount","fromRawAmount","numberToString","collectFeesCall","useCollectFeesCall","onCollectConfirm","async","identity","_currencyFeeAmount0$t","_currencyFeeAmount1$t","loadingTipKey","multipliedBy","status","message","recipient","amount0Max","amount1Max","internalCall","_getLocaleMessage","getLocaleMessage","hasUnclaimedFees","buttonGridXS","values","0","CurrencyAmountFormatDecimals","decimals","priceOf","toSignificant","formatTickPrice","spacing","Identity","onSubmit","_ref4","submit","PositionItem","_ref5","matchDownMD","detailShow","setDetailShow","handleToggleShow","tickCurrent","Loading","circularSize","isDarkTheme","mx","Chip","DEFAULT_PERCENT_SYMBOL","PositionStatus","ml","KeyboardArrowUp","KeyboardArrowDown","_formattedAmounts$BUR","_formattedAmounts$BUR2","onCancel","formattedAmounts","wrapped","BURN_FIELD","CURRENCY_A","CURRENCY_B","_parsedAmounts$BURN_F","_parsedAmounts$BURN_F2","_parsedAmounts$BURN_F3","_parsedAmounts$BURN_F4","_parsedAmounts$BURN_F5","_parsedAmounts$BURN_F6","slippageTolerance","useSlippageManager","transactionsDeadline","useUserTransactionsDeadline","confirmModalShow","setConfirmModalShow","handleConfirm","partialPosition","amount0Min","amount1Min","burnAmountsWithSlippage","slippageToPercent","decreaseV1Liquidity","deadline","_getLocaleMessage2","discountedAmount0","quotient","discountedAmount1","parsedAmounts","fullScreenLoading","_ref6","ConfirmRemoveLiquidityModal","_ref7","hasLiquidity","positionDetail","PositionItemComponent","HistoryPositions","userPositions","useUserV1Positions","hasLiquidityPositions","filter","length","Modal","maxHeight","LoadingRow","NoData","map","index","_position$liquidity","showClosedPosition","Positions","useUserPositions","setOpen","useQueryUserPositions","updateShowClosedPosition","useClosedPositionManager","handleShowClosedPosition","lg","gridTemplateColumns","userSelect","Checkbox","checked","onChange","target","TextButton","to","bgOpacity","gap","gridGap","listWrapper","left","bottom","zIndex","PoolList","pools","useFourListedPools","poolList","Infinity","sort","a","b","feeTier","slice","token0Id","token1Id","Liquidity","isInitialed","updatePoolStandardInitialed","usePoolStandardManager","updatePoolTokenStandard","useUpdatePoolTokenStandardCallback","usePoolList","useEffect","calls","i","Promise","all","finally","call","createSvgIcon","token0PriceUpper","lessThan","token0PriceLower"],"sourceRoot":""}