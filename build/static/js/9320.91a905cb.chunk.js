"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[9320],{4522:(e,n,t)=>{t.d(n,{h:()=>o});var i,s,a=t(53248);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)}function l(e,n){let{title:t,titleId:l,...o}=e;return a.createElement("svg",r({width:12,height:12,viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":l},o),t?a.createElement("title",{id:l},t):null,i||(i=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 4H2V10H8V4ZM2 3C1.44772 3 1 3.44772 1 4V10C1 10.5523 1.44772 11 2 11H8C8.55228 11 9 10.5523 9 10V4C9 3.44772 8.55228 3 8 3H2Z",fill:"currentColor"})),s||(s=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 9L10 2L3 2L3 0.999999L10 1C10.5523 1 11 1.44772 11 2L11 9L10 9Z",fill:"currentColor"})))}const o=a.forwardRef(l);t.p},90786:(e,n,t)=>{t.d(n,{A:()=>x});var i=t(90329),s=t(4704),a=t(87631),r=t(18434),l=t(16688),o=t(84755),d=t(91194),c=t(59257),u=t(36092);function x(){const[,e]=(0,c.R5)();return(0,u.jsx)(s.Ay,{container:!0,justifyContent:"center",children:(0,u.jsx)(a.A,{sx:{maxWidth:"1400px",width:"100%"},children:(0,u.jsx)(o.Am,{level:3,children:(0,u.jsxs)(s.Ay,{container:!0,alignItems:"center",flexDirection:"column",sx:{height:"250px"},children:[(0,u.jsx)(d.A,{}),(0,u.jsx)(r.A,{color:"text.primary",children:(0,u.jsx)(i.x6,{id:"FAJ5Zb"})}),(0,u.jsx)(l.A,{variant:"contained",onClick:()=>e(!0),sx:{width:"100%",maxWidth:"522px",marginTop:"23px"},size:"large",children:(0,u.jsx)(i.x6,{id:"CtByM7"})})]})})})})}},72717:(e,n,t)=>{t.d(n,{A:()=>l});var i=t(90329),s=t(18434),a=t(11403),r=t(36092);function l(e){var n;const t=(0,a.A)();return(0,r.jsx)(s.A,{...e,sx:{padding:"1px 3px",cursor:"pointer",borderRadius:"2px",backgroundColor:t.colors.secondaryMain,color:"#ffffff",fontSize:"12px",...null!==(n=e.sx)&&void 0!==n?n:{}},children:(0,r.jsx)(i.x6,{id:"CK1KXz"})})}},2860:(e,n,t)=>{t.d(n,{A:()=>r});var i=t(44342),s=t.n(i),a=t(36092);const r=e=>{let{value:n,...t}=e;return(0,a.jsx)(s(),{value:n,...t})}},29958:(e,n,t)=>{t.d(n,{H3:()=>f,HB:()=>g,K1:()=>j,ML:()=>u,NB:()=>C,Ny:()=>m,Q9:()=>y,Wr:()=>k,cs:()=>A,fL:()=>c,g4:()=>w,iJ:()=>h,ie:()=>p,mI:()=>b,nG:()=>d,uq:()=>x,wl:()=>v});var i=t(53248),s=t(70998),a=t(35479),r=t(16752),l=t(93864),o=t(37037);t(58333);function d(){return(0,i.useCallback)((async(e,n,t)=>t.count&&BigInt(t.count)>1?(0,a.Pk)(await(await(0,l.iZ)(e,n)).mint_batch(t)):(0,a.Pk)(await(await(0,l.iZ)(e,n)).mint({...t}))),[])}function c(e,n,t){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e&&(n||0===n))return(0,a.Pk)(await(await(0,l.iZ)(e)).icsMetadata(Number(n))).data}),[n]),t)}function u(e,n,t,s,d){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e&&n&&(0,r.W)(t,s))return(0,a.Pk)(await(await(0,l.iZ)(e)).findTxRecord(n,BigInt(t),BigInt(s))).data}),[e,n,t,s]),d)}function x(e,n,t,s){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e&&n&&(0,r.W)(t,s))return(0,a.Pk)(await(await(0,l.iZ)(e)).findTokenTxRecord({address:n},BigInt(t),BigInt(s))).data}),[n,t,s]))}function p(){return(0,i.useCallback)((async(e,n,t)=>(0,a.Pk)(await(await(0,l.iZ)(e,n)).transfer(t))),[])}function h(e){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e)return(0,a.Pk)(await(await(0,l.iZ)(e)).cycleBalance()).data}),[e]))}function m(e,n,t){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e&&n)return(0,a.Pk)(await(await(0,l.iZ)(e)).ownerNFTCount({address:n})).data}),[e,n]),t)}function f(e,n){return(0,o.Pz)((0,i.useCallback)((async()=>{if((0,r.W)(e,n))return(0,a.Pk)(await(await(0,l.gM)()).findCanister(BigInt(e),BigInt(n))).data}),[e,n]))}function j(e,n,t){return(0,o.Pz)((0,i.useCallback)((async()=>{if((0,r.W)(n,t))return(0,a.Pk)(await(await(0,l.gM)()).findUserCanister(e,BigInt(n),BigInt(t))).data}),[n,t]))}async function v(e){return(0,a.Pk)(await(await(0,l.gM)(!0)).create(e))}async function g(e,n){return(0,a.Pk)(await(await(0,l.iZ)(e,!0)).setLogo(n))}async function A(e,n){return(0,a.Pk)(await(await(0,l.gM)(!0)).setLogo(n,e))}function y(e){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e)return s.XA.includes(e)?(0,a.Pk)(await(await(0,l.gM)()).canisterInfo(e)).data:(0,a.Pk)(await(await(0,l.iZ)(e)).canisterInfo()).data}),[e]))}function w(e){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e)return await async function(e){var n,t;return s.XA.includes(e)?null===(n=(0,a.Pk)(await(await(0,l.gM)()).canisterInfo(e)).data)||void 0===n?void 0:n.image:null===(t=(0,a.Pk)(await(await(0,l.iZ)(e)).canisterInfo()).data)||void 0===t?void 0:t.image}(e)}),[e]))}function C(e,n,t,s){return(0,o.Pz)((0,i.useCallback)((async()=>{if(e&&n&&(0,r.W)(t,s))return(0,a.Pk)(await(await(0,l.iZ)(e)).findTokenList({address:n},BigInt(t),BigInt(s))).data}),[e,n,t,s]))}function b(){return(0,o.Pz)((0,i.useCallback)((async()=>(0,a.Pk)(await(await(0,l.gM)()).feeInfo()).data),[]))}async function k(){return(0,a.Pk)(await(await(0,l.iT)()).getNftStat()).data}},59717:(e,n,t)=>{t.d(n,{CM:()=>r,CP:()=>l});var i=t(53248),s=t(4262),a=t(86146);function r(){const e=(0,s.jL)();return[(0,s.GV)((e=>e.nft.userSelectedCanisters)),(0,i.useCallback)((n=>{e((0,a.IZ)(n))}),[e]),(0,i.useCallback)((n=>{e((0,a.y1)(n))}),[e])]}function l(){const e=(0,s.jL)(),n=(0,s.GV)((e=>e.nft.importedNFTs)),t=(0,i.useCallback)((n=>{e((0,a.i_)(n))}),[e]),r=(0,i.useCallback)((n=>{e((0,a.gw)({canisterId:n}))}),[e]);return(0,i.useMemo)((()=>({nfts:n,importNFT:t,deleteNFT:r})),[n,t,r])}},59320:(e,n,t)=>{t.r(n),t.d(n,{default:()=>In});var i,s,a=t(53248),r=t(37155),l=t(87631),o=t(90329),d=t(9259),c=t(18434),u=t(93176),x=t(63431),p=t(78878),h=t(52429),m=t(4522),f=t(59257),j=t(38705);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},v.apply(this,arguments)}function g(e,n){let{title:t,titleId:r,...l}=e;return a.createElement("svg",v({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},l),t?a.createElement("title",{id:r},t):null,i||(i=a.createElement("g",{clipPath:"url(#clip0_36506_15939)"},a.createElement("path",{d:"M8.0013 3.33268V0.666016L4.66797 3.99935L8.0013 7.33268V4.66602C10.208 4.66602 12.0013 6.45935 12.0013 8.66602C12.0013 10.8727 10.208 12.666 8.0013 12.666C5.79464 12.666 4.0013 10.8727 4.0013 8.66602H2.66797C2.66797 11.6127 5.05464 13.9993 8.0013 13.9993C10.948 13.9993 13.3346 11.6127 13.3346 8.66602C13.3346 5.71935 10.948 3.33268 8.0013 3.33268Z",fill:"white"}))),s||(s=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_36506_15939"},a.createElement("rect",{width:16,height:16,fill:"white"})))))}const A=a.forwardRef(g),y=(t.p,(0,a.createContext)({}));var w=t(36092);function C(e){let{address:n,label:t}=e;const i=(0,a.useRef)(null),s=()=>{var e;i&&(null===i||void 0===i||null===(e=i.current)||void 0===e||e.copy())};return(0,w.jsxs)(l.A,{sx:{maxWidth:"286px",borderRadius:"8px",padding:"12px",border:"1px solid #29314F",height:"fit-content","@media(max-width: 640px)":{maxWidth:"100%"}},children:[(0,w.jsx)(l.A,{sx:{width:"70px",height:"20px",borderRadius:"30px",background:"#29314F",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,w.jsx)(c.A,{sx:{fontSize:"12px",transform:"scale(0.9)"},children:t})}),(0,w.jsxs)(l.A,{sx:{margin:"8px 0 0 0",wordBreak:"break-all"},children:[(0,w.jsx)(c.A,{sx:{fontSize:"12px",whiteSpace:"break-spaces",cursor:"pointer",userSelect:"none"},component:"span",onClick:s,children:n}),(0,w.jsx)(l.A,{component:"span",sx:{cursor:"pointer",margin:"0 0 0 4px",color:"#5669DC"},onClick:s,children:(0,w.jsx)(m.h,{})})]}),(0,w.jsx)(j.A,{content:null!==n&&void 0!==n?n:"",hide:!0,ref:i})]})}function b(){const e=(0,h.bt)(),n=(0,f.Le)(),[t]=(0,p.I5)(),{refreshTotalBalance:i,setRefreshTotalBalance:s,refreshCounter:r,setRefreshCounter:m,totalValue:j,totalUSDBeforeChange:v}=(0,a.useContext)(y),g=(0,a.useMemo)((()=>{if(e)return j.dividedBy(e)}),[j,e]),b=(0,a.useMemo)((()=>{if(!j.isEqualTo(0)&&!v.isEqualTo(0))return"".concat(j.minus(v).dividedBy(v).multipliedBy(100).toFixed(2),"%")}),[v,j]),k=b&&b.includes("-")?"down":"up",I="up"===k?"#54C081":"#D3625B";return(0,w.jsxs)(l.A,{sx:{display:"flex",width:"100%",justifyContent:"space-between",padding:"0 0 30px 0",borderBottom:"1px solid #29314F","@media(max-width: 640px)":{flexDirection:"column",gap:"20px 0"}},children:[(0,w.jsxs)(l.A,{children:[(0,w.jsxs)(l.A,{sx:{display:"flex",gap:"0 8px",alignItems:"center"},children:[(0,w.jsx)(c.A,{children:(0,w.jsx)(o.x6,{id:"/ql51Z"})}),(0,w.jsx)(A,{style:{cursor:"pointer"},onClick:()=>{s&&s(!i),m(r+1),t("Refresh Success")}})]}),(0,w.jsx)(l.A,{sx:{margin:"10px 0 0 0"},children:(0,w.jsxs)(c.A,{component:"span",sx:{fontSize:"32px",fontWeight:600},color:"text.primary",children:["\u2248",(0,u.o)(j.toString(),2)]})}),(0,w.jsxs)(l.A,{sx:{margin:"6px 0 0 0",display:"flex",gap:"0 8px"},children:[(0,w.jsxs)(c.A,{children:["\u2248",g?g.toFormat(4):0,"\xa0ICP"]}),(0,w.jsx)(c.A,{sx:{color:I},component:"span",children:b?"".concat("down"===k?"":"+").concat(b):"--"})]})]}),(0,w.jsxs)(l.A,{sx:{display:"flex",gap:"0 12px","@media(max-width: 640px)":{flexDirection:"column",gap:"20px 0"}},children:[(0,w.jsx)(l.A,{sx:{minWidth:"286px","@media(max-width: 640px)":{minWidth:"100%"}},children:(0,w.jsx)(C,{address:n?(0,x.l)(null===n||void 0===n?void 0:n.toString()):"--",label:d.Ru._({id:"w8S31X"})})}),(0,w.jsx)(l.A,{sx:{minWidth:"286px","@media(max-width: 640px)":{minWidth:"100%"}},children:(0,w.jsx)(C,{address:n?n.toString():"--",label:d.Ru._({id:"xFM/mD"})})})]})]})}var k=t(62964),I=t(52351),S=t(23412),T=t(82188),R=t(57635),P=t(4704),B=t(16688),_=t(51168),F=t(8265),z=t(19501),N=t(97938),W=t(1783),E=t(89156),L=t(64560),M=t(23146),H=t(49828),O=t(84755),D=t(81795),V=t(72717);const Z=(0,I.A)((e=>({warningText:{color:e.palette.warning.dark}})));function G(e,n){return(n.includes("DIP20")||n.includes("ICRC"))&&e!==N.Nj.address}function U(e,n){return!G(e,n)}function Q(e){var n;let{open:t,onClose:i,onTransferSuccess:s,token:u,transferTo:x}=e;const m=Z(),j=(0,f.F7)(),v=(0,f.WT)(),g=(0,f.Le)(),[A]=(0,p.dX)(),[C]=(0,p.I5)(),{refreshTotalBalance:b,setRefreshTotalBalance:k}=(0,a.useContext)(y),{result:I}=(0,L.nC)(u.canisterId,g),T=(0,h.v$)(u.canisterId),Q={to:null!==x&&void 0!==x?x:"",amount:""},[X,q]=(0,a.useState)(Q),J=(e,n)=>{q({...X,[n]:e})},K=(0,a.useMemo)((()=>{var e;const n=new r.A(null!==(e=X.amount)&&void 0!==e?e:0).minus((0,S.t)(u.transFee,u.decimals));return n.isGreaterThan(0)?n.toString():0}),[X,u]),Y=(()=>{var e;if(!X.to)return d.Ru._({id:"zn2Rmm"});if(G(u.canisterId,u.standardType))try{D.p.fromText(X.to)}catch(n){return d.Ru._({id:"aNYyeh"})}else if(!(0,_.O)(X.to)&&!(0,F.R)(X.to))return d.Ru._({id:"jvBU+I"});return X.amount?X.amount&&new r.A(null!==(e=X.amount)&&void 0!==e?e:0).isGreaterThan((0,S.t)(null!==I&&void 0!==I?I:0,u.decimals))?d.Ru._({id:"znqB4T"}):new r.A(X.amount).minus((0,S.t)(u.transFee,u.decimals)).isGreaterThan(0)?void 0:d.Ru._({id:"acQ0rH"}):d.Ru._({id:"iPMIoT"})})();return(0,w.jsx)(O.aF,{open:t,onClose:i,title:d.Ru._({id:"zPGNJm"}),children:(0,w.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:"24px 0"},children:[(0,w.jsx)(O.GV,{value:u.symbol,fullWidth:!0,disabled:!0}),(0,w.jsx)(O.GV,{value:X.to,placeholder:G(u.canisterId,u.standardType)?d.Ru._({id:"nDwj4T"}):d.Ru._({id:"Pgw+H4"}),onChange:e=>J(e,"to"),helperText:(()=>{if(G(u.canisterId,u.standardType)&&v===X.to||U(u.canisterId,u.standardType)&&j===X.to||U(u.canisterId,u.standardType)&&(0,F.R)(X.to)&&v===X.to)return(0,w.jsx)("span",{className:m.warningText,children:(0,w.jsx)(o.x6,{id:"8oLpSL"})})})(),fullWidth:!0,autoComplete:"To",multiline:!0}),(0,w.jsx)(O.LT,{placeholder:"Enter the amount",value:X.amount,onChange:e=>J(e,"amount"),fullWidth:!0,numericProps:{allowNegative:!1,decimalScale:u.decimals},autoComplete:"off",InputProps:{endAdornment:(0,w.jsx)(R.A,{position:"end",children:(0,w.jsx)(c.A,{color:"text.primary",children:T&&X.amount?"~$".concat((0,z.$)(new r.A(X.amount).multipliedBy(T).toString(),4)):"--"})})}}),(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",children:[(0,w.jsx)(c.A,{children:(0,w.jsx)(o.x6,{id:"VuFd5C",values:{0:I?new r.A((0,S.t)(I,u.decimals).toFixed(u.decimals>8?8:u.decimals)).toFormat():"--"}})}),(0,w.jsx)(V.A,{sx:{marginLeft:"6px"},onClick:e=>{e.stopPropagation(),I&&J((0,S.t)(I,u.decimals).toString(),"amount")}})]}),(0,w.jsxs)(c.A,{children:[(0,w.jsx)(o.x6,{id:"JWQmBx"})," ",(0,S.t)(null===u||void 0===u||null===(n=u.transFee)||void 0===n?void 0:n.toString(),u.decimals).toFormat(),"\xa0",u.symbol,"\xa0(",T&&u?"$".concat((0,z.$)((0,S.t)(u.transFee.toString(),u.decimals).multipliedBy(T).toString(),4)):"--",")"]}),(0,w.jsxs)(c.A,{children:[(0,w.jsx)(o.x6,{id:"zJpEgE"})," ",(0,z.$)(K,18),"\xa0",u.symbol,"\xa0(",T&&u?"$".concat((0,z.$)(new r.A(K).multipliedBy(T).toString(),4)):"--",")"]}),(0,w.jsx)(c.A,{color:"text.warning",children:(0,w.jsx)(o.x6,{id:"djxPUy"})}),(0,w.jsx)(H.A,{onSubmit:async(e,n)=>{let{loading:t,closeLoading:i}=n;try{if(t||!j)return;const{status:e,message:n}=await(0,E.FY)({canisterId:u.canisterId.toString(),to:X.to,amount:(0,S.N)(new r.A(X.amount).minus((0,S.t)(u.transFee,u.decimals)),u.decimals),from:j,fee:u.transFee,decimals:u.decimals});var a;if("ok"===e)C(d.Ru._({id:"uI5++B"})),q(Q),s&&s(),u.canisterId.toString()!==N.Nj.address&&u.canisterId.toString()!==N.jb.address||k&&k(!b);else A(null!==(a=(0,M.If)(n))&&void 0!==a?a:d.Ru._({id:"gkMcI7"}));i()}catch(l){console.error(l),i()}},fullScreenLoading:!0,children:e=>{let{submit:n,loading:t}=e;return(0,w.jsx)(B.A,{variant:"contained",fullWidth:!0,color:"primary",size:"large",disabled:t||!!Y,onClick:n,children:Y||(t?(0,w.jsx)(W.A,{size:26,color:"inherit"}):(0,w.jsx)(o.x6,{id:"7VpPHA"}))})}})]})})}var X=t(89811),q=t(59894),J=t(31246),K=t(23563),Y=t(34436),$=t(93864),ee=t(35479);function ne(e){let{open:n,onClose:t,onTopUpSuccess:i}=e;const s=(0,f.Le)(),{result:u}=(0,J.Vs)(N.Ai.address),{result:x,loading:h}=(0,L.nC)(N.Ai.address,s),m={canisterId:"",amount:""},[j,v]=(0,a.useState)(m),[g,A]=(0,p.cO)(),y=(e,n)=>{v((t=>({...t,[n]:e})))},C=(0,a.useCallback)((async e=>{let{canisterId:n,amount:t,identity:i}=e;return(0,ee.Pk)(await(await(0,$.c8)(i)).burn({canister_id:D.p.fromText(n),amount:BigInt(t)}))}),[]);let b="";return j.amount&&u&&new r.A(Number(j.amount)).isGreaterThan((0,S.t)(null!==x&&void 0!==x?x:0,u.decimals))&&(b=d.Ru._({id:"znqB4T"})),j.amount||(b=d.Ru._({id:"Mmj067"})),j.canisterId&&!(0,F.R)(j.canisterId)&&(b=d.Ru._({id:"hO8ynl"})),j.canisterId||(b=d.Ru._({id:"jM3bIs"})),(0,w.jsxs)(O.aF,{open:n,title:d.Ru._({id:"WwaHwZ"}),onClose:t,children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(O.GV,{label:(0,w.jsx)(o.x6,{id:"ncZU7A"}),onChange:e=>y(e,"canisterId"),placeholder:d.Ru._({id:"kXrhxx"})})}),(0,w.jsx)(l.A,{mt:"20px",children:(0,w.jsx)(O.GV,{label:(0,w.jsx)(o.x6,{id:"hehnjM"}),value:j.amount,onChange:e=>y(e,"amount"),InputProps:{inputComponent:O.et,inputProps:{allowNegative:!1,decimalScale:4,maxLength:16}},placeholder:d.Ru._({id:"9UcYk/"})})}),(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",mt:"12px",children:[(0,w.jsx)(c.A,{color:"text.primary",component:"span",children:(0,w.jsx)(o.x6,{id:"0QDjxt"})}),"\xa0",(0,w.jsx)(c.A,{color:"text.primary",component:"span",sx:{marginRight:"4px"},children:x?(0,S.t)(x,null===u||void 0===u?void 0:u.decimals).toFormat():h?"--":0}),(0,w.jsx)(O.LJ,{onClick:()=>{x&&u&&v((e=>({...e,amount:(0,S.t)(x,u.decimals).toNumber()})))}})]}),(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",mt:"12px",children:[(0,w.jsx)(c.A,{color:"text.primary",component:"span",children:(0,w.jsx)(o.x6,{id:"JWQmBx"})}),"\xa0",(0,w.jsx)(c.A,{color:"text.primary",component:"span",children:u?(0,S.t)(u.transFee,null===u||void 0===u?void 0:u.decimals).toFormat():0})]}),(0,w.jsx)(l.A,{mt:"40px",children:(0,w.jsx)(H.A,{onSubmit:async(e,n)=>{let{loading:s}=n;if(s||!u)return;t(),v(m);const a=g(d.Ru._({id:"7/2an3",values:{0:j.amount,1:j.canisterId}}),p.dy),{status:r,message:l}=await C({identity:e,canisterId:j.canisterId,amount:BigInt((0,Y.u)((0,S.N)(j.amount,u.decimals).minus(Number(u.transFee))))});var o;(A(a),r===X.i7.OK)?(g(d.Ru._({id:"HQIdbW"}),p.mh),i&&i()):g(null!==(o=(0,M.If)(l))&&void 0!==o?o:l,p.XI)},children:e=>{let{submit:n}=e;return(0,w.jsx)(B.A,{size:"large",fullWidth:!0,variant:"contained",onClick:n,disabled:!!b,children:b||(0,w.jsx)(o.x6,{id:"hQRttt"})})}})})]})}var te=t(31349),ie=t(85067),se=t(81634),ae=t(96414);const re=(0,I.A)((e=>({warningText:{color:e.palette.warning.dark}})));function le(e){var n;let{open:t,onClose:i,onTransferSuccess:s,token:l}=e;const u=re(),x=(0,f.F7)(),h=(0,f.WT)(),[m]=(0,p.dX)(),[j]=(0,p.I5)(),{refreshTotalBalance:v,setRefreshTotalBalance:g}=(0,a.useContext)(y),A={to:"",amount:""},[C,b]=(0,a.useState)(A),k=(e,n)=>{b({...C,[n]:e})},I=(()=>{if(!C.to)return d.Ru._({id:"zn2Rmm"});if(l.standardType.includes("DIP20"))try{D.p.fromText(C.to)}catch(e){return d.Ru._({id:"aNYyeh"})}else if(!(0,_.O)(C.to))return d.Ru._({id:"S9IxfB"});return C.amount?new r.A(C.amount).minus((0,S.t)(l.transFee,l.decimals)).isGreaterThan(0)?void 0:d.Ru._({id:"acQ0rH"}):d.Ru._({id:"iPMIoT"})})();return(0,w.jsx)(O.aF,{open:t,onClose:i,title:d.Ru._({id:"2me3Tk"}),children:(0,w.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(se.A,{label:d.Ru._({id:"cy3NLg"}),value:l.symbol,fullWidth:!0,disabled:!0})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(se.A,{label:d.Ru._({id:"/jQctM"}),value:C.to,placeholder:l.standardType.includes("DIP20")?d.Ru._({id:"nDwj4T"}):"Enter the account ID",onChange:e=>{let{target:{value:n}}=e;return k(n,"to")},helperText:(()=>{if(l.standardType.includes("DIP20")&&h===C.to||!l.standardType.includes("DIP20")&&x===C.to)return(0,w.jsx)("span",{className:u.warningText,children:(0,w.jsx)(o.x6,{id:"8oLpSL"})})})(),fullWidth:!0,autoComplete:"To"})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(O.Tv,{label:d.Ru._({id:"hehnjM"}),type:"text",value:C.amount,onChange:e=>{let{target:{value:n}}=e;return k(n,"amount")},fullWidth:!0,inputProps:{autocomplete:"new-password",form:{autocomplete:"off"}},numericProps:{allowNegative:!1,decimalScale:l.decimals},autoComplete:"off"})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(o.x6,{id:"JWQmBx"})," ",(0,S.t)(null===l||void 0===l||null===(n=l.transFee)||void 0===n?void 0:n.toString(),l.decimals).toFormat(),"\xa0",l.symbol]})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsxs)(c.A,{children:[(0,w.jsx)(o.x6,{id:"zJpEgE"})," ",(()=>{var e;const n=new r.A(null!==(e=C.amount)&&void 0!==e?e:0).minus((0,S.t)(l.transFee,l.decimals));return n.isGreaterThan(0)?n.toFormat():0})(),"\xa0",l.symbol]})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(c.A,{color:"text.warning",children:(0,w.jsx)(o.x6,{id:"djxPUy"})})}),(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(H.A,{onSubmit:async(e,n)=>{let{loading:t,closeLoading:i}=n;try{if(t)return;const e=await(0,ae.oS)({to:C.to,amount:Number(new r.A(C.amount).toFixed(8,r.A.ROUND_DOWN))});var a;if("SUCCESS"===e.status&&(j(d.Ru._({id:"uI5++B"})),b(A),s&&s(),l.canisterId.toString()===N.Q4.canisterId&&g&&g(!v)),"REJECTED"===e.status||"ERROR"===e.status)m(null!==(a=(0,M.If)(e.message))&&void 0!==a?a:d.Ru._({id:"gkMcI7"}));i()}catch(o){console.error(o),i()}},fullScreenLoading:!0,children:e=>{let{submit:n,loading:t}=e;return(0,w.jsx)(B.A,{variant:"contained",fullWidth:!0,color:"primary",size:"large",disabled:t||!!I,onClick:n,children:I||(t?(0,w.jsx)(W.A,{size:26,color:"inherit"}):(0,w.jsx)(o.x6,{id:"FEsq7l"}))})}})})]})})}var oe=t(68483),de=t(9662),ce=t(69206),ue=t(33616),xe=t(2860),pe=t(21045);function he(e){let{open:n,onClose:t,address:i}=e;const s=(0,a.useRef)(null);return(0,w.jsxs)(pe.A,{title:d.Ru._({id:"lDgVWA"}),open:n,onClose:t,showConfirm:!0,onConfirm:()=>{var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.copy()},confirmText:d.Ru._({id:"zXagFp"}),children:[(0,w.jsxs)(P.Ay,{container:!0,spacing:2,children:[(0,w.jsx)(P.Ay,{container:!0,item:!0,xs:12,justifyContent:"center",children:(0,w.jsx)(P.Ay,{item:!0,children:(0,w.jsx)(xe.A,{value:i})})}),(0,w.jsx)(P.Ay,{container:!0,item:!0,xs:12,justifyContent:"center",children:(0,w.jsx)(P.Ay,{item:!0,children:(0,w.jsx)(c.A,{color:"textSecondary",sx:{wordBreak:"break-all"},children:i})})})]}),(0,w.jsx)(j.A,{ref:s,content:i,hide:!0})]})}const me=(0,I.A)((()=>({tokenAssets:{fontSize:"0.6rem"},walletSymbol:{cursor:"pointer","&:hover":{textDecoration:"underline"}}})));function fe(e){let{label:n,onClick:t}=e;return(0,w.jsx)(l.A,{sx:{display:"flex",padding:"7px 12px",justifyContent:"center",alignItems:"center",background:"#4F5A84",borderRadius:"8px",cursor:"pointer"},onClick:t,children:(0,w.jsx)(c.A,{color:"text.primary",children:n})})}const je=[{id:N.y5.address,mintPath:"/wallet/ckBTC?type=mint",dissolvePath:"/wallet/ckBTC?type=dissolve"},{id:N.AS.address,mintPath:"/wallet/ckETH?type=mint",dissolvePath:"/wallet/ckETH?type=dissolve"}];function ve(e){let{ckToken:n}=e;const t=(0,oe.W6)();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(fe,{label:d.Ru._({id:"5IrCQY"}),onClick:()=>{return e=n.mintPath,void t.push(e);var e}}),(0,w.jsx)(fe,{label:d.Ru._({id:"TGmg93"}),onClick:()=>{return e=n.dissolvePath,void t.push(e);var e}})]})}const ge=[N.Q4.canisterId,N.jb.address];function Ae(e){let{canisterId:n,isHideSmallBalances:t,searchValue:i}=e;const s=me(),o=(0,q.F7)(),p=(0,k.A)(),h=(0,f.Le)(),m=(0,f.il)(),j=(0,oe.W6)(),[,v]=(0,ie.rd)(n),g=(0,te.r5)(null===v||void 0===v?void 0:v.address),A=(0,a.useMemo)((()=>null===g||void 0===g?void 0:g.priceUSD),[g]),{result:C}=(0,J.Vs)(n),[b,I]=(0,a.useState)(!1),[R,P]=(0,a.useState)(0),[B,_]=(0,a.useState)(!1),[F,z]=(0,a.useState)(!1),[W,E]=(0,a.useState)(!1),{refreshCounter:M,setTotalValue:H,setTotalUSDBeforeChange:O}=(0,a.useContext)(y),D=(0,a.useMemo)((()=>R+M),[R,M]),{result:V}=(0,L.nC)(n,h,D);(0,a.useEffect)((()=>{if(C&&void 0!==C.decimals&&void 0!==C.transFee&&V&&g){H(C.canisterId,(0,S.t)(V,C.decimals).multipliedBy(g.priceUSD));const e=new r.A(g.priceUSD).div(new r.A(g.priceUSDChange).dividedBy(100).plus(1));O(C.canisterId,(0,S.t)(V,C.decimals).multipliedBy(e))}}),[V,g,C]);const Z=async()=>{_(!1)},G=()=>{P(R+1),Z(),E(!1)},U=(0,ue.E)(n),Y=e=>{"wrap"!==e?j.push("/swap/v2/wrap?input=wicp"):j.push("/swap/v2/wrap?input=icp")},$=(0,a.useMemo)((()=>{const e=t&&!!V&&!(null!==V&&void 0!==V&&V.isGreaterThan(0)),s=!!i&&(null===C||void 0===C||!C.symbol||!(null!==C&&void 0!==C&&C.symbol.toLowerCase().includes(i.toLowerCase())));return!X.Wz.includes(n)&&(e||s)}),[t,V,n,i,C]);return(0,w.jsxs)(l.A,{sx:{borderRadius:"12px",background:p.palette.background.level4,padding:"20px",maxWidth:"100%",overflow:"hidden",...$?{display:"none"}:{},"@media(max-width: 640px)":{padding:"10px"}},children:[(0,w.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,w.jsxs)(l.A,{sx:{display:"flex",gap:"0 10px"},children:[(0,w.jsx)(ce.H,{size:"40px",logo:null===C||void 0===C?void 0:C.logo,tokenId:null===C||void 0===C?void 0:C.canisterId}),(0,w.jsxs)(l.A,{children:[(0,w.jsx)(c.A,{color:"textPrimary",className:(null===C||void 0===C?void 0:C.symbol)!==N.Q4.symbol?s.walletSymbol:"",onClick:()=>(e=>{e&&e.symbol!==N.Q4.symbol&&(0,T.l)("".concat(X.xP,"/token/details/").concat(null===e||void 0===e?void 0:e.canisterId,"?standard=").concat(null===e||void 0===e?void 0:e.standardType),"TOKEN_DETAILs")})(C),fontWeight:500,children:null===C||void 0===C?void 0:C.symbol}),(0,w.jsx)(c.A,{sx:{fontSize:"12px"},children:null===C||void 0===C?void 0:C.name})]})]}),(0,w.jsx)(K.Ay,{standard:null===C||void 0===C?void 0:C.standardType})]}),(0,w.jsxs)(l.A,{sx:{display:"flex",margin:"12px 0 0 0"},children:[(0,w.jsxs)(l.A,{sx:{width:"50%"},children:[(0,w.jsx)(c.A,{fontSize:"12px",children:"Balance"}),(0,w.jsx)(c.A,{color:"textPrimary",sx:{margin:"4px 0 0 0"},children:(0,S.t)(V,null===C||void 0===C?void 0:C.decimals).toFormat()}),(0,w.jsx)(c.A,{className:s.tokenAssets,children:A&&V?"\u2248\n              ".concat((0,u.o)((0,S.t)(V,null===C||void 0===C?void 0:C.decimals).multipliedBy(A).toString(),4)):"--"})]}),(0,w.jsxs)(l.A,{sx:{width:"50%"},children:[(0,w.jsx)(c.A,{fontSize:"12px",children:"Price"}),(0,w.jsx)(c.A,{color:"textPrimary",sx:{margin:"4px 0 0 0"},children:A?(0,u.o)(A):"--"})]})]}),(0,w.jsxs)(l.A,{sx:{margin:"24px 0 0 0",display:"flex",justifyContent:"flex-end",gap:"10px 10px",flexWrap:"wrap"},children:[ge.includes(n)?null:(0,w.jsx)(fe,{label:"Swap",onClick:()=>{j.push("/swap?input=".concat(n,"&output=").concat(X.Nj.address))}}),(0,w.jsx)(fe,{label:"Send",onClick:async()=>{_(!0)}}),(0,w.jsx)(fe,{label:"Receive",onClick:()=>{z(!0)}}),(0,w.jsx)(fe,{label:"Transactions",onClick:()=>{if(!C||!h)return;const{canisterId:e,standardType:n,symbol:t}=C;if(t===N.Q4.symbol)(0,T.l)("https://dashboard.internetcomputer.org/account//".concat(o),"TOKEN_TRANSACTIONS");else if(U)(0,T.l)("https://dashboard.internetcomputer.org/sns/".concat(U,"/account/").concat(h.toString()),"TOKEN_TRANSACTIONS");else if(C.standardType===N.iF.ICRC1||C.standardType===N.iF.ICRC2){const e=(0,de.AL)(C.canisterId,null===h||void 0===h?void 0:h.toString());(0,T.l)(e,"TOKEN_TRANSACTIONS")}else(0,T.l)("".concat(X.xP,"/token/transactions/").concat(e,"/").concat(null===h||void 0===h?void 0:h.toString(),"?standard=").concat(n),"TOKEN_TRANSACTIONS")}}),n===X.Nj.address&&m===X.Wi.NFID?(0,w.jsx)(fe,{label:d.Ru._({id:"2me3Tk"}),onClick:()=>E(!0)}):null,(null===C||void 0===C?void 0:C.canisterId)===N.Ai.address?(0,w.jsx)(fe,{label:d.Ru._({id:"G97Wmd"}),onClick:()=>{I(!0)}}):null,(null===C||void 0===C?void 0:C.canisterId)===N.jb.address?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(fe,{label:d.Ru._({id:"R3B9EM"}),onClick:()=>Y("unwrap")}),(0,w.jsx)(fe,{label:d.Ru._({id:"hf18Me"}),onClick:()=>Y("wrap")})]}):null,je.filter((e=>e.id===(null===C||void 0===C?void 0:C.canisterId))).map((e=>(0,w.jsx)(ve,{ckToken:e},e.id)))]}),B&&C?(0,w.jsx)(Q,{open:B,onClose:Z,token:C,onTransferSuccess:G}):null,W&&C?(0,w.jsx)(le,{open:W,onClose:()=>E(!1),token:C,onTransferSuccess:G}):null,b?(0,w.jsx)(ne,{open:b,onClose:()=>I(!1),onTopUpSuccess:()=>{P(R+1)}}):null,F?(0,w.jsx)(he,{open:F,onClose:()=>z(!1),address:h?(null===C||void 0===C?void 0:C.standardType)===N.iF.EXT||(null===C||void 0===C?void 0:C.canisterId)===X.Nj.address?(0,x.l)(h.toString()):h.toString():""}):null]})}function ye(e){let{list:n,loading:t,isHideSmallBalances:i,searchValue:s}=e;return(0,w.jsxs)(l.A,{sx:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px","@media(max-width: 1088px)":{gridTemplateColumns:"1fr 1fr",gap:"12px 12px"},"@media(max-width: 640px)":{gridTemplateColumns:"1fr",gap:"12px 0"}},children:[n.map((e=>(0,w.jsx)(Ae,{canisterId:e,isHideSmallBalances:i,searchValue:s},e))),0!==n.length||t?null:(0,w.jsx)(O.YQ,{}),t?(0,w.jsxs)(O.FO,{children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{}),(0,w.jsx)("div",{})]}):null]})}var we,Ce,be=t(913),ke=t(75660);function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ie.apply(this,arguments)}function Se(e,n){let{title:t,titleId:i,...s}=e;return a.createElement("svg",Ie({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),t?a.createElement("title",{id:i},t):null,we||(we=a.createElement("rect",{x:9,y:15,width:14,height:2,rx:1,fill:"white"})),Ce||(Ce=a.createElement("rect",{x:17,y:9,width:14,height:2,rx:1,transform:"rotate(90 17 9)",fill:"white"})))}const Te=a.forwardRef(Se);t.p;var Re=t(23651),Pe=t(20490),Be=t(69095),_e=t(89564),Fe=t(12293),ze=t(73654),Ne=t(93217),We=t(9473);function Ee(e){var n;let{canisterId:t}=e;const i=(0,k.A)(),s=(0,ke.A)(i.breakpoints.down("sm")),a=null!==(n=(0,Pe.Fw)())&&void 0!==n?n:[],r=(0,Pe.hU)(),d=(0,Pe.HG)(),{result:u}=(0,J.Vs)(t);return(0,w.jsxs)(l.A,{sx:{display:"grid",gridTemplateColumns:"190px 1fr 80px",gap:"0 20px",height:"73px",alignItems:"center",borderTop:"1px solid rgba(189, 200, 240, 0.082)"},children:[(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",children:[(0,w.jsx)(We.H,{logo:null===u||void 0===u?void 0:u.logo,size:"32px"}),(0,w.jsx)(P.Ay,{ml:1,item:!0,xs:!0,children:(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",mr:"5px",children:[(0,w.jsxs)(P.Ay,{item:!0,xs:!0,sx:{width:"80px",overflow:"hidden"},children:[(0,w.jsx)(c.A,{children:null===u||void 0===u?void 0:u.symbol}),(0,w.jsx)(c.A,{fontSize:12,color:"textSecondary",sx:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null===u||void 0===u?void 0:u.name})]}),(0,w.jsx)(K.Ay,{standard:null===u||void 0===u?void 0:u.standardType})]})})]}),(0,w.jsx)(c.A,{children:s?"":null===u||void 0===u?void 0:u.canisterId}),(0,w.jsx)(w.Fragment,{children:Ne.He.includes(t)?null:(e=>!!a.find((n=>n===e)))(t)?(0,w.jsx)(B.A,{variant:"outlined",color:"primary",size:"small",startIcon:(0,w.jsx)(_e.A,{fontSize:"small"}),onClick:()=>(e=>{d([e])})(t),children:(0,w.jsx)(o.x6,{id:"cnGeoo"})}):(0,w.jsx)(B.A,{variant:"outlined",color:"primary",size:"small",startIcon:(0,w.jsx)(Re.A,{fontSize:"small"}),onClick:()=>(e=>{r([e])})(t),children:(0,w.jsx)(o.x6,{id:"m16xKo"})})})]})}function Le(e){let{open:n,onClose:t}=e;const i=(0,k.A)(),s=(0,ke.A)(i.breakpoints.down("sm")),[r,u]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),h=(0,q.If)(),m=(0,Fe.uZ)(),f=(0,a.useMemo)((()=>{const e=[...Object.keys(null!==m&&void 0!==m?m:[]).filter((e=>!h.find((n=>n.canisterId===e)))).map((e=>{const n=m[e];return{canisterId:e,name:n.name,symbol:n.symbol}})),...h.filter((e=>!e.configs.find((e=>"WALLET"===e.name&&"true"===e.value)))).map((e=>({canisterId:e.canisterId,name:e.name,symbol:e.symbol})))];return r?e.filter((e=>e.name.toLowerCase().includes(r.toLowerCase())||e.symbol.toLowerCase().includes(r.toLowerCase()))):e}),[m,h,r]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(O.aF,{open:n,onClose:t,title:d.Ru._({id:"hcMj1I"}),dialogProps:{sx:{"& .MuiPaper-root":{width:"700px",maxWith:"700px"}}},children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(O.GV,{contained:!0,background:i.palette.background.level1,borderRadius:"12px",InputProps:{startAdornment:(0,w.jsx)(R.A,{position:"start",children:(0,w.jsx)(Be.C0l,{stroke:1.5,size:"1rem"})})},fullWidth:!0,size:s?"small":void 0,placeholder:d.Ru._({id:"UNoLzB"}),onChange:async e=>{u(e)}})}),(0,w.jsxs)(l.A,{mt:"16px",children:[(0,w.jsxs)(l.A,{sx:{display:"grid",gridTemplateColumns:"190px 1fr 80px",gap:"0 20px",height:"57px",alignItems:"center"},children:[(0,w.jsx)(c.A,{children:(0,w.jsx)(o.x6,{id:"TP9/K5"})}),(0,w.jsx)(c.A,{sx:{"@media (max-width: 540px)":{display:"none"}},children:(0,w.jsx)(o.x6,{id:"ncZU7A"})}),(0,w.jsx)(c.A,{children:"\xa0"})]}),(0,w.jsx)(l.A,{sx:{maxHeight:"260px",overflow:"auto","@media (max-width: 540px)":{maxHeight:"290px"}},children:f.map(((e,n)=>(0,w.jsx)(Ee,{canisterId:e.canisterId},"".concat(e.canisterId,"-").concat(n,"}"))))}),0===f.length?(0,w.jsx)(l.A,{sx:{borderTop:"1px solid rgba(189, 200, 240, 0.082)"},children:(0,w.jsx)(O.YQ,{})}):null]}),(0,w.jsx)(P.Ay,{container:!0,justifyContent:"center",sx:{paddingTop:"20px",borderTop:"1px solid rgba(81, 81, 81, 1)",borderColor:"rgba(189, 200, 240, 0.082)"},children:(0,w.jsx)(O.QW,{onClick:()=>p(!0),children:(0,w.jsx)(o.x6,{id:"mDl+W3"})})})]}),x?(0,w.jsx)(ze.Ay,{open:x,onClose:()=>p(!1),onImportSuccessfully:()=>t()}):null]})}function Me(){const[e,n]=(0,a.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Te,{style:{cursor:"pointer"},onClick:()=>n(!0)}),e?(0,w.jsx)(Le,{open:e,onClose:()=>n(!1)}):null]})}const He=[{name:d.Ru._({id:"TP9/K5"}),pageName:"token"},{name:d.Ru._({id:"zJlXbX"}),pageName:"nft"}];function Oe(){const{page:e,setPage:n}=(0,a.useContext)(y),t=(0,a.useMemo)((()=>He.filter((n=>n.pageName===e))[0].pageName),[e]);return(0,w.jsx)(l.A,{sx:{display:"flex",gap:"0 24px",alignItems:"center"},children:He.map((e=>(0,w.jsx)(c.A,{variant:"h3",color:t===e.pageName?"textPrimary":"",onClick:()=>(e=>{n(e.pageName)})(e),sx:{cursor:"pointer"},children:e.name},e.pageName)))})}function De(e){let{isHideSmallBalances:n,onHideSmallBalances:t}=e;return(0,w.jsxs)(l.A,{sx:{display:"flex",gap:"0 5px",alignItems:"center"},children:[(0,w.jsx)(be.A,{checked:n,onChange:e=>t(e.target.checked)}),(0,w.jsx)(c.A,{sx:{cursor:"pointer"},onClick:()=>t(!n),children:(0,w.jsx)(o.x6,{id:"YyxZI4"})})]})}function Ve(e){let{onHideSmallBalances:n,isHideSmallBalances:t}=e;const i=(0,k.A)(),s=(0,ke.A)(i.breakpoints.down("sm"));return(0,w.jsxs)(l.A,{children:[(0,w.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,w.jsx)(Oe,{}),(0,w.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:"0 10px"},children:[s?null:(0,w.jsx)(De,{onHideSmallBalances:n,isHideSmallBalances:t}),(0,w.jsx)(Me,{})]})]}),s?(0,w.jsx)(l.A,{sx:{margin:"10px 0 0 0"},children:(0,w.jsx)(De,{onHideSmallBalances:n,isHideSmallBalances:t})}):null]})}var Ze=t(22399);function Ge(){const[e,n]=(0,a.useState)(""),[t,i]=(0,Pe.Jl)(),s=(0,Pe.Fw)(),r=(0,q.If)(),o=(0,a.useMemo)((()=>{let e=[N.zz.canisterId.toString(),N.tv.canisterId.toString()];return Ze.Nm===Ze.pG.IC&&(e=[...e,...r.filter((e=>!!e.configs.find((e=>"WALLET"===e.name&&"true"===e.value)))).sort(((e,n)=>e.rank<n.rank?-1:e.rank>n.rank?1:0)).map((e=>e.canisterId))]),[...new Set([...e,...s.filter((e=>!Ne.He.includes(e)))])]}),[s,r]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:"24px 0",overflow:"auto hidden"},children:[(0,w.jsx)(Ve,{onHideSmallBalances:e=>{i(e)},onSearchValue:e=>{n(e)},isHideSmallBalances:t}),(0,w.jsx)(ye,{isHideSmallBalances:t,list:o,searchValue:e})]})})}var Ue,Qe,Xe,qe=t(34222),Je=t(41134),Ke=t(82231),Ye=t(58160),$e=t(56994),en=t(90175),nn=t(90373),tn=t(59717),sn=t(29958);function an(e){var n;let{data:t}=e;const{result:i}=(0,sn.g4)(t.cid),[s,a,r]=(0,tn.CM)();return(0,w.jsxs)(Je.A,{children:[(0,w.jsx)(Ke.A,{children:(0,w.jsxs)(P.Ay,{container:!0,alignItems:"center",children:[(0,w.jsx)(qe.A,{src:null!==i&&void 0!==i?i:"",children:"\xa0"}),(0,w.jsx)(P.Ay,{ml:1,item:!0,xs:!0,sx:{width:"120px",overflow:"hidden"},children:(0,w.jsx)(c.A,{fontSize:12,color:"textSecondary",sx:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})})]})}),(0,w.jsx)(Ke.A,{children:(0,w.jsx)(c.A,{children:null===(n=t.cid)||void 0===n?void 0:n.toString()})}),(0,w.jsx)(Ke.A,{children:(0,de.hA)(t.owner)?null:(l=t,s.find((e=>e===(null===l||void 0===l?void 0:l.cid)))||X.Tf.includes(null===l||void 0===l?void 0:l.cid)?(0,w.jsx)(B.A,{variant:"outlined",color:"primary",size:"small",startIcon:(0,w.jsx)(_e.A,{}),onClick:()=>{return e=t.cid,void r(e);var e},children:(0,w.jsx)(o.x6,{id:"cnGeoo"})}):(0,w.jsx)(B.A,{variant:"outlined",color:"primary",size:"small",startIcon:(0,w.jsx)(Re.A,{}),onClick:()=>{return e=t.cid,void a([e]);var e},children:(0,w.jsx)(o.x6,{id:"m16xKo"})}))})]});var l}function rn(e){let{open:n,onClose:t}=e;const i=(0,k.A)(),s=(0,ke.A)(i.breakpoints.down("sm")),[r,l]=(0,a.useState)(""),{result:c}=(0,sn.H3)(0,1e3),{content:u}=null!==c&&void 0!==c?c:{content:[]},x=(0,a.useMemo)((()=>u.filter((e=>{var n,t;return!r||((null===(n=e.name)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(null===r||void 0===r?void 0:r.toLowerCase()))||e.cid===r)}))),[r,u]);return(0,w.jsx)(pe.A,{open:n,onClose:t,title:d.Ru._({id:"XA8JXM"}),dialogProps:{sx:{"& .MuiPaper-root":{width:"700px",maxWith:"700px"}}},children:(0,w.jsxs)(P.Ay,{container:!0,spacing:3,children:[(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(O.GV,{contained:!0,borderRadius:"12px",background:i.palette.background.level1,InputProps:{startAdornment:(0,w.jsx)(R.A,{position:"start",children:(0,w.jsx)(Be.C0l,{stroke:1.5,size:"1rem"})})},fullWidth:!0,size:s?"small":void 0,placeholder:"Search canister",onChange:l})}),(0,w.jsxs)(P.Ay,{item:!0,xs:12,children:[(0,w.jsx)(Ye.A,{style:{maxHeight:"400px"},children:(0,w.jsxs)($e.A,{children:[(0,w.jsx)(en.A,{children:(0,w.jsxs)(Je.A,{children:[(0,w.jsx)(Ke.A,{children:(0,w.jsx)(o.x6,{id:"6YtxFj"})}),(0,w.jsx)(Ke.A,{children:(0,w.jsx)(o.x6,{id:"Du6bPw"})}),(0,w.jsx)(Ke.A,{children:"\xa0"})]})}),(0,w.jsx)(nn.A,{children:x.map(((e,n)=>(0,w.jsx)(an,{data:e},"".concat(e.cid,"-").concat(n))))})]})}),0===x.length?(0,w.jsx)(O.YQ,{}):null]})]})})}function ln(){const[e,n]=(0,a.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Te,{style:{cursor:"pointer"},onClick:()=>n(!0)}),e&&(0,w.jsx)(rn,{open:e,onClose:()=>n(!1)})]})}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(this,arguments)}function dn(e,n){let{title:t,titleId:i,...s}=e;return a.createElement("svg",on({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},s),t?a.createElement("title",{id:i},t):null,Ue||(Ue=a.createElement("path",{d:"M8 12V12C8 9.79086 9.79086 8 12 8H20C22.2091 8 24 9.79086 24 12V20C24 22.2091 22.2091 24 20 24H12C9.79086 24 8 22.2091 8 20V20",stroke:"white",strokeWidth:2,strokeLinecap:"round"})),Qe||(Qe=a.createElement("rect",{x:7,y:15,width:12,height:2,rx:1,fill:"white"})),Xe||(Xe=a.createElement("path",{d:"M16.5 13L19.5 16L16.5 19",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const cn=a.forwardRef(dn);t.p;var un;!function(e){e.EXT="EXT"}(un||(un={}));var xn=t(62472);const pn=[{label:"EXT",value:un.EXT}];function hn(e){let{open:n,onClose:t}=e;const[i,s]=(0,a.useState)(0),[r,c]=(0,a.useState)(null),[u,x]=(0,a.useState)({standard:un.EXT}),[p,h]=(0,a.useState)(!1),{result:m}=(0,xn.z)(),{nfts:f,importNFT:j}=(0,tn.CP)(),v=(e,n)=>{s(0),c(null),h(!1),x({...u,[n]:e})};(0,a.useEffect)((()=>{if(u.id&&m){const e=m.find((e=>e.id===u.id));c(e)}}),[m,u.id]);let g="";var A;return u.id&&(0,F.R)(u.id)&&((A=u.id)&&A&&f&&f.length>0&&f.find((e=>e.canisterId===A)))&&(g=d.Ru._({id:"QeOBT9"})),u.id&&!(0,F.R)(u.id)&&(g=d.Ru._({id:"hO8ynl"})),u.id&&null!==m&&void 0!==m&&m.length&&!m.find((e=>e.id===u.id))&&(g=d.Ru._({id:"vkGJBC"})),u.id||(g=d.Ru._({id:"seDoL5"})),u.standard||(g=d.Ru._({id:"9jDXVD"})),(0,w.jsxs)(pe.A,{open:n,onClose:t,title:d.Ru._({id:"osXsDn"}),dialogProps:{sx:{"& .MuiPaper-root":{width:"700px",maxWith:"700px"}}},children:[(0,w.jsx)(l.A,{children:(0,w.jsx)(O.GV,{label:d.Ru._({id:"5ZShby"}),select:!0,menus:pn,placeholder:d.Ru._({id:"nUemLL"}),onChange:e=>v(e,"standard"),value:u.standard})}),(0,w.jsx)(l.A,{mt:"30px",children:(0,w.jsx)(O.GV,{label:d.Ru._({id:"ncZU7A"}),placeholder:d.Ru._({id:"seDoL5"}),onChange:e=>v(e,"id"),value:u.id})}),(0,w.jsx)(l.A,{mt:"30px",children:(0,w.jsx)(B.A,{variant:"contained",size:"large",fullWidth:!0,disabled:!!g||!p&&1===i,onClick:async()=>{r&&(j({canisterId:u.id,standard:u.standard}),t())},children:g||(1===i?(0,w.jsx)(o.x6,{id:"7VpPHA"}):(0,w.jsx)(o.x6,{id:"l3s5ri"}))})})]})}function mn(){const[e,n]=(0,a.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(cn,{style:{cursor:"pointer"},onClick:()=>n(!0)}),e&&(0,w.jsx)(hn,{open:e,onClose:()=>n(!1)})]})}function fn(){return(0,w.jsxs)(l.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,w.jsx)(Oe,{}),(0,w.jsxs)(l.A,{sx:{display:"flex",gap:"0 10px"},children:[(0,w.jsx)(mn,{}),(0,w.jsx)(ln,{})]})]})}var jn=t(91194),vn=t(65818),gn=t(69865);const An=["jwh2l-aqaaa-aaaan-qatdq-cai","brx5n-xqaaa-aaaan-qanqa-cai","4lnl6-hqaaa-aaaag-qblla-cai"];function yn(e){let{number:n,name:t,src:i,onClick:s}=e;const a=(0,k.A)();return(0,w.jsx)(l.A,{sx:{background:a.palette.background.level4,borderRadius:"12px",padding:"20px","@media(max-width: 640px)":{padding:"15px"}},onClick:s,children:(0,w.jsx)(P.Ay,{container:!0,alignItems:"center",sx:{cursor:"pointer"},children:(0,w.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:"0 16px",overflow:"hidden"},children:[(0,w.jsx)(qe.A,{style:{width:"60px",height:"60px"},src:null!==i&&void 0!==i?i:"",children:"\xa0"}),(0,w.jsxs)(l.A,{sx:{overflow:"hidden"},children:[(0,w.jsx)(c.A,{color:"textPrimary",fontSize:"16px",fontWeight:600,sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),(0,w.jsx)(c.A,{sx:{margin:"10px 0 0 0",display:"inline-flex",padding:"0px 12px",alignItems:"center",gap:"10px",borderRadius:"40px",background:"#4F5A84",color:"#ffffff",fontWeight:500},children:void 0===n?"--":n})]})]})})})}function wn(e){let{canister:n}=e;const t=(0,q.F7)(),i=(0,oe.W6)(),{refreshCounter:s}=(0,a.useContext)(y),{result:r}=(0,sn.Ny)(n.cid,t,s),{result:l}=(0,sn.g4)(n.cid);return(0,w.jsx)(yn,{onClick:()=>{i.push("/wallet/nft/canister/details/".concat(n.cid))},src:l,name:n.name,number:null===r||void 0===r?void 0:r.toString()})}function Cn(e){let{collection:n,userAllExtNfts:t}=e;const i=(0,oe.W6)(),s=(0,a.useMemo)((()=>{if(t&&n)return t.filter((e=>e.canister===n.id)).length}),[t,n]);return(0,w.jsx)(yn,{name:n.name,src:n.avatar,onClick:()=>{i.push("/wallet/nft/canister/details/".concat(n.id))},number:s})}function bn(){const{result:e,loading:n}=(0,sn.H3)(0,1e3),t=null===e||void 0===e?void 0:e.content,[i]=(0,tn.CM)(),s=(0,q.F7)(),r=(0,a.useMemo)((()=>null===t||void 0===t?void 0:t.filter((e=>(i.includes(e.cid)||(0,de.hA)(e.owner))&&!An.includes(e.cid)))),[i,t]),{nfts:o}=(0,tn.CP)(),{result:d}=(0,xn.z)(),c=(0,a.useMemo)((()=>d?o.map((e=>d.find((n=>n.id===e.canisterId)))).filter((e=>!!e)):[]),[o,d]),{result:u}=(0,gn.Z)(s);return(0,w.jsxs)(l.A,{children:[(0,w.jsx)(fn,{}),(0,w.jsx)(l.A,{sx:{overflow:"hidden",width:"100%",margin:"30px 0"},children:(0,w.jsxs)(l.A,{sx:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px","@media(max-width: 1088px)":{gridTemplateColumns:"1fr 1fr"},"@media(max-width: 640px)":{gridTemplateColumns:"100%",gap:"20px 0"}},children:[!n&&(null===c||void 0===c?void 0:c.map((e=>(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(Cn,{collection:e,userAllExtNfts:u})},e.id)))),null===r||void 0===r?void 0:r.map((e=>(0,w.jsx)(P.Ay,{item:!0,xs:12,children:(0,w.jsx)(wn,{canister:e})},e.cid)))]})}),n?(0,w.jsx)(vn.A,{loading:!0}):null,r&&0===r.length&&c&&0===c.length&&!n?(0,w.jsx)(jn.A,{}):null]})}var kn=t(90786);function In(){const[e,n]=(0,a.useState)(0),[t,i]=(0,a.useState)(!1),[s,o]=(0,a.useState)({}),[d,c]=(0,a.useState)({}),[u,x]=(0,a.useState)(""),[p,h]=(0,a.useState)(new r.A(0)),[m,j]=(0,a.useState)("token"),v=(0,f.RZ)(),g=(0,a.useMemo)((()=>Object.values(s).reduce(((e,n)=>e.plus(n)),new r.A(0))),[s]),A=(0,a.useMemo)((()=>Object.values(d).reduce(((e,n)=>e.plus(n)),new r.A(0))),[d]);return v?(0,w.jsx)(y.Provider,{value:{refreshTotalBalance:t,setRefreshTotalBalance:i,refreshCounter:e,setRefreshCounter:n,totalValue:g,setTotalValue:(e,n)=>{o((t=>({...t,[e]:n})))},totalUSDBeforeChange:A,setTotalUSDBeforeChange:(e,n)=>{c((t=>({...t,[e]:n})))},transferTo:u,setTransferTo:x,transferAmount:p,setTransferAmount:h,page:m,setPage:j},children:(0,w.jsx)(l.A,{sx:{display:"flex",justifyContent:"center"},children:(0,w.jsxs)(l.A,{sx:{width:"100%",maxWidth:"1400px"},children:[(0,w.jsx)(b,{}),(0,w.jsxs)(l.A,{sx:{margin:"30px 0 0 0"},children:[(0,w.jsx)(l.A,{sx:{display:"token"===m?"block":"none"},children:(0,w.jsx)(Ge,{})}),(0,w.jsx)(l.A,{sx:{display:"nft"===m?"block":"none"},children:(0,w.jsx)(bn,{})})]})]})})}):(0,w.jsx)(kn.A,{})}},23651:(e,n,t)=>{var i=t(59557);n.A=void 0;var s=i(t(19401)),a=t(36092),r=(0,s.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.A=r},89564:(e,n,t)=>{var i=t(59557);n.A=void 0;var s=i(t(19401)),a=t(36092),r=(0,s.default)((0,a.jsx)("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule");n.A=r},62472:(e,n,t)=>{t.d(n,{z:()=>r});var i=t(53248),s=t(37037),a=function(e,n,t,i){return new(t||(t=Promise))((function(s,a){function r(e){try{o(i.next(e))}catch(n){a(n)}}function l(e){try{o(i.throw(e))}catch(n){a(n)}}function o(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,l)}o((i=i.apply(e,n||[])).next())}))};function r(){return(0,s.Pz)((0,i.useCallback)((()=>a(this,void 0,void 0,(function*(){const e=yield fetch("https://us-central1-entrepot-api.cloudfunctions.net/api/collections").catch((()=>{}));if(e)return yield e.json()}))),[]))}},69865:(e,n,t)=>{t.d(n,{Z:()=>r});var i=t(53248),s=t(37037),a=function(e,n,t,i){return new(t||(t=Promise))((function(s,a){function r(e){try{o(i.next(e))}catch(n){a(n)}}function l(e){try{o(i.throw(e))}catch(n){a(n)}}function o(e){var n;e.done?s(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,l)}o((i=i.apply(e,n||[])).next())}))};function r(e,n){const t=(0,i.useCallback)((()=>a(this,void 0,void 0,(function*(){if(!e)return;const n=yield fetch("https://us-central1-entrepot-api.cloudfunctions.net/api/user/".concat(e,"/all")).catch((()=>{}));return n?yield n.json():void 0}))),[e]);return(0,s.Pz)(t,n)}},51168:(e,n,t)=>{t.d(n,{O:()=>s});const i=64;function s(e){return/^[0-9a-fA-F]+$/.test(e)&&i===e.length}}}]);
//# sourceMappingURL=9320.91a905cb.chunk.js.map