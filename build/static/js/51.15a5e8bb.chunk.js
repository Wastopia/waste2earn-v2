"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[51],{51:(n,t,e)=>{e.r(t),e.d(t,{TokenStandards:()=>C,default:()=>I});var i=e(90329),o=e(9259),d=e(53248),r=e(92566),a=e(91331),l=e(8428),u=e(67132),s=e(22545),c=e(84755),h=e(49828),f=e(44248),v=e(52351),x=e(10742),g=e(36092);const p=(0,v.A)((()=>({box:{width:"100%",height:"100%",position:"relative",border:"1px dashed #4f5a84",borderRadius:"8px"},input:{position:"absolute",width:"100%",height:"100%",zIndex:"10",top:0,left:0,right:0,bottom:0,display:"block","& *":{background:"none"},"& fieldset":{border:"none"},"& .MuiInputBase-root":{height:"100%"},"& input":{padding:"0",opacity:"0",height:"100%",cursor:"pointer"},"& label":{opacity:"0"}},logo:{width:"80px",height:"80px",margin:"16px 0"}})));function y(n){let{onChange:t,defaultValue:e,...i}=n;const o=p(),[a,u]=(0,d.useState)(""),s={...i,defaultValue:void 0};(0,d.useEffect)((()=>{e&&u(e)}),[e]);return(0,g.jsxs)(r.Ay,{container:!0,flexDirection:"column",justifyContent:"center",alignItems:"center",className:o.box,children:[""===a?(0,g.jsx)(x.A,{sx:{fontSize:"84px"}}):(0,g.jsx)("img",{className:o.logo,src:a,alt:""}),(0,g.jsx)(f.A,{className:o.input,fullWidth:!0,...s,type:"file",inputProps:{accept:".jpeg, .png, .jpg, .gif"},title:"",onChange:n=>{n.preventDefault();const e=new FileReader,i=n.target.files[0];if(i&&i.size/1024>100)return t&&t({status:!1,result:10400,message:"no more than 100K"}),void(n.target.value=null);if(i){const n=new FileReader;n.onload=n=>{((n,e)=>{const i=btoa(n);t&&t(e+i)})(n.target.result,"data:".concat(i.type,";base64,"))},n.readAsBinaryString(i)}void 0!==e&&void 0!==i&&(e.onloadend=()=>{u(e.result)},e.readAsDataURL(i))}}),""===a?(0,g.jsx)(l.A,{mb:2,children:"Drop your logo here(less than 100K)"}):null]})}var m=e(78878),j=e(84008),k=e(81795),A=e(8265),b=e(29954),P=e(44627);const C=[{label:"ICRC2",value:b.iF.ICRC2}];function I(){const[n]=(0,m.I5)(),[t]=(0,m.dX)(),[e,f]=(0,d.useState)({name:"",logo:"",manager:"",tokenId:"",standard:""}),v=(n,t)=>{f({...e,[t]:n})};let x="";return e.name||(x=o.Ru._({id:"LnUcnD"})),e.logo||(x=o.Ru._({id:"UbLjqE"})),e.standard||(x=o.Ru._({id:"9jDXVD"})),e.manager||(x=o.Ru._({id:"Bv5raO"})),e.manager&&!(0,A.R)(e.manager)&&(x=o.Ru._({id:"HdT4Il"})),e.tokenId||(x=o.Ru._({id:"p8uMpR"})),(0,g.jsx)(c.mO,{children:(0,g.jsx)(c.Am,{children:(0,g.jsx)(r.Ay,{container:!0,justifyContent:"center",children:(0,g.jsx)(a.A,{sx:{width:"100%",maxWidth:"570px"},children:(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"0wOQxy"}),onChange:n=>v(n,"tokenId")})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"6IvSyW"}),select:!0,menus:C,placeholder:o.Ru._({id:"9jDXVD"}),onChange:n=>v(n,"standard"),value:e.standard})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"6YtxFj"}),onChange:n=>v(n,"name")})}),(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(l.A,{color:"text.secondary",children:(0,g.jsx)(i.x6,{id:"iG7KNr"})}),(0,g.jsxs)(a.A,{mt:"20px",children:[(0,g.jsx)(a.A,{sx:{height:"160px"},children:(0,g.jsx)(y,{defaultValue:e.logo,onChange:n=>{"string"===(typeof n).toLowerCase()?v(n,"logo"):!n.status&&n.message&&t(n.message)},fullWidth:!0})}),(0,g.jsx)(a.A,{mt:1,children:(0,g.jsx)(l.A,{children:(0,g.jsx)(i.x6,{id:"svhWXM"})})}),(0,g.jsx)(a.A,{mt:"10px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"ZAVklK"}),value:e.logo,onChange:n=>v(n,"logo"),fullWidth:!0})})]})]}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(c.GV,{label:(0,g.jsx)(i.x6,{id:"DCUTRe"}),onChange:n=>v(n,"manager")})}),(0,g.jsx)(a.A,{mt:"20px",children:(0,g.jsx)(h.A,{onSubmit:async(i,d)=>{let{loading:r}=d;if(r)return;const{valid:a}=await(0,P.E)(e.tokenId,e.standard);if(!1===a)return void t(o.Ru._({id:"2BsFOl",values:{0:e.standard}}));const{status:l,message:u}=await(0,j.vG)(i,{logo:e.logo,name:e.name,managerAddress:{principal:k.p.fromText(e.manager)},tokenCid:e.tokenId,projectCid:"",tokenStand:e.standard});"ok"===l?n(o.Ru._({id:"cNqEAb"})):t(u)},children:n=>{let{submit:t,loading:e}=n;return(0,g.jsx)(u.A,{onClick:t,disabled:e||!!x,fullWidth:!0,variant:"contained",size:"large",startIcon:e?(0,g.jsx)(s.A,{size:22,color:"inherit"}):null,children:x||o.Ru._({id:"lq1mXR"})})}})})]})})})})})}},10742:(n,t,e)=>{var i=e(59557);t.A=void 0;var o=i(e(99691)),d=e(36092),r=(0,o.default)((0,d.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");t.A=r},84008:(n,t,e)=>{e.d(t,{AA:()=>C,An:()=>_,Cz:()=>h,Gh:()=>y,UN:()=>P,Uu:()=>b,W8:()=>p,Xn:()=>j,_8:()=>f,bX:()=>x,fI:()=>v,l:()=>m,lH:()=>g,lT:()=>I,mQ:()=>A,uD:()=>k,vG:()=>s,xo:()=>c});var i=e(53248),o=e(35479),d=e(16752),r=e(9978),a=e(37037),l=e(93864),u=function(n,t,e,i){return new(e||(e=Promise))((function(o,d){function r(n){try{l(i.next(n))}catch(t){d(t)}}function a(n){try{l(i.throw(n))}catch(t){d(t)}}function l(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(r,a)}l((i=i.apply(n,t||[])).next())}))};function s(n,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.AW)(n)).create(t))}))}function c(n,t){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if((0,d.W)(n,t))return yield function(n,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.AW)()).findProjectPage(BigInt(n),BigInt(t))).data}))}(n,t)}))),[n,t]))}function h(n){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n)return yield function(n){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getProject()).data}))}(n)}))),[n]))}function f(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).create(e))}))}function v(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).deleteProposal(e))}))}function x(n,t,e){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&t)return yield function(n,t){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getProposal(t)).data}))}(n,t)}))),[t,n]),e)}function g(n,t,e,s,c){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(s,c))return yield function(n,t,e,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findPage((0,r.E)(t),(0,r.E)(e||0===e?BigInt(e):void 0),BigInt(i),BigInt(d))).data}))}(n,t,e,s,c)}))),[n,t,e,s,c]))}function p(n,t,e,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).setVotePower(e,i))}))}function y(n,t,e,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).vote(e,i,BigInt(d)))}))}function m(n,t,e,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findRecordPage(t,BigInt(e),BigInt(i))).data}))}function j(n,t,e,i,d){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).findVotePower((0,r.E)(t),(0,r.E)(e),BigInt(i),BigInt(d))).data}))}function k(n,t,e,o,r,l){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(o,r))return yield j(n,t,e,o,r)}))),[n,e,t,o,r]),l)}function A(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).addAdmin(e))}))}function b(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(t,n)).deleteAdmin(e))}))}function P(n,t,e,r){return(0,a.Pz)((0,i.useCallback)((()=>u(this,void 0,void 0,(function*(){if(n&&(0,d.W)(t,e))return yield function(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.pv)(n)).getAdminList(BigInt(t),BigInt(e))).data}))}(n,t,e)}))),[n,t,e]),r)}function C(n,t,e){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.__)(t,n)).create_batch(e))}))}function I(n,t,e,i){return u(this,void 0,void 0,(function*(){return(0,o.Pk)(yield(yield(0,l.__)(t,n)).create_chunk(e,i))}))}function _(n,t,e,i){return u(this,void 0,void 0,(function*(){const d=yield(yield(0,l.__)(t,n)).commit_batch(e,i);return(0,o.Pk)(void 0===d)}))}}}]);
//# sourceMappingURL=51.15a5e8bb.chunk.js.map