"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[6904],{67521:(e,n,t)=>{t.d(n,{A:()=>o});var r=t(36092);function o(){return(0,r.jsxs)("svg",{width:"30",height:"31",viewBox:"0 0 30 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{x:"0.5",y:"1",width:"29",height:"29",rx:"8.5",fill:"#111936",stroke:"#29314F"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6875 11.5625C13.6875 11.0793 14.0793 10.6875 14.5625 10.6875C15.0457 10.6875 15.4375 11.0793 15.4375 11.5625V17.5374L17.6561 15.3188C17.9978 14.9771 18.5518 14.9771 18.8935 15.3188C19.2352 15.6605 19.2352 16.2145 18.8935 16.5562L15.1812 20.2685C15.0095 20.4402 14.7843 20.5256 14.5593 20.5248C14.3343 20.5256 14.109 20.4402 13.9373 20.2685L10.225 16.5562C9.88332 16.2145 9.88332 15.6605 10.225 15.3188C10.5667 14.9771 11.1208 14.9771 11.4625 15.3188L13.6875 17.5438V11.5625Z",fill:"#8492C4"})]})}},11924:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(63504),o=t(52351),i=t(36092);const l=e=>{let{borderColor:n,size:t}=e;return(0,o.A)((()=>({avatar:{width:t||"24px",height:t||"24px",border:"1px solid ".concat(n)}})))};function s(e){let{currency:n,borderColor:t="#ffffff",bgColor:o="#97a4ef",className:s,size:a}=e;const c=l({borderColor:t,size:a})();return(0,i.jsx)(r.A,{className:"".concat(c.avatar," ").concat(s||""),sx:{bgcolor:o},src:null===n||void 0===n?void 0:n.logo,children:"\xa0"})}},8410:(e,n,t)=>{t.d(n,{A:()=>f});var r=t(90329),o=t(53248),i=t(92566),l=t(8428),s=t(91331),a=t(52351),c=t(86304),u=t(9662),d=t(56634),p=t(84755),x=t(36092);const m=e=>(0,a.A)((n=>({selectButton:{position:"relative",padding:"0 16px 0 12px",height:"44px",color:"#ffffff",cursor:"pointer",backgroundColor:(0,u.g4)(n)?n.palette.background.level2:e?n.colors.lightGray200:"#ffffff",borderRadius:"".concat(n.radius,"px")},selectButtonActive:{padding:"0 16px",height:"44px",lineHeight:"44px",background:n.themeOption.defaultGradient,color:"#ffffff",cursor:"pointer",borderRadius:"".concat(n.radius,"px")},arrow:{color:(0,u.g4)(n)?"inherit":"#757575","&.active":{color:"#fff"}}})));function f(e){let{currency:n,onClick:t,bgGray:a=!1,loading:u,disabled:f}=e;const g=m(a)(),h=(0,o.useCallback)((()=>{u||t&&t()}),[u,t]);return n?(0,x.jsxs)(i.Ay,{container:!0,className:g.selectButton,alignItems:"center",onClick:h,children:[(0,x.jsx)(i.Ay,{item:!0,mr:1,xs:!0,children:(0,x.jsxs)(i.Ay,{container:!0,alignItems:"center",gap:"0 8px",children:[(0,x.jsx)(p.HM,{logo:n.logo,size:"28px",tokenId:n.address}),(0,x.jsx)(l.A,{component:"span",children:n.symbol})]})}),!f&&(0,x.jsx)(c.A,{className:g.arrow,sx:{fontSize:"1rem"}}),u&&(0,x.jsx)(d.A,{loading:u,circularSize:20})]}):(0,x.jsx)(s.A,{className:g.selectButtonActive,onClick:h,children:(0,x.jsxs)(i.Ay,{container:!0,alignItems:"center",children:[(0,x.jsx)(i.Ay,{container:!0,alignItems:"center",item:!0,xs:!0,children:(0,x.jsx)(r.x6,{id:"T0Y2+3"})}),(0,x.jsx)(c.A,{className:"".concat(g.arrow," active"),sx:{fontSize:"1rem"}})]})})}},77631:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(53248),o=t(85067),i=t(61269),l=t(8410),s=t(36092);function a(e){let{currencyId:n,onChange:t,disabledCurrency:a,activeCurrencies:c,bgGray:u=!1,loading:d,disabled:p=!1,version:x}=e;const[m,f]=(0,r.useState)(!1),[,g]=(0,o.rd)(n),h=(0,r.useMemo)((()=>a&&a.length?a.map((e=>null===e||void 0===e?void 0:e.address)):[]),[a]),v=(0,r.useMemo)((()=>c&&c.length?c.map((e=>null===e||void 0===e?void 0:e.address)):[]),[c]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{currency:g,onClick:()=>{p||f(!0)},bgGray:u,loading:d,disabled:!0}),m&&(0,s.jsx)(i.Ay,{open:m,onClose:()=>f(!1),onChange:e=>{t&&t(e),f(!1)},disabledCurrencyIds:h,activeCurrencyIds:v,version:x})]})}},78084:(e,n,t)=>{t.d(n,{W:()=>f});var r,o,i=t(90329),l=t(68483),s=t(8428),a=t(92902),c=t(91331),u=t(53248);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function p(e,n){let{title:t,titleId:i,...l}=e;return u.createElement("svg",d({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":i},l),t?u.createElement("title",{id:i},t):null,r||(r=u.createElement("g",{clipPath:"url(#clip0_37103_16306)"},u.createElement("path",{d:"M6 0C4.81332 0 3.65328 0.351894 2.66658 1.01118C1.67989 1.67047 0.910851 2.60754 0.456726 3.7039C0.00259969 4.80026 -0.11622 6.00666 0.115291 7.17054C0.346802 8.33443 0.918247 9.40353 1.75736 10.2426C2.59648 11.0818 3.66558 11.6532 4.82946 11.8847C5.99335 12.1162 7.19975 11.9974 8.2961 11.5433C9.39246 11.0892 10.3295 10.3201 10.9888 9.33342C11.6481 8.34673 12 7.18669 12 6C12 4.4087 11.3679 2.88258 10.2426 1.75736C9.11743 0.632141 7.5913 0 6 0V0ZM6 10.2C5.83048 10.2 5.66476 10.1497 5.5238 10.0555C5.38284 9.96136 5.27298 9.82749 5.20811 9.67087C5.14323 9.51425 5.12626 9.34191 5.15933 9.17564C5.1924 9.00937 5.27404 8.85664 5.39391 8.73677C5.51379 8.61689 5.66651 8.53526 5.83278 8.50218C5.99905 8.46911 6.1714 8.48609 6.32802 8.55096C6.48464 8.61584 6.61851 8.7257 6.71269 8.86665C6.80688 9.00761 6.85715 9.17333 6.85715 9.34286C6.85715 9.57019 6.76684 9.7882 6.60609 9.94895C6.44535 10.1097 6.22733 10.2 6 10.2ZM8.34 5.28857C8.02434 5.709 7.65227 6.08395 7.23429 6.40286C7.01478 6.56253 6.82846 6.76341 6.68572 6.99429C6.59995 7.25072 6.56786 7.52206 6.59143 7.79143H5.33143V7.45714C5.3203 7.11134 5.39077 6.76778 5.53715 6.45429C5.74793 6.11928 6.02152 5.82822 6.34286 5.59714C6.60235 5.40248 6.84597 5.18752 7.07143 4.95429C7.18935 4.80235 7.25275 4.61518 7.25143 4.42286C7.25163 4.29029 7.22253 4.15931 7.16622 4.03929C7.10992 3.91927 7.02779 3.81317 6.92572 3.72857C6.68557 3.52931 6.38041 3.42556 6.06857 3.43714C5.75649 3.43336 5.45304 3.53957 5.21143 3.73714C4.96277 3.98878 4.79297 4.30753 4.72286 4.65429C4.68 4.91143 3.43715 5.02286 3.44572 4.5C3.46448 4.21218 3.54092 3.93107 3.6705 3.67338C3.80008 3.4157 3.98015 3.1867 4.2 3C4.69781 2.5651 5.33905 2.32998 6 2.34C6.69015 2.30376 7.3689 2.52695 7.90286 2.96571C8.11452 3.14456 8.28416 3.36785 8.39971 3.6197C8.51527 3.87155 8.5739 4.14577 8.57143 4.42286C8.57913 4.72768 8.49878 5.02825 8.34 5.28857Z",fill:"#EFEFFF"}))),o||(o=u.createElement("defs",null,u.createElement("clipPath",{id:"clip0_37103_16306"},u.createElement("rect",{width:12,height:12,fill:"white"})))))}const x=u.forwardRef(p);t.p;var m=t(36092);function f(e){let{fontSize:n="14px"}=e;const t=(0,l.W6)();return(0,m.jsxs)(s.A,{component:"div",sx:{cursor:"pointer",display:"flex",alignItems:"center"},onClick:()=>t.push("/swap/reclaim"),children:[(0,m.jsx)(s.A,{color:"secondary",mr:"5px",sx:{fontSize:n},children:(0,m.jsx)(i.x6,{id:"ukfg13"})}),(0,m.jsx)(a.A,{PopperProps:{sx:{"& .MuiTooltip-tooltip":{background:"#ffffff",borderRadius:"8px",padding:"12px 16px","& .MuiTooltip-arrow":{color:"#ffffff"}}}},title:(0,m.jsx)(c.A,{children:(0,m.jsx)(s.A,{color:"text.400",fontSize:"14px",children:(0,m.jsx)(i.x6,{id:"yPw56y"})})}),arrow:!0,children:(0,m.jsx)(c.A,{sx:{width:"16px",height:"16px"},children:(0,m.jsx)(x,{})})})]})}},48726:(e,n,t)=>{t.d(n,{A:()=>I});var r=t(53248),o=t(78263),i=t(91331),l=t(11403),s=t(10109),a=t(36092);const c=e=>{let{strokeColor:n="#212121",...t}=e;return(0,a.jsxs)(s.A,{viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("path",{d:"M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98465 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05858 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};var u=t(90329),d=t(21302),p=t(8428),x=t(92566),m=t(72489),f=t(52351),g=t(9662);const h=(0,f.A)((e=>({toggleBox:{display:"inline-block",padding:"4px",backgroundColor:(0,g.g4)(e)?e.palette.background.level2:"#fff",borderRadius:"".concat(e.radius,"px")},toggleItem:{width:"74px",height:"32px",borderRadius:"6px",cursor:"pointer","&.on":{backgroundColor:e.colors.secondaryMain,color:"#fff"},"&.off":{backgroundColor:(0,g.g4)(e)?"#4F5A84":e.colors.lightGray200}}})));let v=function(e){return e.ON="check",e.OFF="uncheck",e}({});function y(e){let{isActive:n=!1,checked:t="On",unchecked:r="Off",onToggleChange:o}=e;const l=h();return(0,a.jsx)(i.A,{className:l.toggleBox,children:(0,a.jsxs)(x.Ay,{container:!0,children:[(0,a.jsx)(x.Ay,{container:!0,justifyContent:"center",alignItems:"center",item:!0,className:"".concat(l.toggleItem," ").concat(n?"on":""),onClick:()=>o(v.ON),children:t}),(0,a.jsx)(x.Ay,{item:!0,container:!0,justifyContent:"center",alignItems:"center",className:"".concat(l.toggleItem," ").concat(n?"":"off"),onClick:()=>o(v.OFF),children:r})]})})}var C=t(67625),A=t(56315),j=t(37155),b=t(84755);const w=(0,f.A)((e=>({card:{backgroundColor:(0,g.g4)(e)?"#202845":e.colors.lightGray200,borderRadius:"".concat(e.radius,"px"),width:"390px",border:e.palette.border.gray200,...(0,g.g4)(e)?{boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.25)"}:{boxShadow:"0px 4px 16px 0px #00000040"},"@media (max-width: 640px)":{width:"288px",padding:"12px"}},tolerance:{marginTop:"8px",display:"grid",gridTemplateColumns:"auto auto",gap:"0 5px","@media (max-width: 640px)":{gridTemplateColumns:"1fr",gap:"5px 0"}},activeTypography:{position:"relative","&:after":{content:'""',position:"absolute",bottom:"-6px",left:0,width:"100%",height:"4px",backgroundColor:e.colors.secondaryMain}},settingBox:{position:"absolute",right:"0",top:"0",cursor:"pointer"},slippageButton:{width:"48px",height:"40px",borderRadius:"8px",cursor:"pointer",marginRight:"8px",background:e.palette.background.level4,"&:last-child":{marginRight:"0"},"&.active":{"& .MuiTypography-root":{color:"#ffffff"},background:e.colors.secondaryMain}},settingInput:{"& input":{padding:"10px 16px",borderRadius:"8px"},"& fieldset":{borderRadius:"8px"}}}))),k=(0,r.memo)((e=>{let{type:n}=e;const t=w(),[o,l]=(0,C.Wt)(),[s,c]=(0,C.qK)(n),{multipleApprove:f,updateMultipleApprove:g}=(0,C.UN)(),h=(0,r.useMemo)((()=>new j.A(s).div(1e3).toFixed(2)),[s]),v=(0,r.useCallback)((e=>{let{value:n}=e.target;n||(n=0),c(new j.A(n).multipliedBy(1e3).toNumber())}),[c]),k=(0,r.useCallback)((e=>{let{value:t}=e.target;const r=(0,A.kP)(n);t?new j.A(t).multipliedBy(1e3).isGreaterThan(A.dN)&&(t=new j.A(r).div(1e3)):t=r,c(new j.A(t).multipliedBy(1e3).toNumber())}),[c]);return(0,a.jsxs)(d.A,{className:t.card,sx:{p:3},children:[(0,a.jsx)(p.A,{variant:"h4",color:"textPrimary",children:"Setting"}),(0,a.jsxs)(i.A,{mt:3,children:[(0,a.jsxs)(x.Ay,{container:!0,alignItems:"center",children:[(0,a.jsx)(p.A,{mr:1,color:"textPrimary",children:"Slippage tolerance"}),(0,a.jsx)(b.tI,{tips:"Your transaction will revert if the price changes unfavorably by more than this percentage."})]}),(0,a.jsxs)(i.A,{className:t.tolerance,children:[(0,a.jsx)(b.Tv,{className:t.settingInput,value:h,numericProps:{decimalScale:2,allowNegative:!1,maxLength:6},InputProps:{endAdornment:(0,a.jsx)(m.A,{position:"end",children:"%"})},onChange:v,onBlur:k}),(0,a.jsx)(x.Ay,{container:!0,alignContent:"center",sx:{justifyContent:"flex-end","@media (max-width: 640px)":{justifyContent:"flex-start"}},children:A.eA.map(((e,n)=>(0,a.jsx)(x.Ay,{className:"".concat(t.slippageButton," ").concat(s===e.value?"active":""),item:!0,container:!0,alignItems:"center",justifyContent:"center",onClick:()=>(e=>{c(e.value)})(e),children:(0,a.jsxs)(p.A,{children:[new j.A(e.value).div(1e3).toNumber(),"%"]})},n)))})]})]}),(0,a.jsxs)(i.A,{mt:3,children:[(0,a.jsxs)(x.Ay,{container:!0,alignItems:"center",children:[(0,a.jsx)(p.A,{mr:1,color:"textPrimary",children:(0,a.jsx)(u.x6,{id:"b8bcjD"})}),(0,a.jsx)(b.tI,{tips:"Allow high price impact trades and skip the confirm screen. Use at your own risk."})]}),(0,a.jsx)(i.A,{mt:1,children:(0,a.jsx)(y,{isActive:o,onToggleChange:l})})]}),(0,a.jsxs)(i.A,{mt:3,children:[(0,a.jsx)(x.Ay,{container:!0,alignItems:"center",children:(0,a.jsx)(p.A,{mr:1,color:"textPrimary",children:(0,a.jsx)(u.x6,{id:"Da1nuJ"})})}),(0,a.jsxs)(i.A,{mt:1,sx:{display:"flex",alignItems:"center",gap:"0 9px"},children:[(0,a.jsx)(i.A,{sx:{width:"70px"},children:(0,a.jsx)(b.Tv,{className:t.settingInput,numericProps:{decimalScale:0},value:f,onChange:e=>{const{value:n}=e.target;n&&g(Number(n))}})}),(0,a.jsx)(p.A,{children:(0,a.jsx)(u.x6,{id:"lKPmrE"})})]})]}),(0,a.jsx)(i.A,{mt:3,children:(0,a.jsx)(b.QW,{arrow:!0,to:"/swap/revoke-approve",children:(0,a.jsx)(u.x6,{id:"H52zfl"})})})]})}));function I(e){let{type:n,position:t="right"}=e;const s=(0,l.A)(),[u,d]=(0,r.useState)(!1);return(0,a.jsx)(o.x,{onClickAway:()=>{d(!1)},children:(0,a.jsxs)(i.A,{sx:{position:"relative","& img":{cursor:"pointer"}},children:[(0,a.jsx)(c,{onClick:()=>{d(!u)},sx:{color:"transparent",cursor:"pointer"},strokeColor:(0,g.g4)(s)?"#BDC8F0":void 0}),u&&(0,a.jsx)(i.A,{sx:{position:"absolute",top:"30px",zIndex:10,..."right"===t?{right:0}:{left:0}},children:(0,a.jsx)(k,{type:n,onClose:()=>d(!1)})})]})})}},26212:(e,n,t)=>{t.d(n,{E:()=>c});var r=t(53248),o=t(52351),i=t(89811),l=t(84755),s=t(36092);const a=(0,o.A)((()=>({input:{"& input":{textAlign:"right",fontSize:"20px",fontWeight:700},"& input::placeholder":{fontSize:"20px",fontWeight:700}},switchIcon:{cursor:"pointer"}}))),c=(0,r.memo)((e=>{var n;let{value:t,currency:r,onUserInput:o,disabled:c}=e;const u=a(),d=null!==(n=null===r||void 0===r?void 0:r.decimals)&&void 0!==n?n:i.if;return(0,s.jsx)(l.Tv,{value:t,fullWidth:!0,className:u.input,placeholder:"0.0",variant:"standard",disabled:c,numericProps:{thousandSeparator:!0,decimalScale:d>i.if?i.if:d,allowNegative:!1,maxLength:i.jA},onChange:e=>o(e.target.value)})}))},18513:(e,n,t)=>{t.d(n,{X:()=>ze});var r=t(90329),o=t(9259),i=t(53248),l=t(91331),s=t(92566),a=t(22545),c=t(8428),u=t(60726),d=t(2529),p=t(19501),x=t(56315),m=t(67625),f=t(54675),g=t(83686),h=t(97382),v=t(37155),y=t(89811),C=t(2879),A=t(59257),j=t(49103),b=t(6730),w=t(49828),k=t(23146),I=t(78878),T=t(41416),S=t(63504),B=t(23412),P=t(84755),R=t(36092);var U=t(81938),M=t(68483);function F(){const e=(0,U.KX)(),n=(0,M.W6)(),t=(0,b.Qy)(),s=()=>{n.push("/swap/reclaim"),t()};return(0,i.useCallback)((n=>{let{trade:t,key:i,retry:a}=n;if(!t)return;const c=t.inputAmount.toSignificant(12,{groupSeparator:","}),d=t.outputAmount.toSignificant(12,{groupSeparator:","}),p=function(e){let{inputCurrency:n,outputCurrency:t,amount0:i,amount1:s,key:a,handleReclaim:c}=e;const d=n.symbol,p=t.symbol,x=n.wrapped.address,m=n.logo,f=t.logo,g=(0,u.Up)(a),h=(0,R.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(S.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:m,children:"\xa0"}),i]}),y=(0,R.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(S.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:f,children:"\xa0"}),s]}),C=(0,R.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsx)(S.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:f,children:"\xa0"}),g?(0,B.t)(g,t.decimals).toFormat():"--"]}),A=!!g&&new v.A(g.toString()).minus(t.transFee).isLessThan(0);return[{title:(0,T.bM)(n.wrapped)?"Transfer ".concat(d):"Approve ".concat(d),step:0,children:[{label:o.Ru._({id:"hehnjM"}),value:h},{label:o.Ru._({id:"bNpCwC"}),value:x}]},{title:o.Ru._({id:"RG6Qda",values:{symbol0:d}}),step:1,children:[{label:o.Ru._({id:"hehnjM"}),value:h},{label:o.Ru._({id:"bNpCwC"}),value:x}],errorActions:[(0,R.jsx)(P.QW,{onClick:c,children:(0,R.jsx)(r.x6,{id:"CkKHX6"})})],errorMessage:o.Ru._({id:"pX/p94"})},{title:o.Ru._({id:"5UsiUu",values:{symbol0:d,symbol1:p}}),step:2,children:[{label:d,value:h},{label:p,value:y}]},{title:A?o.Ru._({id:"fDvlji",values:{symbol1:p}}):o.Ru._({id:"bHuYMI",values:{symbol1:p}}),step:3,children:[{label:p,value:C}],skipError:A?o.Ru._({id:"urmFa3"}):void 0,errorActions:[(0,R.jsx)(P.QW,{onClick:c,children:(0,R.jsx)(r.x6,{id:"CkKHX6"})})],errorMessage:o.Ru._({id:"pX/p94"})}]}({inputCurrency:t.inputAmount.currency,outputCurrency:t.outputAmount.currency,amount0:c,amount1:d,key:i.toString(),retry:a,handleReclaim:s});e(String(i),{content:p,title:o.Ru._({id:"5Ethb7"})})}),[])}function N(){const e=function(){const e=(0,A.Le)(),[n]=(0,m.qK)("swap"),t=(0,y.EU)(n),r=(0,j.QR)(),o=(0,j.Vd)(),l=(0,j.i_)(),s=(0,j.RM)(),a=(0,u.yJ)(),[c]=(0,I.dX)(),d=F();return(0,i.useCallback)((n=>{let{trade:i,stepKey:p,swapInTokenUnusedBalance:x,subAccountTokenBalance:m,openExternalTip:f}=n;if(!i||!e)return;const g=p.toString();let y,A=[];Array.isArray(i)||(A=[i]);for(const j of A)for(const{route:n,inputAmount:i,outputAmount:p}of j.swaps){const A=j.maximumAmountIn(t,i).quotient.toString(),b=j.minimumAmountOut(t,p).quotient.toString();if(1===n.pools.length){const t=n.tokenPath[0],i=n.tokenPath[1],I=n.pools[0].id;a(g,void 0);const S=A?(0,T.bM)(t)?new v.A(A).plus(t.transFee).toString():A:void 0;y=[async()=>!!S&&(x>=BigInt(A)||((0,T.bM)(t)?!m.isLessThan(S)||await l(n.input.wrapped,S,I):await r(n.input.wrapped,S,I))),async()=>!!S&&(x>=BigInt(A)||await o(n.input.wrapped,S,I,(e=>{let{message:n}=e;f({message:n,tipKey:g})}))),async()=>{if(!e||!A||!b)return!1;const n=await(0,w.u)(),{status:r,message:o,data:l}=await(0,C.wg)(I,n,{zeroForOne:t.address<i.address,amountIn:A,amountOutMinimum:b});return r===h.i.ERROR?f?f({message:(0,k.If)(o),tipKey:g}):c((0,k.If)(o)):(a(g,l),d({trade:j,key:g})),r===h.i.OK},async()=>{const e=(0,u.Up)(g);return void 0!==e&&(new v.A(e.toString()).minus(p.currency.transFee).isLessThan(0)?"skip":await s(p.currency.wrapped,I,e.toString(),(e=>{let{message:n}=e;f({message:n,tipKey:g})})))}]}}return y}),[e,t,n])}(),n=(0,b.TM)(),t=F();return(0,i.useCallback)((r=>{let{trade:o,openExternalTip:i,swapInTokenUnusedBalance:l,subAccountTokenBalance:s}=r;const a=(0,b.Eu)(),c=e({trade:o,swapInTokenUnusedBalance:l,stepKey:a,subAccountTokenBalance:s,openExternalTip:i}),{call:u,reset:d,retry:p}=n(c,a.toString());return t({trade:o,key:a,retry:p}),{call:u,reset:d,retry:p,key:a}}),[e,n,t])}var z=t(7695),O=t.n(z),_=t(79963),L=t(15754),E=t(26884);const V=new _.Q(O().BigInt(1e4),O().BigInt(1e4));function D(e){const n=V.subtract(e.route.pools.reduce(((e,n)=>e.multiply(V.subtract(new L.f(n.fee,1e6)))),V));return new _.Q(n.numerator,n.denominator)}const W=[E.XT,E.jz,E.C1,E.li];var q,H,Q=t(52429),K=t(93176),G=t(38938),X=t(16640);function Z(){return(0,R.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,R.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.43866 2.42969H1.1619V0.429688H8.85766H9.85766V1.42969V9.12545H7.85766V3.83911L1.94156 9.75521L0.527344 8.341L6.43866 2.42969Z",fill:"#5669DC"})})}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$.apply(this,arguments)}function J(e,n){let{title:t,titleId:r,...o}=e;return i.createElement("svg",$({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},o),t?i.createElement("title",{id:r},t):null,q||(q=i.createElement("path",{d:"M6.1141 13.0205L5.08192 13.9982L0.15625 8.44531H13.9977V9.89187H3.33888L6.1141 13.0205Z",fill:"white"})),H||(H=i.createElement("path",{d:"M10.6588 4.10635L7.88465 0.977754L8.91577 0L13.8414 5.5529H0V4.10635H10.6588Z",fill:"white"})))}const Y=i.forwardRef(J);t.p;function ee(e){var n,t,r,o;let{price:l,token0:a,token0PriceUSDValue:u,token1:d,token1PriceUSDValue:p}=e;const x=(0,G.A)(),m=(0,X.A)(x.breakpoints.down("sm")),[f,g]=(0,i.useState)(!0);let h="";try{var y;h=f?null===l||void 0===l?void 0:l.toSignificant(6):null===l||void 0===l||null===(y=l.invert())||void 0===y?void 0:y.toSignificant(6)}catch(k){h="0"}const C=f?"".concat(null===l||void 0===l||null===(n=l.quoteCurrency)||void 0===n?void 0:n.symbol):"".concat(null===l||void 0===l||null===(t=l.baseCurrency)||void 0===t?void 0:t.symbol," "),A=f?"".concat(null===l||void 0===l||null===(r=l.baseCurrency)||void 0===r?void 0:r.symbol," "):"".concat(null===l||void 0===l||null===(o=l.quoteCurrency)||void 0===o?void 0:o.symbol),j=(0,i.useCallback)((()=>g(!f)),[g,f]),b=(0,i.useMemo)((()=>{if(l&&a&&u&&d&&p)return f?l.baseCurrency.equals(a)?u:p:l.quoteCurrency.equals(a)?u:p}),[l,f,a,u,d,p]),w="".concat("1 ".concat(A," = ").concat(h?new v.A(h).toFormat():"-")," ",C);return(0,R.jsxs)(s.Ay,{container:!0,justifyContent:"flex-end",alignItems:"center",children:[(0,R.jsx)(c.A,{onClick:j,sx:{cursor:"pointer",...m?{fontSize:"12px"}:{}},children:w}),b?(0,R.jsxs)(c.A,{onClick:j,sx:{cursor:"pointer"},children:["(",(0,K.o)(b),")"]}):null,(0,R.jsx)(Y,{style:{fontSize:"1rem",marginLeft:"6px",cursor:"pointer"},onClick:j})]})}function ne(e){var n,t,r,o;let{price:l,token0:a,token0PriceUSDValue:u,token1:d,token1PriceUSDValue:p,poolId:x,v2:m,fontSize:f}=e;const g=(0,G.A)(),h=(0,X.A)(g.breakpoints.down("sm")),[C,A]=(0,i.useState)(!0);let j="";try{var b;j=C?null===l||void 0===l?void 0:l.toSignificant(6):null===l||void 0===l||null===(b=l.invert())||void 0===b?void 0:b.toSignificant(6)}catch(B){j="0"}const w=C?"".concat(null===l||void 0===l||null===(n=l.quoteCurrency)||void 0===n?void 0:n.symbol):"".concat(null===l||void 0===l||null===(t=l.baseCurrency)||void 0===t?void 0:t.symbol," "),k=C?"".concat(null===l||void 0===l||null===(r=l.baseCurrency)||void 0===r?void 0:r.symbol," "):"".concat(null===l||void 0===l||null===(o=l.quoteCurrency)||void 0===o?void 0:o.symbol),I=(0,i.useCallback)((()=>A(!C)),[A,C]),T=(0,i.useMemo)((()=>{if(l&&a&&u&&d&&p)return C?l.baseCurrency.equals(a)?u:p:l.quoteCurrency.equals(a)?u:p}),[l,C,a,u,d,p]),S="".concat("1 ".concat(k," = ").concat(j?new v.A(j).toFormat():"-")," ",w);return(0,R.jsxs)(s.Ay,{container:!0,children:[(0,R.jsx)(s.Ay,{item:!0,xs:!0,children:(0,R.jsxs)(s.Ay,{container:!0,justifyContent:"flex-start",alignItems:"center",children:[(0,R.jsx)(c.A,{onClick:I,sx:{cursor:"pointer",fontSize:f,...h?{fontSize:"12px"}:{}},children:S}),T?(0,R.jsxs)(c.A,{onClick:I,sx:{fontSize:f,cursor:"pointer"},children:["(",(0,K.o)(T),")"]}):null,(0,R.jsx)(Y,{style:{fontSize:"1rem",marginLeft:"6px",cursor:"pointer"},onClick:I})]})}),(0,R.jsxs)(P.QW,{link:"".concat(y.xP,"/swap/").concat(m?"v2/":"","pool/details/").concat(x),children:["Info ",(0,R.jsx)(Z,{})]})]})}var te=t(92875),re=t(31428),oe=t(86180),ie=t(21132),le=t(54622),se=t(75176),ae=t(85393),ce=t(98127),ue=t(94247);function de(e){let{currencyAmount:n,poolId:t}=e;const r=(0,A.WT)(),o=(0,i.useMemo)((()=>{if(n)return null===n||void 0===n?void 0:n.wrapped.currency}),[n]),l=(0,i.useMemo)((()=>{if(o)return(0,T.bM)(o)?void 0:o.address}),[o]),{result:s}=(0,ue.Gp)({canisterId:l,owner:r,spender:t});return(0,i.useMemo)((()=>{if(n)return void 0===l?n.subtract(ce.e.fromRawAmount(n.currency,n.currency.transFee)):void 0===s||new v.A(s.toString()).isLessThan(n.quotient.toString())?n.subtract(ce.e.fromRawAmount(n.currency,2*n.currency.transFee)):n.subtract(ce.e.fromRawAmount(n.currency,n.currency.transFee))}),[s,n,l])}var pe=t(67521),xe=t(77631),me=t(52230),fe=t(85067),ge=t(26212),he=t(54609);function ve(e){let{onMax:n,currencyState:t,onTokenChange:o,currency:a,currencyPrice:u,formatAmount:d,onInput:p,currencyBalance:x,parsedAmount:m,tradePoolId:f,usdChange:g,background:h="level3",disabled:y}=e;const C=(0,he.u)(),A=de({currencyAmount:x,poolId:f}),j=Boolean((null===A||void 0===A?void 0:A.greaterThan(0))&&!(null!==m&&void 0!==m&&m.equalTo(A))),b=(0,i.useMemo)((()=>{const e=d;if(u&&e)return new v.A(e).multipliedBy(u).toNumber()}),[u,d]),w=new v.A(null!==g&&void 0!==g?g:0).isLessThan(0)?"#D3625B":"#54C081";return(0,R.jsxs)(l.A,{sx:{backgroundColor:"level3"===h?C.palette.background.level3:C.palette.background.level1,border:"1px solid ".concat(C.palette.background.level4),borderRadius:"16px",padding:"14px 10px",[C.breakpoints.down("sm")]:{padding:"12px 8px"}},children:[(0,R.jsxs)(l.A,{sx:{display:"flex",gap:"0 8px"},children:[(0,R.jsx)(l.A,{children:(0,R.jsx)(xe.A,{currencyId:null===a||void 0===a?void 0:a.address,onChange:o,disabledCurrency:a?[a]:[],bgGray:!0,loading:t===fe.s5.LOADING})}),(0,R.jsx)(l.A,{sx:{display:"flex",flex:1,alignItems:"center"},children:(0,R.jsx)(ge.E,{value:d,currency:a,onUserInput:p,disabled:y})})]}),a?(0,R.jsxs)(s.Ay,{container:!0,alignItems:"center",mt:"12px",children:[(0,R.jsx)(c.A,{children:(0,R.jsx)(r.x6,{id:"VuFd5C",values:{0:x?(0,me.N)(x,a.decimals):"--"}})}),j&&n?(0,R.jsx)(c.A,{fontSize:"12px",sx:{padding:"1px 3px",cursor:"pointer",borderRadius:"2px",backgroundColor:C.colors.secondaryMain,color:"#ffffff",marginLeft:"4px"},onClick:n,children:(0,R.jsx)(r.x6,{id:"4HtGBb"})}):null,b?(0,R.jsx)(s.Ay,{item:!0,xs:!0,children:(0,R.jsx)(s.Ay,{container:!0,alignItems:"center",justifyContent:"flex-end",children:(0,R.jsxs)(c.A,{children:["~",(0,K.o)(b),g?(0,R.jsxs)(c.A,{component:"span",sx:{color:w},children:["(",g,"%)"]}):null]})})}):null]}):null]})}function ye(e){var n,t;let{onInput:r,onMaxInput:o,onTokenAChange:s,onTokenBChange:a,tokenAPrice:c,tokenBPrice:d,parsedAmounts:p,tradePoolId:m,currencyBalances:f,inputCurrency:g,outputCurrency:h,inputCurrencyState:y,outputCurrencyState:C,ui:A="normal"}=e;const{independentField:j,typedValue:b}=(0,u.mU)(),{onSwitchTokens:w}=(0,u.aF)(),k=j===x.jf.INPUT?x.jf.OUTPUT:x.jf.INPUT,I={[j]:b,[k]:null!==(n=null===(t=p[k])||void 0===t?void 0:t.toSignificant(6))&&void 0!==n?n:""},T=(0,i.useMemo)((()=>{const e=I[x.jf.INPUT];if(c&&e)return new v.A(e).multipliedBy(c).toNumber()}),[c,I]),S=(0,i.useMemo)((()=>{const e=I[x.jf.OUTPUT];if(d&&e)return new v.A(e).multipliedBy(d).toNumber()}),[d,I]),B=S&&T?new v.A(S).minus(T).dividedBy(T).multipliedBy(100).toFixed(2):null;return(0,R.jsxs)(l.A,{children:[(0,R.jsxs)(l.A,{sx:{position:"relative"},children:[(0,R.jsx)(ve,{currency:g,currencyPrice:c,formatAmount:I[x.jf.INPUT],currencyBalance:f[x.jf.INPUT],onMax:o,onInput:e=>r(e,"input"),onTokenChange:s,tradePoolId:m,currencyState:y,parsedAmount:p[x.jf.INPUT],background:"pro"===A?"level1":"level3"}),(0,R.jsx)(l.A,{sx:{position:"absolute",bottom:"-17px",left:"50%",transform:"translate(-50%, 0)",width:"30px",height:"31px",cursor:"pointer",overflow:"hidden"},onClick:w,children:(0,R.jsx)(pe.A,{})})]}),(0,R.jsx)(l.A,{sx:{marginTop:"8px"},children:(0,R.jsx)(ve,{currency:h,currencyPrice:d,formatAmount:I[x.jf.OUTPUT],currencyBalance:f[x.jf.OUTPUT],onInput:e=>r(e,"output"),onTokenChange:a,tradePoolId:m,currencyState:C,parsedAmount:p[x.jf.OUTPUT],usdChange:B,background:"pro"===A?"level1":"level3",disabled:!0})})]})}var Ce=t(75516),Ae=t(67132),je=t(52351),be=t(11403),we=t(2034),ke=t(11924),Ie=t(82240),Te=t(34436),Se=t(69580);function Be(e){let{priceImpact:n}=e;return n?"".concat(n.multiply(-1).toFixed(2),"%"):"0.00%"}const Pe=(0,je.A)((e=>({transferBox:{borderRadius:"12px",background:e.palette.background.level3,padding:"10px 12px"},arrowDown:{transform:"rotate(90deg)"}})));function Re(e){let{currency:n,currencyAmount:t,inputCurrency:r}=e;return(0,R.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,R.jsx)(l.A,{children:(0,R.jsxs)(s.Ay,{container:!0,alignItems:"center",children:[(0,R.jsx)(s.Ay,{sx:{mr:1},children:(0,R.jsx)(ke.A,{currency:n,bgColor:"#497BF7",borderColor:"transparent"})}),(0,R.jsx)(s.Ay,{item:!0,children:(0,R.jsx)(c.A,{color:"textPrimary",children:null===n||void 0===n?void 0:n.symbol})})]})}),(0,R.jsxs)(l.A,{sx:{display:"flex",gap:"0 3px",alignItems:"center"},children:[(0,R.jsx)(c.A,{color:"textPrimary",align:"right",children:null===t||void 0===t?void 0:t.toSignificant(6,{groupSeparator:","})}),r?(0,R.jsx)(Ie.A,{background:"#ffffff",tips:o.Ru._({id:"IqqlMS"})}):null]})]})}function Ue(e){let{label:n,value:t,tooltip:r}=e;const o=(0,be.A)(),i=(0,X.A)(o.breakpoints.down("sm"));return(0,R.jsxs)(l.A,{sx:{display:"flex"},children:[(0,R.jsx)(l.A,{sx:{flex:1},children:(0,R.jsxs)(c.A,{sx:{lineHeight:"12px","@media(max-width: 640px)":{fontSize:"12px"}},component:"div",children:[n,r?(0,R.jsx)(l.A,{sx:{display:"inline-block",cursor:"pointer",position:"relative",top:"4px",margin:"0 0 0 5px"},children:r}):null]})}),(0,R.jsx)(l.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,Se.isElement)(t)?t:(0,R.jsx)(c.A,{color:"textPrimary",align:"right",sx:{...i?{fontSize:"12px"}:{}},children:t})})]})}const Me=e=>{var n,t;let{slippageTolerance:r,open:u,trade:d,loading:p,onConfirm:x,onClose:m}=e;const f=Pe(),{realizedLPFee:g,priceImpact:h}=(0,i.useMemo)((()=>{if(!d)return{realizedLPFee:void 0,priceImpact:void 0};const e=ce.e.fromRawAmount(d.inputAmount.currency,(0,Te.u)(d.inputAmount.currency.transFee)),n=D(d),t=d.inputAmount.subtract(e).multiply(n);return{priceImpact:d.priceImpact.subtract(n),realizedLPFee:t}}),[d]),{inputFeeUSDValue:v,inputTokenFee:y,outputFeeUSDValue:C,outputTokenFee:A}=function(e){const n=null===e||void 0===e?void 0:e.inputAmount.currency,t=null===e||void 0===e?void 0:e.outputAmount.currency,r=(0,Q.v$)(null===n||void 0===n?void 0:n.wrapped.address),o=(0,Q.v$)(null===t||void 0===t?void 0:t.wrapped.address),l=(0,i.useMemo)((()=>{if(n)return(0,B.t)(null===n||void 0===n?void 0:n.transFee,null===n||void 0===n?void 0:n.decimals).multipliedBy(2)}),[n]),s=(0,i.useMemo)((()=>{if(t)return(0,B.t)(t.transFee,t.decimals)}),[t]),a=(0,i.useMemo)((()=>{if(l&&r)return l.multipliedBy(r).toFixed(4)}),[l,r]),c=(0,i.useMemo)((()=>{if(s&&o)return s.multipliedBy(o).toFixed(4)}),[s,o]);return(0,i.useMemo)((()=>({inputTokenFee:l,inputFeeUSDValue:a,outputTokenFee:s,outputFeeUSDValue:c})),[l,a,s,c])}(d);return(0,R.jsx)(Ce.A,{open:u,title:o.Ru._({id:"tbOs8j"}),onClose:m,children:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(l.A,{children:(0,R.jsxs)(l.A,{className:f.transferBox,children:[(0,R.jsx)(Re,{currency:null===d||void 0===d||null===(n=d.inputAmount)||void 0===n?void 0:n.currency,currencyAmount:null===d||void 0===d?void 0:d.inputAmount,inputCurrency:!0}),(0,R.jsx)(s.Ay,{container:!0,alignItems:"center",children:(0,R.jsx)(we.A,{className:f.arrowDown,sx:{color:"#C4C4C4"}})}),(0,R.jsx)(Re,{currency:null===d||void 0===d||null===(t=d.outputAmount)||void 0===t?void 0:t.currency,currencyAmount:null===d||void 0===d?void 0:d.outputAmount})]})}),(0,R.jsxs)(l.A,{mt:2,sx:{display:"flex",flexDirection:"column",gap:"20px 0"},children:[(0,R.jsx)(Ue,{label:o.Ru._({id:"a7u1N9"}),value:(0,R.jsx)(ee,{price:null===d||void 0===d?void 0:d.executionPrice})}),(0,R.jsx)(Ue,{label:o.Ru._({id:"q4v94l"}),value:g?"".concat(g.toSignificant(4)," ").concat(g.currency.symbol):"-",tooltip:(0,R.jsx)(Ie.A,{background:"#ffffff",tips:o.Ru._({id:"/+X0PN"})})}),(0,R.jsx)(Ue,{label:o.Ru._({id:"T+qgFw"}),value:Be({priceImpact:h}),tooltip:(0,R.jsx)(Ie.A,{background:"#ffffff",tips:o.Ru._({id:"mx2Pox"})})}),(0,R.jsx)(Ue,{label:o.Ru._({id:"GbNWWs"}),value:"".concat(null===r||void 0===r?void 0:r.toFixed(2),"%"),tooltip:(0,R.jsx)(Ie.A,{background:"#ffffff",tips:o.Ru._({id:"c5awli"})})}),(0,R.jsx)(Ue,{label:"Minimum received",value:"".concat(r?null===d||void 0===d?void 0:d.minimumAmountOut(r).toSignificant(6):"--"," ").concat(null===d||void 0===d?void 0:d.outputAmount.currency.symbol),tooltip:(0,R.jsx)(Ie.A,{background:"#ffffff",tips:"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."})}),(0,R.jsx)(Ue,{label:o.Ru._({id:"Ky833z"}),value:(0,R.jsxs)(l.A,{children:[(0,R.jsx)(c.A,{color:"text.primary",sx:{"@media(max-width: 640px)":{fontSize:"12px"}},children:y&&v&&null!==d&&void 0!==d&&d.inputAmount.currency?"".concat(y.toFormat()," ").concat(d.inputAmount.currency.symbol," ($").concat(v,")"):"--"}),(0,R.jsx)(c.A,{color:"text.primary",sx:{margin:"5px 0 0 0","@media(max-width: 640px)":{fontSize:"12px"}},children:A&&null!==d&&void 0!==d&&d.outputAmount.currency?"".concat(A.toFormat()," ").concat(d.outputAmount.currency.symbol," ($").concat(null!==C&&void 0!==C?C:"--",")"):"--"})]}),tooltip:(0,R.jsx)(Ie.A,{background:"#ffffff",tips:o.Ru._({id:"EL/aiq"})})})]}),(0,R.jsx)(l.A,{mt:4,children:(0,R.jsx)(Ae.A,{variant:"contained",size:"large",fullWidth:!0,onClick:x,disabled:p,startIcon:p?(0,R.jsx)(a.A,{size:24,color:"inherit"}):null,children:p?"":o.Ru._({id:"tbOs8j"})})})]})})};var Fe=t(78084),Ne=t(83436);function ze(e){let{ui:n="normal",onInputTokenChange:t,onOutputTokenChange:h,onTradePoolIdChange:v}=e;const[y,C]=(0,i.useState)(!1),[j,b]=(0,i.useState)(!1),[k]=(0,m.Wt)(),T=(0,A.Le)(),S=(0,M.W6)();(0,u.l9)();const{[x.jf.INPUT]:B,[x.jf.OUTPUT]:P,independentField:U}=(0,u.mU)(),{onUserInput:F}=(0,u.aF)(),z=(0,u.pd)(),{inputError:O,parsedAmount:_,trade:L,tradePoolId:E,state:V,currencyBalances:D,userSlippageTolerance:q,inputCurrency:H,outputCurrency:K,inputCurrencyState:G,outputCurrencyState:X}=(0,u.x$)({refreshBalance:j});(0,i.useEffect)((()=>{t&&t(H),h&&h(K),v&&v(E)}),[E,K,H]);const Z=(0,i.useMemo)((()=>({[x.jf.INPUT]:U===x.jf.INPUT?_:null===L||void 0===L?void 0:L.inputAmount,[x.jf.OUTPUT]:U===x.jf.OUTPUT?_:null===L||void 0===L?void 0:L.outputAmount})),[U,_]),$=(0,i.useCallback)((e=>{const t="pro"===n?"/swap-pro":"/swap";e.canisterId===P.currencyId?S.push("".concat(t,"?input=").concat(e.canisterId,"&output=").concat(Ne.Nj.address)):S.push("".concat(t,"?input=").concat(e.canisterId,"&output=").concat(P.currencyId))}),[P]),J=(0,i.useCallback)((e=>{const t="pro"===n?"/swap-pro":"/swap";e.canisterId===B.currencyId?S.push("".concat(t,"?input=").concat(Ne.Nj.address,"&output=").concat(e.canisterId)):S.push("".concat(t,"?input=").concat(B.currencyId,"&output=").concat(e.canisterId))}),[B]),Y=(e,n)=>{F("input"===n?x.jf.INPUT:x.jf.OUTPUT,e)},ee=V===f.y.LOADING,ce=V===f.y.NO_ROUTE_FOUND,ue=!O&&!ee&&!ce,pe=V===f.y.NOT_CHECK,xe=N(),[me,fe]=(0,i.useState)(!1),[ge]=(0,I.I5)(),[he]=(0,I.dX)(),[ve,Ce]=(0,I.VS)(),Ae=null===H||void 0===H?void 0:H.address,je=null===L||void 0===L?void 0:L.route.pools[0],be=(0,i.useMemo)((()=>T?le.sd.fromPrincipal(T).toUint8Array():void 0),[T]),{result:we}=(0,se.n)({canisterId:Ae,address:E,sub:be}),{result:ke}=(0,ae.pV)(E,T),Ie=(0,i.useMemo)((()=>{if(je&&ke&&H)return je.token0.address===H.address?ke.balance0:ke.balance1}),[je,H,ke]),Te=(0,i.useCallback)((async()=>{if(me||!L||(0,d.r)(we)||(0,d.r)(Ie))return;const{call:e,key:n}=xe({trade:L,subAccountTokenBalance:we,swapInTokenUnusedBalance:Ie,openExternalTip:e=>{let{message:n,tipKey:t}=e;he((0,R.jsx)(ie.e,{message:n,tipKey:t}))}});fe(!0);const t=L.inputAmount.toSignificant(12,{groupSeparator:","}),r=L.outputAmount.toSignificant(12,{groupSeparator:","}),i=ve(o.Ru._({id:"bD5ZyM",values:{0:null===H||void 0===H?void 0:H.symbol,1:null===K||void 0===K?void 0:K.symbol,amount0:t,amount1:r}}),{extraContent:(0,R.jsx)(oe.A,{step:n})});C(!1),fe(!1),Y("","input"),Y("","output");const l=await e();Ce(i),l&&(ge(o.Ru._({id:"8S1zJU"})),b(!0),setTimeout((()=>{b(!1)}),1e3))}),[xe,me,fe,L,we,Ie]),Se=de({currencyAmount:D[x.jf.INPUT],poolId:E}),Be=(0,i.useCallback)((()=>{Se&&F(x.jf.INPUT,(0,g.O1)(Se.toExact(),Se.currency.decimals))}),[Se,F]),Pe=void 0,Re=(0,i.useMemo)((()=>{const e=null===L||void 0===L?void 0:L.priceImpact;return function(e){if(!e)return 4;let n=W.length;for(const t of W){if(t.lessThan(e))return n;n--}return 0}(null!==e&&void 0!==e?e:Pe)}),[Pe,L]),Ue=Re>3&&!k;(0,i.useEffect)((()=>()=>{z()}),[]);const ze=(0,Q.vb)(H),Oe=(0,Q.vb)(K);return(0,R.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:"pro"===n?"8px 0":"22px 0"},children:[(0,R.jsx)(ye,{onMaxInput:Be,onInput:Y,onTokenAChange:$,onTokenBChange:J,tokenAPrice:ze,tokenBPrice:Oe,inputCurrency:H,outputCurrency:K,inputCurrencyState:G,outputCurrencyState:X,currencyBalances:D,parsedAmounts:Z,tradePoolId:E,ui:n}),ee||!ee&&L?(0,R.jsx)(re.A,{border:"level4",level:"pro"===n?1:3,padding:"pro"===n?"10px":"16px",borderRadius:"pro"===n?"12px":void 0,children:(0,R.jsx)(l.A,{sx:{display:"grid",gap:"20px 0",gridTemplateColumns:"1fr"},children:ee?(0,R.jsxs)(s.Ay,{container:!0,justifyContent:"flex-start",alignItems:"center",children:[(0,R.jsx)(a.A,{size:14,color:"inherit"}),(0,R.jsx)(c.A,{sx:{margin:"0 0 0 4px"},children:"Fetching price..."})]}):L?(0,R.jsx)(ne,{poolId:L.swaps[0].route.pools[0].id,price:L.executionPrice,token0:H,token1:K,token0PriceUSDValue:(0,p.d)(null!==ze&&void 0!==ze?ze:0,18),token1PriceUSDValue:(0,p.d)(null!==Oe&&void 0!==Oe?Oe:0,18),fontSize:"pro"===n?"12px":void 0}):null})}):null,(0,R.jsx)(te.A,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{C(!0)},disabled:!ue||Ue||pe,children:O||(ee?(0,R.jsx)(r.x6,{id:"vH2C/2"}):ce?(0,R.jsx)(r.x6,{id:"t2JA0p"}):pe?(0,R.jsx)(r.x6,{id:"wk3K8Q"}):Ue?(0,R.jsx)(r.x6,{id:"gpgWvn"}):Re>2?(0,R.jsx)(r.x6,{id:"es4h+b"}):(0,R.jsx)(r.x6,{id:"vH2C/2"}))}),"pro"===n?(0,R.jsx)(Fe.W,{fontSize:"12px"}):null,y&&L&&(0,R.jsx)(w.A,{onSubmit:Te,children:e=>{let{submit:n}=e;return(0,R.jsx)(Me,{trade:L,open:y,onClose:()=>C(!1),onConfirm:n,slippageTolerance:q,loading:me})}})]})}},26884:(e,n,t)=>{t.d(n,{A:()=>u,C1:()=>s,XT:()=>c,jz:()=>a,li:()=>l});var r=t(79963),o=t(9662);o.xB.BigInt(604800),o.xB.BigInt(0);const i=o.xB.BigInt(1e4),l=(new r.Q(o.xB.BigInt(1),i),new r.Q(o.xB.BigInt(100),i)),s=new r.Q(o.xB.BigInt(300),i),a=new r.Q(o.xB.BigInt(500),i),c=(new r.Q(o.xB.BigInt(1e3),i),new r.Q(o.xB.BigInt(1500),i)),u=(new r.Q(o.xB.BigInt(50),i),new r.Q("0"),new r.Q("1"),o.xB.subtract(o.xB.exponentiate(o.xB.BigInt(2),o.xB.BigInt(128)),o.xB.BigInt(1)))},75176:(e,n,t)=>{t.d(n,{k:()=>d,n:()=>p});var r=t(53248),o=t(64411),i=t(8265),l=t(94436),s=t(81795),a=t(37155),c=t(37037);const u=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function l(e){try{a(r.next(e))}catch(n){i(n)}}function s(e){try{a(r.throw(e))}catch(n){i(n)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(l,s)}a((r=r.apply(e,n||[])).next())}))};function d(e){return u(this,arguments,void 0,(function(e){let{canisterId:n,address:t,sub:r}=e;return function*(){return(yield l.v9.balance({canisterId:n,params:{user:(0,o.H)(t)?{principal:t}:(0,i.R)(t)?{principal:s.p.fromText(t)}:{address:t},token:"",subaccount:r?[...r]:void 0}})).data}()}))}function p(e){let{canisterId:n,address:t,sub:o,reload:i}=e;return(0,c.$4)((0,r.useCallback)((()=>u(this,void 0,void 0,(function*(){if(!t||!n)return;const e=yield d({canisterId:n,sub:o,address:t});return void 0===e?void 0:new a.A(e.toString())}))),[t,n,o]),i)}},2529:(e,n,t)=>{t.d(n,{G:()=>o,r:()=>r});const r=e=>null===e||void 0===e,o=e=>!r(e)}}]);
//# sourceMappingURL=6904.75245746.chunk.js.map