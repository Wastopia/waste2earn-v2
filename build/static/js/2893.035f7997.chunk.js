"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[2893],{22893:(e,n,i)=>{i.d(n,{A:()=>Ie});var t=i(90329),r=i(9259),l=i(53248),s=i(68483),o=i(91331),a=i(92566),d=i(8428),c=i(54500),x=i(68894),u=i(45532),p=i(66357),h=i(83224),m=i(6533),j=i(30863),A=i(91194),g=i(20908),v=i(38705),f=i(29958),y=i(60604),b=i(90308),k=i(36152),w=i(944),C=i(20394),S=i(9662),I=i(56126),R=i(18213),N=i.n(R),T=i(36092);var z=i(14274),W=i(23412),_=i(89811);var L=i(16640),B=i(67132),F=i(85560),P=i(52351),M=i(11403),D=i(59894),E=i(36077);function O(){return(0,T.jsx)(a.Ay,{sx:{width:"16px",height:"16px",zIndex:2},container:!0,justifyContent:"center",alignItems:"center",children:(0,T.jsx)("img",{width:"100%",height:"100%",src:E.A,alt:""})})}var V=i(82188),H=i(93176),G=i(37155),Y=i(22809),U=i(71342),X=i(44248),q=i(22545),Q=i(51168),Z=i(21045),K=i(78878),J=i(49828),$=i(23146),ee=i(52219);const ne=(0,P.A)((e=>({warningText:{color:e.palette.warning.dark},inputBox:{border:"1px solid #313A5A",background:e.palette.background.level4,borderRadius:"8px",padding:"14px 16px","& input::placeholder":{color:e.palette.primary[400]}},description:{fontSize:"12px",wordBreak:"break-all",maxHeight:"90px",overflow:"hidden",textOverflow:"ellipsis",boxOrient:"vertical",lineClamp:"5",display:"-webkit-box"}})));function ie(e){var n;let{canisterId:i,open:s,onClose:c,nft:x,onTransferSuccess:u}=e;const p=ne(),h=(0,D.F7)(),m=(0,M.A)(),[j]=(0,K.I5)(),[A]=(0,K.dX)(),[g,v]=(0,l.useState)(""),[y,b]=(0,l.useState)(""),k=(0,Y.k)(x),{result:w}=(0,f.Q9)(i),C=(0,f.ie)(),I=(0,l.useCallback)((async(e,n)=>{let{loading:t,closeLoading:l}=n;if(t)return;const s=await C(i,e,{from:{address:h},to:{address:y},memo:[...g?(0,S.Yp)(g):(0,S.Yp)("TRANSFER")],token:(0,S.zE)(i,x.tokenId),amount:BigInt(1),subaccount:[],nonce:[],notify:!1});l(),"ok"===s.status?j(r.Ru._({id:"uI5++B"})):A((0,$.If)(s.message)),u&&u(s)}),[C,x,g,y]),R=(0,l.useMemo)((()=>{if(h===y)return(0,T.jsx)("span",{className:p.warningText,children:(0,T.jsx)(t.x6,{id:"8oLpSL"})})}),[h,y]),N=(0,l.useCallback)((()=>{b(""),v(""),c&&c()}),[c,b,v]),z=(0,l.useMemo)((()=>y?(0,Q.O)(y)?void 0:r.Ru._({id:"Kw1+qc"}):r.Ru._({id:"mx9r6b"})),[y]);return s?(0,T.jsxs)(Z.A,{open:s,onClose:N,title:r.Ru._({id:"4NcGjG"}),children:[(0,T.jsxs)(a.Ay,{container:!0,sx:{position:"relative",padding:"12px",background:m.palette.background.level4,borderRadius:"12px"},children:[(0,T.jsx)(a.Ay,{item:!0,sx:{minWidth:"140px"},children:(0,T.jsx)(a.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"relative",background:m.palette.background.level1,borderRadius:"8px",width:"100%",height:"100%"},children:(0,T.jsx)(U.A,{src:null===k||void 0===k?void 0:k.filePath,showDefault:"image"!==(null===k||void 0===k?void 0:k.fileType),CustomImage:"image"!==(null===k||void 0===k?void 0:k.fileType)&&null!==k&&void 0!==k&&k.filePath?(0,T.jsx)(ee.A,{fileType:null!==(n=null===k||void 0===k?void 0:k.fileType)&&void 0!==n?n:""}):null})})}),(0,T.jsxs)(a.Ay,{item:!0,xs:!0,sx:{height:"120px",marginLeft:"20px"},flexDirection:"column",children:[(0,T.jsxs)(o.A,{children:[(0,T.jsx)(d.A,{color:"text.primary",component:"span",children:k.name}),(0,T.jsxs)(d.A,{color:"text.primary",component:"span",sx:{marginLeft:"10px"},children:["#",Number(k.tokenId)]})]}),(0,T.jsx)(o.A,{mt:"28px",children:(0,T.jsx)(d.A,{className:p.description,children:null===w||void 0===w?void 0:w.introduction})})]})]}),(0,T.jsxs)(a.Ay,{container:!0,mt:"20px",children:[(0,T.jsxs)(a.Ay,{item:!0,xs:12,className:p.inputBox,children:[(0,T.jsx)(d.A,{children:(0,T.jsx)(t.x6,{id:"ysunuR"})}),(0,T.jsx)(X.A,{variant:"standard",placeholder:r.Ru._({id:"m3S0zY"}),onChange:e=>{let{target:{value:n}}=e;return b(n)},helperText:R,fullWidth:!0,autoComplete:"To",InputProps:{disableUnderline:!0}})]}),(0,T.jsxs)(a.Ay,{item:!0,xs:12,className:p.inputBox,mt:3,children:[(0,T.jsx)(d.A,{children:(0,T.jsx)(t.x6,{id:"pRpbFL"})}),(0,T.jsx)(X.A,{variant:"standard",placeholder:"Memo",onChange:e=>{let{target:{value:n}}=e;return v(n)},fullWidth:!0,autoComplete:"off",InputProps:{disableUnderline:!0}})]}),(0,T.jsx)(a.Ay,{item:!0,xs:12,mt:"10px",children:(0,T.jsx)(d.A,{color:"text.warning",children:(0,T.jsx)(t.x6,{id:"djxPUy"})})}),(0,T.jsx)(a.Ay,{item:!0,xs:12,mt:3,children:(0,T.jsx)(J.A,{onSubmit:I,children:e=>{let{submit:n,loading:i}=e;return(0,T.jsx)(B.A,{variant:"contained",fullWidth:!0,color:"primary",size:"large",disabled:i||!!z,onClick:n,startIcon:i?(0,T.jsx)(q.A,{color:"inherit",size:30}):null,children:z||(i?"":r.Ru._({id:"7VpPHA"}))})}})})]})]}):null}var te=i(38938),re=i(72489),le=i(70998),se=i(47838),oe=i(5709);const ae=(0,P.A)((e=>({warningText:{color:e.palette.warning.dark},inputBox:{border:"1px solid #313A5A",background:e.palette.background.level4,borderRadius:"8px",padding:"14px 16px","& input":{color:e.themeOption.textPrimary},"& input::placeholder":{color:e.palette.primary[400]}},desc:{color:e.palette.primary[400],lineHeight:"20px",fontSize:"12px",wordBreak:"break-all",...e.mixins.overflowEllipsis2}})));function de(e){var n,i;let{canisterId:s,open:x,onClose:u,nft:p,onSellSuccess:h}=e;const m=ae(),j=(0,te.A)(),[A]=(0,K.I5)(),[g]=(0,K.dX)(),[v,f]=(0,l.useState)(null),y=(0,D.F7)(),b=(0,l.useCallback)((async(e,n)=>{let{loading:i,closeLoading:t}=n;if(i||new G.A(null!==v&&void 0!==v?v:0).isEqualTo(0))return;const l=(0,oe.zE)(s,Number(p.tokenId));await(0,z.SR)({identity:e,canisterId:s,tokenIdentifier:l,account:y});const o=await(0,z.pq)(e,{nftCid:s,price:BigInt(v?(0,W.N)(v,_.Dj.decimals).toNumber():0),tokenIndex:Number(p.tokenId)});t(),o.status===_.i7.OK?A(r.Ru._({id:"4l/Pa4"})):g((0,$.If)(o.message)),h&&h(o)}),[p,v]),k=(0,l.useCallback)((()=>{f(null),u&&u()}),[u,f]),w=(0,l.useMemo)((()=>v?v&&new G.A(v).isLessThan(.001)?r.Ru._({id:"bp4W4H"}):void 0:r.Ru._({id:"6bd/p+"})),[v]),C=(0,l.useMemo)((()=>{var e;if(!v)return 0;const n=new G.A(v).div(100),i=new G.A(v).multipliedBy(String(null!==(e=p.royalties)&&void 0!==e?e:0)).div(1e4);return new G.A(v).minus(n).minus(i).toFormat(8)}),[v]);return x?(0,T.jsxs)(c.aF,{open:x,onClose:k,title:r.Ru._({id:"KEa2KG"}),background:j.palette.background.level2,children:[(0,T.jsxs)(a.Ay,{container:!0,sx:{position:"relative",padding:"12px",background:j.palette.background.level4,borderRadius:"12px"},children:[(0,T.jsx)(a.Ay,{item:!0,sx:{minWidth:"140px"},children:(0,T.jsx)(a.Ay,{container:!0,alignItems:"center",justifyContent:"center",sx:{position:"relative",background:j.palette.background.level1,borderRadius:"8px",width:"100%",height:"100%"},children:(0,T.jsx)(U.A,{src:null===p||void 0===p?void 0:p.filePath,showDefault:"image"!==(null===p||void 0===p?void 0:p.fileType),CustomImage:"image"!==(null===p||void 0===p?void 0:p.fileType)&&null!==p&&void 0!==p&&p.fileType?(0,T.jsx)(ee.A,{fileType:null!==(n=null===p||void 0===p?void 0:p.fileType)&&void 0!==n?n:""}):null})})}),(0,T.jsxs)(a.Ay,{item:!0,xs:!0,sx:{height:"120px",marginLeft:"20px","@media (max-width: 640px)":{height:"auto"}},flexDirection:"column",children:[(0,T.jsxs)(o.A,{children:[(0,T.jsx)(d.A,{color:"text.primary",component:"span",children:p.name}),(0,T.jsxs)(d.A,{color:"text.primary",component:"span",sx:{marginLeft:"10px"},children:["#",Number(p.tokenId)]})]}),(0,T.jsxs)(o.A,{mt:"28px",children:[(0,T.jsx)(d.A,{fontSize:"12px",children:(0,T.jsx)(t.x6,{id:"r30D6j"})}),(0,T.jsxs)(o.A,{children:[(0,T.jsx)(d.A,{fontSize:"12px",component:"span",children:(0,T.jsx)(t.x6,{id:"1Hxpbm",values:{0:new G.A(le.nB).multipliedBy(100).toNumber()}})}),"\xa0",(0,T.jsx)(d.A,{fontSize:"12px",component:"span",children:(0,T.jsx)(t.x6,{id:"2bChuc",values:{0:new G.A(String(null!==(i=p.royalties)&&void 0!==i?i:0)).dividedBy(100).toNumber()}})})]})]})]})]}),(0,T.jsxs)(a.Ay,{container:!0,mt:"20px",children:[(0,T.jsxs)(a.Ay,{item:!0,xs:12,className:m.inputBox,children:[(0,T.jsx)(d.A,{children:(0,T.jsx)(t.x6,{id:"pGMQ3e"})}),(0,T.jsx)(c.Tv,{fullWidth:!0,variant:"standard",value:v,placeholder:r.Ru._({id:"6bd/p+"}),onChange:e=>{let{target:{value:n}}=e;return f(n)},numericProps:{thousandSeparator:!0,decimalScale:_.Dj.decimals,allowNegative:!1,maxLength:20},InputProps:{endAdornment:(0,T.jsx)(re.A,{position:"end",children:(0,T.jsx)("img",{width:"18px",src:se.A,alt:""})})}})]}),(0,T.jsxs)(a.Ay,{container:!0,alignItems:"center",mt:"4px",children:[(0,T.jsx)(d.A,{color:"text.primary",component:"span",sx:{marginRight:"5px",paddingLeft:"3px",fontSize:"12px"},children:(0,T.jsx)(t.x6,{id:"ZEOAOO",values:{receiveTokenAmount:C}})}),(0,T.jsx)("img",{width:"16px",src:se.A,alt:""})]}),(0,T.jsx)(a.Ay,{item:!0,xs:12,mt:3,children:(0,T.jsx)(J.A,{onSubmit:b,children:e=>{let{submit:n,loading:i}=e;return(0,T.jsx)(B.A,{variant:"contained",fullWidth:!0,color:"primary",size:"large",disabled:i||!!w,onClick:n,startIcon:i?(0,T.jsx)(q.A,{color:"inherit",size:30}):null,children:w||(i?"":r.Ru._({id:"7VpPHA"}))})}})})]})]}):null}var ce=i(84619),xe=i(62813),ue=i(44634);function pe(e){let{metadata:n,onRevokeSuccess:i}=e;const[l]=(0,K.I5)(),[s]=(0,K.dX)();return(0,T.jsx)(J.A,{onSubmit:async(e,t)=>{let{loading:o,closeLoading:a}=t;if(o)return;const{status:d,message:c}=await(0,z.ZT)(e,n.cId,n.tokenId);d===ue.i.ERROR?s((0,$.If)(c)):(l(r.Ru._({id:"61yDmh"})),i&&i()),a()},fullScreenLoading:!0,children:e=>{let{submit:n,loading:i}=e;return(0,T.jsx)(B.A,{sx:{borderRadius:"4px"},size:"large",variant:"contained",onClick:n,disabled:i,children:(0,T.jsx)(t.x6,{id:"U5yShT"})})}})}function he(e){let{canisterId:n}=e;return n?(0,T.jsx)(F.A,{href:"".concat(_.xP,"/nft/canister/details/").concat(n),target:"_blank",children:n}):null}const me=()=>(0,T.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,T.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#497BF7"}),(0,T.jsx)("path",{d:"M17.714 9.31427C17.2845 9.50061 16.8302 9.6238 16.3654 9.67999C16.8558 9.38703 17.2233 8.92615 17.3997 8.38285C16.9389 8.65717 16.4344 8.85044 15.9083 8.95427C15.5566 8.57289 15.0882 8.31902 14.5767 8.23248C14.0652 8.14594 13.5394 8.23162 13.0819 8.4761C12.6243 8.72057 12.2608 9.11001 12.0484 9.58332C11.836 10.0566 11.7867 10.5871 11.9083 11.0914C10.9765 11.0443 10.0651 10.8017 9.2332 10.3793C8.40133 9.957 7.6676 9.36439 7.07969 8.63999C6.87348 9.00009 6.76513 9.40789 6.7654 9.82285C6.76467 10.2082 6.85924 10.5878 7.04069 10.9277C7.22214 11.2677 7.48484 11.5575 7.8054 11.7714C7.43282 11.7613 7.06819 11.6613 6.74254 11.48V11.5086C6.74534 12.0485 6.93454 12.5709 7.27815 12.9874C7.62176 13.4039 8.09869 13.6889 8.62826 13.7943C8.4244 13.8563 8.21276 13.889 7.99969 13.8914C7.8522 13.8897 7.70507 13.8763 7.55969 13.8514C7.71049 14.3159 8.00233 14.7218 8.39459 15.0127C8.78684 15.3035 9.26002 15.4649 9.74826 15.4743C8.9238 16.123 7.90591 16.477 6.85683 16.48C6.66582 16.4806 6.47496 16.4692 6.2854 16.4457C7.3565 17.1373 8.60472 17.5044 9.87969 17.5028C10.7595 17.512 11.6323 17.3457 12.4472 17.0138C13.262 16.6818 14.0026 16.1908 14.6255 15.5694C15.2485 14.9481 15.7414 14.2088 16.0754 13.3948C16.4095 12.5808 16.578 11.7084 16.5711 10.8286C16.5711 10.7314 16.5711 10.6286 16.5711 10.5257C17.0195 10.1913 17.4062 9.78137 17.714 9.31427Z",fill:"white"})]});var je=i(35192),Ae=i(5595),ge=i(93669);function ve(e){let{title:n,children:i}=e;const[t,r]=(0,l.useState)(!0),s=(0,M.A)();return(0,T.jsxs)(c.Am,{level:2,padding:"0px",children:[(0,T.jsxs)(a.Ay,{container:!0,alignItems:"center",sx:{cursor:"pointer",padding:"18px 24px",[s.breakpoints.down("md")]:{padding:"9px 12px"}},onClick:()=>{r(!t)},children:[(0,T.jsx)(d.A,{color:"text.primary",fontWeight:"500",fontSize:"16px",children:n}),(0,T.jsx)(a.Ay,{item:!0,xs:!0,children:(0,T.jsx)(a.Ay,{container:!0,justifyContent:"flex-end",alignItems:"center",children:(0,T.jsx)(ge.A,{sx:{fontSize:"16px",transform:t?"rotate(-90deg)":"rotate(90deg)",transition:"all 300ms",fontWeight:"500"}})})})]}),t?(0,T.jsx)(o.A,{sx:{overflow:"hidden",padding:"18px 24px",borderTop:"2px solid rgba(255, 255, 255, 0.04)",[s.breakpoints.down("md")]:{padding:"9px 12px"}},children:i}):null]})}const fe=(0,P.A)((e=>({wrapper:{display:"grid",gridTemplateColumns:"510px auto",gridAutoRows:"max-content",gap:"0 30px",[e.breakpoints.down("md")]:{gridTemplateColumns:"1fr",gap:"24px 0"}},leftWrapper:{display:"grid",gridTemplateColumns:"1fr",gridAutoRows:"max-content",gap:"30px 0",[e.breakpoints.down("md")]:{gap:"24px 0"}},rightWrapper:{display:"grid",gridTemplateColumns:"1fr",gridAutoRows:"max-content",gap:"30px 0",[e.breakpoints.down("md")]:{gap:"24px 0"}},logoWrapper:{position:"relative",width:"510px",height:"510px",borderRadius:"4px",[e.breakpoints.down("md")]:{width:"100%",height:"100%",maxHeight:"100%"}},metadataWrapper:{},infoWrapper:{},detailsWrapper:{},collectionsWrapper:{}})));const ye=e=>{let{label:n,value:i}=e;return(0,T.jsx)(a.Ay,{item:!0,children:(0,T.jsxs)(a.Ay,{container:!0,alignItems:"top",children:[(0,T.jsx)(a.Ay,{item:!0,mr:"20px",children:(0,T.jsx)(d.A,{children:n})}),(0,T.jsx)(a.Ay,{item:!0,xs:!0,children:(0,T.jsx)(a.Ay,{container:!0,justifyContent:"flex-end",sx:{wordBreak:"break-word",textAlign:"right"},children:i})})]})})};function be(e){return!!e.label}function ke(e){let{metadata:n}=e;const i=(0,M.A)();return(0,T.jsx)(o.A,{children:(0,T.jsx)(a.Ay,{container:!0,sx:{border:"1px solid ".concat(i.colors.secondaryMain),borderRadius:"8px",background:i.palette.background.level4},children:(0,T.jsxs)(o.A,{sx:{padding:"10px 5px",width:"100%"},children:[(0,T.jsx)(d.A,{align:"center",color:"secondary",fontWeight:"500",children:be(n)?n.label:n.k}),(0,T.jsx)(d.A,{mt:"10px",align:"center",color:"text.primary",fontWeight:"500",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:be(n)?n.value:n.v})]})})})}function we(e){var n,i,s,x,u,p,h;let{canisterId:m,tokenId:j,isView:A}=e;const g=(0,D.F7)(),y=(0,M.A)(),k=fe(),[C,I]=(0,l.useState)(!1),[R,N]=(0,l.useState)(!1),[W,P]=(0,l.useState)(!1),[E,U]=(0,l.useState)(!1),{result:X}=(0,f.Q9)(m),q=(0,Y.f)(m,j,E),Q=function(e){return e.metadata&&e.metadata[0]?JSON.parse((0,S.GY)(Uint8Array.from(e.metadata[0]))):[]}(q),Z=q.owner===g,{result:K}=(0,z.eY)(m,j,E),J=Boolean(K),$=(0,D.Vs)(null===K||void 0===K?void 0:K.price),ee=(0,L.A)(y.breakpoints.down("md"));return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(o.A,{className:k.wrapper,children:[(0,T.jsxs)(o.A,{className:k.leftWrapper,children:[(0,T.jsx)(o.A,{className:k.logoWrapper,children:(0,T.jsx)(a.Ay,{item:!0,sx:{position:"relative",background:y.palette.background.level2,borderRadius:"8px"},container:!0,justifyContent:"center",children:(0,T.jsx)(je.A,{metadata:q,autoPlay:!0})})}),!ee&&Q.length>0?(0,T.jsx)(o.A,{className:k.metadataWrapper,children:(0,T.jsx)(ve,{title:(0,T.jsx)(t.x6,{id:"6GBt0m"}),children:(0,T.jsx)(a.Ay,{container:!0,spacing:"10px",children:Q.map(((e,n)=>(0,T.jsx)(a.Ay,{item:!0,xs:4,children:(0,T.jsx)(ke,{metadata:e})},n)))})})}):null]}),(0,T.jsxs)(o.A,{className:k.rightWrapper,children:[(0,T.jsxs)(o.A,{className:k.infoWrapper,children:[(0,T.jsxs)(a.Ay,{container:!0,children:[(0,T.jsx)(c.QW,{to:"/marketplace/NFT/".concat(null===X||void 0===X?void 0:X.cid),children:null===X||void 0===X?void 0:X.name}),(0,S.hA)(null===q||void 0===q?void 0:q.minter)?(0,T.jsx)(a.Ay,{item:!0,sx:{marginLeft:"5px"},children:(0,T.jsx)(O,{})}):null,null!==q&&void 0!==q&&q.owner?(0,T.jsx)(a.Ay,{item:!0,xs:!0,children:(0,T.jsx)(a.Ay,{container:!0,justifyContent:"flex-end",children:(0,T.jsx)(o.A,{sx:{width:"24px",height:"24px",cursor:"pointer"},onClick:()=>{const e="https://twitter.com/intent/tweet?url=".concat(_.oO,"/wallet/nft/view/").concat(m,"/").concat(j,"&text=Look at ").concat(Z?"my":"this",' NFT "').concat(q.name,'" on ICPSwap (The Hub of Future Decentralized Finance)! &via=ICPSwap');(0,V.l)(e,"NFT_share_to_Twitter")},children:(0,T.jsx)(me,{})})})}):null]}),(0,T.jsx)(o.A,{mt:"14px",children:(0,T.jsxs)(d.A,{variant:"h3",color:"text.primary",sx:{fontSize:"26px",fontWeight:700,...y.mixins.overflowEllipsis,maxWidth:"680px",wordBreak:"break-all","@media (max-width: 680px)":{maxWidth:"320px",fontSize:"22px"}},children:[null===q||void 0===q?void 0:q.name,"#",String(null!==(n=null===q||void 0===q?void 0:q.tokenId)&&void 0!==n?n:"")]})}),(0,T.jsxs)(o.A,{mt:"18px",children:[(0,T.jsx)(d.A,{component:"span",sx:{marginRight:"5px"},children:(0,T.jsx)(t.x6,{id:"X+zXG9"})}),(0,T.jsx)(c.QW,{children:(0,w.m)(q.owner,12)})]}),Boolean(null===K||void 0===K?void 0:K.price)&&(0,T.jsxs)(a.Ay,{container:!0,mt:"25px",alignItems:"end",children:[(0,T.jsx)(a.Ay,{item:!0,children:(0,T.jsx)(ce.A,{price:null===K||void 0===K?void 0:K.price,fontSize:"28px",imgSize:"28px",fontWeight:700,align:"end"})}),$?(0,T.jsx)(a.Ay,{item:!0,xs:!0,sx:{marginLeft:"10px"},children:(0,T.jsxs)(d.A,{fontSize:"16px",children:["(",(0,H.o)(null===$||void 0===$?void 0:$.toNumber()),")"]})}):null]}),A&&(0,T.jsx)(a.Ay,{container:!0,alignItems:"center",mt:"30px",children:(0,T.jsx)(a.Ay,{item:!0,xs:!0,children:(0,T.jsxs)(a.Ay,{container:!0,justifyContent:"flex-start",children:[!J&&Z?(0,T.jsx)(B.A,{sx:{borderRadius:"4px"},size:"large",variant:"contained",onClick:()=>N(!0),children:r.Ru._({id:"xNB0TS"})}):null,J&&!Z?(0,T.jsx)(B.A,{sx:{borderRadius:"4px"},size:"large",variant:"contained",onClick:()=>P(!0),children:r.Ru._({id:"S2pP3P"})}):null,Z&&!J&&(0,T.jsx)(B.A,{sx:{marginLeft:"18px",borderRadius:"4px"},size:"large",variant:"contained",onClick:()=>I(!0),children:(0,T.jsx)(t.x6,{id:"zPGNJm"})}),Z&&J&&(0,T.jsx)(pe,{metadata:q,onRevokeSuccess:()=>{U(!E)}})]})})})]}),(0,T.jsx)(o.A,{className:k.detailsWrapper,children:(0,T.jsx)(ve,{title:(0,T.jsx)(t.x6,{id:"ykiu3o"}),children:(0,T.jsxs)(a.Ay,{container:!0,flexDirection:"column",spacing:"15px",children:[(0,T.jsx)(ye,{label:r.Ru._({id:"8glx+u"}),value:q.cId&&(q.tokenId||0===q.tokenId)?(0,S.zE)(q.cId,q.tokenId):"--"}),null!==(i=q.filePath)&&void 0!==i&&i.includes("base64")?null:(0,T.jsx)(ye,{label:r.Ru._({id:"fVCjJD"}),value:(0,T.jsx)(F.A,{href:q.filePath,target:"_blank",sx:{wordBreak:"break-all"},children:q.filePath})}),(0,T.jsx)(ye,{label:r.Ru._({id:"FF2V0g"}),value:(0,b.sZ)(q.mintTime)}),(0,T.jsx)(ye,{label:r.Ru._({id:"2NUzG7"}),value:(0,T.jsx)(v.A,{content:null!==(s=q.minter)&&void 0!==s?s:"",children:(0,w.m)(q.minter,12)})}),(0,T.jsx)(ye,{label:r.Ru._({id:"1WojH/"}),value:"".concat(q.introduction)})]})})}),(0,T.jsx)(o.A,{className:k.collectionsWrapper,children:(0,T.jsxs)(ve,{title:(0,T.jsx)(t.x6,{id:"kOq7q4"}),children:[(0,T.jsxs)(a.Ay,{container:!0,flexDirection:"column",spacing:"15px",children:[(0,T.jsx)(ye,{label:r.Ru._({id:"OM0X0j"}),value:(0,T.jsx)(he,{canisterId:q.cId})}),(0,T.jsx)(ye,{label:r.Ru._({id:"revTCE"}),value:null===X||void 0===X?void 0:X.introduction}),(0,T.jsx)(ye,{label:r.Ru._({id:"UE2beD"}),value:(0,T.jsx)(v.A,{content:null!==(x=null===X||void 0===X?void 0:X.owner)&&void 0!==x?x:"",children:(0,w.m)(null!==(u=null===X||void 0===X?void 0:X.owner)&&void 0!==u?u:"",12)})}),(0,T.jsx)(ye,{label:r.Ru._({id:"PanUET"}),value:"".concat(new G.A(String(null!==(p=null===X||void 0===X?void 0:X.royalties)&&void 0!==p?p:0)).dividedBy(100).toFormat(),"%")})]}),null!==X&&void 0!==X&&X.linkMap&&(null===X||void 0===X||null===(h=X.linkMap)||void 0===h?void 0:h.length)>0?(0,T.jsx)(o.A,{mt:"20px",children:(0,T.jsx)(Ae.Ay,{links:null===X||void 0===X?void 0:X.linkMap})}):null]})}),ee&&Q.length>0?(0,T.jsx)(o.A,{className:k.metadataWrapper,children:(0,T.jsx)(ve,{title:(0,T.jsx)(t.x6,{id:"6GBt0m"}),children:(0,T.jsx)(a.Ay,{container:!0,spacing:"10px",children:Q.map(((e,n)=>(0,T.jsx)(a.Ay,{item:!0,xs:4,children:(0,T.jsx)(ke,{metadata:e})},n)))})})}):null]})]}),C?(0,T.jsx)(ie,{canisterId:m,nft:q,open:C,onClose:()=>I(!1),onTransferSuccess:()=>{U(!E),I(!1)}}):null,R?(0,T.jsx)(de,{canisterId:m,nft:q,open:R,onClose:()=>N(!1),onSellSuccess:()=>{U(!E),N(!1)}}):null,(0,T.jsx)(xe.A,{open:W,onClose:()=>P(!1),order:K,onTradeSuccess:()=>{U(!E),P(!1)}})]})}var Ce=i(98035);const Se=[{key:"Transactions",value:r.Ru._({id:"4wyw8H"}),component:function(e){let{canisterId:n,tokenId:i,reload:r}=e;const[s,o]=(0,l.useState)(1),[c,R]=(0,y.g)(s,10),{result:z,loading:W}=(0,f.ML)(n,(0,S.zE)(n,i),c,R,r);(0,l.useEffect)((()=>{o(1)}),[r,o]);const{content:_,totalElements:L}=(0,l.useMemo)((()=>null!==z&&void 0!==z?z:{totalElements:0,content:[],offset:0,limit:10}),[z]),B=(0,l.useCallback)((e=>{let{pageNum:n}=e;o(n)}),[o]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(x.A,{className:W?"with-loading":"",children:[(0,T.jsxs)(u.A,{children:[(0,T.jsx)(p.A,{children:(0,T.jsxs)(h.A,{children:[(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"LhMjLm"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"+zy2Nq"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"ejVYRQ"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"/jQctM"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"Kbwvno"})})]})}),(0,T.jsx)(j.A,{children:_.map(((e,n)=>(0,T.jsxs)(h.A,{children:[(0,T.jsx)(m.A,{children:(0,T.jsx)(a.Ay,{container:!0,spacing:2,children:(0,T.jsx)(a.Ay,{item:!0,xs:12,children:(0,T.jsx)(d.A,{variant:"h6",children:(0,b.sZ)(e.time)})})})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(d.A,{variant:"h6",children:N()((0,k.q)(e.txType))})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(a.Ay,{container:!0,spacing:1,children:(0,T.jsx)(a.Ay,{item:!0,xs:12,children:(0,T.jsx)(d.A,{variant:"h6",children:(0,T.jsx)(v.A,{content:e.from,children:(0,w.m)(e.from,18)})})})})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(a.Ay,{container:!0,spacing:1,children:(0,T.jsx)(a.Ay,{item:!0,xs:12,children:(0,T.jsx)(d.A,{variant:"h6",children:(0,T.jsx)(v.A,{content:e.to,children:(0,w.m)(e.to,18)})})})})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(d.A,{variant:"h6",children:e.memo[0]?(0,C.GY)(Uint8Array.from(e.memo[0])):""})})]},"".concat(Number(e.tokenId),"_").concat(n))))})]}),0!==_.length||W?null:(0,T.jsx)(A.A,{}),(0,T.jsx)(g.A,{loading:W})]}),_.length?(0,T.jsx)(I.A,{count:Number(L),onPageChange:B}):null]})}},{key:"Activity",value:r.Ru._({id:"XJOV1Y"}),component:function(e){let{canisterId:n,tokenId:i,reload:r}=e;const[s,o]=(0,l.useState)({pageNum:1,pageSize:10}),[c]=(0,y.g)(s.pageNum,s.pageSize);(0,l.useEffect)((()=>{o({pageNum:1,pageSize:10})}),[r,o]);const{loading:f,result:k}=(0,z.cY)(n,null,i,c,s.pageSize,"time",!0),{totalElements:C,content:S}=null!==k&&void 0!==k?k:{totalElements:0,content:[]},R=(0,l.useCallback)((e=>{o(e)}),[o]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(x.A,{className:f?"with-loading":"",children:[(0,T.jsxs)(u.A,{children:[(0,T.jsx)(p.A,{children:(0,T.jsxs)(h.A,{children:[(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"LhMjLm"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"ONeWx3"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"S9XBES"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"bslkrk"})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(t.x6,{id:"Aq+O0x"})})]})}),(0,T.jsx)(j.A,{children:S.map(((e,n)=>(0,T.jsxs)(h.A,{children:[(0,T.jsx)(m.A,{children:(0,T.jsx)(a.Ay,{container:!0,spacing:2,children:(0,T.jsx)(a.Ay,{item:!0,xs:12,children:(0,T.jsx)(d.A,{variant:"h6",children:(0,b.sZ)(e.time)})})})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(v.A,{content:e.seller,children:(0,T.jsx)(d.A,{children:(0,w.m)(e.seller,6)})})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(v.A,{content:e.buyer,children:(0,T.jsx)(d.A,{children:(0,w.m)(e.buyer,6)})})}),(0,T.jsx)(m.A,{children:(0,T.jsxs)(d.A,{children:[(0,W.t)(e.price,_.Dj.decimals).toFormat()," ",_.Dj.symbol]})}),(0,T.jsx)(m.A,{children:(0,T.jsx)(d.A,{children:N()("complete"===e.txStatus?"done":e.txStatus)})})]},"".concat(Number(e.hash),"_").concat(n))))})]}),0!==S.length||f?null:(0,T.jsx)(A.A,{}),(0,T.jsx)(g.A,{loading:f})]}),S.length?(0,T.jsx)(I.A,{count:Number(C),onPageChange:R}):null]})}}];function Ie(e){let{isWallet:n=!1}=e;const{canisterId:i,tokenId:r}=(0,s.g)(),[x,u]=(0,l.useState)(Se[0]);return(0,T.jsx)(Ce.A,{children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(o.A,{sx:{margin:"0 0 20px 0"},children:(0,T.jsx)(c.BI,{prevLink:n?"/wallet/nft/canister/details/".concat(i):"/marketplace/NFT",prevLabel:n?"NFT List":"Marketplace",currentLabel:(0,T.jsx)(t.x6,{id:"ykiu3o"})})}),(0,T.jsx)(we,{isView:!0,canisterId:i,tokenId:Number(r)}),(0,T.jsx)(o.A,{mt:"24px",children:(0,T.jsxs)(c.Am,{level:2,children:[(0,T.jsx)(a.Ay,{container:!0,spacing:3,children:Se.map((e=>(0,T.jsx)(a.Ay,{item:!0,children:(0,T.jsx)(d.A,{color:e.key===x.key?"textPrimary":"textSecondary",onClick:()=>(e=>{u(e)})(e),sx:{cursor:"pointer",fontSize:"20px",fontWeight:"500"},children:e.value})},e.key)))}),(0,T.jsx)(o.A,{mt:3,children:(()=>{const e=Se.filter((e=>e.key===x.key))[0].component;return(0,T.jsx)(e,{canisterId:i,tokenId:Number(r)})})()})]})})]})})}},93669:(e,n,i)=>{var t=i(59557);n.A=void 0;var r=t(i(99691)),l=i(36092),s=(0,r.default)((0,l.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.A=s},85560:(e,n,i)=>{i.d(n,{A:()=>C});var t=i(7166),r=i(43911),l=i(53248),s=i(22681),o=i(54757),a=i(80185),d=i(32177),c=i(44414),x=i(76394),u=i(25067),p=i(8428),h=i(90711),m=i(56859);function j(e){return(0,m.Ay)("MuiLink",e)}const A=(0,h.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var g=i(98866),v=i(54170);const f={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},y=e=>{let{theme:n,ownerState:i}=e;const t=(e=>f[e]||e)(i.color),r=(0,g.Yn)(n,"palette.".concat(t),!1)||i.color,l=(0,g.Yn)(n,"palette.".concat(t,"Channel"));return"vars"in n&&l?"rgba(".concat(l," / 0.4)"):(0,v.X4)(r,.4)};var b=i(36092);const k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],w=(0,d.Ay)(p.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:i}=e;return[n.root,n["underline".concat((0,a.A)(i.underline))],"button"===i.component&&n.button]}})((e=>{let{theme:n,ownerState:i}=e;return(0,r.A)({},"none"===i.underline&&{textDecoration:"none"},"hover"===i.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===i.underline&&(0,r.A)({textDecoration:"underline"},"inherit"!==i.color&&{textDecorationColor:y({theme:n,ownerState:i})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===i.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(A.focusVisible)]:{outline:"auto"}})})),C=l.forwardRef((function(e,n){const i=(0,c.A)({props:e,name:"MuiLink"}),{className:d,color:p="primary",component:h="a",onBlur:m,onFocus:A,TypographyClasses:g,underline:v="always",variant:y="inherit",sx:C}=i,S=(0,t.A)(i,k),{isFocusVisibleRef:I,onBlur:R,onFocus:N,ref:T}=(0,x.A)(),[z,W]=l.useState(!1),_=(0,u.A)(n,T),L=(0,r.A)({},i,{color:p,component:h,focusVisible:z,underline:v,variant:y}),B=(e=>{const{classes:n,component:i,focusVisible:t,underline:r}=e,l={root:["root","underline".concat((0,a.A)(r)),"button"===i&&"button",t&&"focusVisible"]};return(0,o.A)(l,j,n)})(L);return(0,b.jsx)(w,(0,r.A)({color:p,className:(0,s.A)(B.root,d),classes:g,component:h,onBlur:e=>{R(e),!1===I.current&&W(!1),m&&m(e)},onFocus:e=>{N(e),!0===I.current&&W(!0),A&&A(e)},ref:_,ownerState:L,variant:y,sx:[...Object.keys(f).includes(p)?[]:[{color:p}],...Array.isArray(C)?C:[C]]},S))}))}}]);
//# sourceMappingURL=2893.035f7997.chunk.js.map