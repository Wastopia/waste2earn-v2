"use strict";(self.webpackChunkwaste2earn_home=self.webpackChunkwaste2earn_home||[]).push([[4402],{64352:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(90329),i=n(10109),o=n(91331),u=n(8428),a=n(52351),c=n(36092);const s=(0,a.A)((e=>({wrapper:{display:"flex",alignItems:"center",height:"24px",padding:"0 9px",borderRadius:"8px","& .MuiTypography-root":{fontSize:"12px",fontWeight:500},"&.inRange":{background:e.colors.darkPrimary400},"&.closed":{background:e.colors.darkPrimary400},"&.outOfRange":{background:"#FFC107","& .MuiTypography-root":{color:e.colors.darkLevel1,marginLeft:"3px"}}}})));function l(e){return(0,c.jsx)(i.A,{width:"12",height:"12",viewBox:"0 0 12 12",...e,children:(0,c.jsx)("path",{d:"M5.5 3.5H6.5V4.5H5.5V3.5ZM5.5 5.5H6.5V8.5H5.5V5.5ZM6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM6 10C3.795 10 2 8.205 2 6C2 3.795 3.795 2 6 2C8.205 2 10 3.795 10 6C10 8.205 8.205 10 6 10Z",fill:e.color?e.color:"#111936"})})}function d(){const e=s();return(0,c.jsxs)(o.A,{component:"span",className:"".concat(e.wrapper," closed"),children:[(0,c.jsx)(l,{fontSize:"12px",color:"#fff"}),(0,c.jsx)(u.A,{color:"#ffffff",sx:{marginLeft:"3px"},children:(0,c.jsx)(r.x6,{id:"D87pha"})})]})}function p(){const e=s();return(0,c.jsxs)(o.A,{className:"".concat(e.wrapper," outOfRange"),children:[(0,c.jsx)(l,{fontSize:"12px"}),(0,c.jsx)(u.A,{children:(0,c.jsx)(r.x6,{id:"i3Z+/Z"})})]})}function f(){const e=s();return(0,c.jsxs)(o.A,{className:"".concat(e.wrapper," inRange"),children:[(0,c.jsx)(o.A,{component:"span",sx:{background:"#54C081",width:"8px",height:"8px",borderRadius:"50%",marginRight:"8px"}}),(0,c.jsx)(u.A,{color:"#ffffff",children:(0,c.jsx)(r.x6,{id:"vOyUlD"})})]})}function m(e){let{outOfRange:t,closed:n}=e;return n?(0,c.jsx)(d,{}):t?(0,c.jsx)(p,{}):(0,c.jsx)(f,{})}},78772:(e,t,n)=>{n.d(t,{I5:()=>k,NX:()=>m,No:()=>v,Te:()=>h,fb:()=>x,ix:()=>y,j1:()=>g});var r=n(53248),i=n(52429),o=n(35479),u=n(93176),a=n(23412),c=n(37155),s=n(75015),l=n(37037),d=n(93864),p=n(16429),f=n(59257);function m(){const e=(0,i.bt)(),[t,n]=(0,r.useState)({stakeTokenTVL:"0",rewardTokenTVL:"0"}),[a,s]=(0,r.useState)(0);(0,r.useMemo)((async()=>{if(e){const{data:t}=(0,o.Pk)(await(await(0,d.Oj)()).getGlobalTVL());t&&n({stakeTokenTVL:(0,u.o)(new c.A(t.stakedTokenTVL).multipliedBy(e).toFixed(4)),rewardTokenTVL:(0,u.o)(new c.A(t.rewardTokenTVL).multipliedBy(e).toFixed(4))})}}),[e,a]);return[t,(0,r.useCallback)((()=>{s((e=>e+1))}),[s])]}function y(e,t,n){const i=(0,r.useCallback)((async()=>{if(e&&t)return await(0,s.Ls)(e,t)}),[e,t]);return(0,p.r)(i,n)}function g(e,t,n){const i=(0,r.useCallback)((async()=>{if(e&&t&&0!==t.length)return await(0,s.O2)(e,t)}),[e,t]);return(0,p.r)(i,n)}async function v(e,t,n){const r=await(await(0,d.P4)(t,e)).stake(n);return(0,o.Pk)(r)}async function k(e,t,n){const r=await(await(0,d.P4)(t,e)).unstake(n);return(0,o.Pk)(r)}function h(e){return(0,l.Pz)((0,r.useCallback)((async()=>{if(e)return(0,o.Pk)(await(await(0,d.P4)(e)).getCycleInfo()).data}),[e]))}function x(e){let{rewardToken:t,farm:n,userRewardAmount:o}=e;const u=(0,i.vb)(t),l=(0,i.bt)(),d=(0,f.WT)(),m=function(e,t){const n=(0,r.useCallback)((async()=>{if(e)return await(0,s.Hc)(e)}),[e]);return(0,p.r)(n,t)}(n.farmCid),y=(0,r.useMemo)((()=>m&&l?new c.A(l).multipliedBy(m.stakedTokenTVL).toFixed(3):0),[m,l]),g=(0,r.useMemo)((()=>{if(!t||!u)return 0;return new c.A(u).multipliedBy(n.totalReward.toString()).toNumber()}),[t,n,u]),v=(0,r.useMemo)((()=>t&&u&&o?new c.A(u).multipliedBy((0,a.t)(o,t.decimals)).toNumber():0),[t,u,o]),k=(0,r.useMemo)((()=>{if(t&&o)return(0,a.t)(o,t.decimals).toNumber()}),[t,o]),h=function(e,t,n){const i=(0,r.useCallback)((async()=>{if(e&&t)return await(0,s.qt)(e,t)}),[e,t]);return(0,p.r)(i,n)}(n.farmCid,d),x=(0,r.useMemo)((()=>h&&l?new c.A(h).multipliedBy(l).toFixed(3):0),[h,l]);return(0,r.useMemo)((()=>({poolTVL:y,totalRewardUSD:g,userRewardUSD:v,parsedUserRewardAmount:k,userTVL:x})),[y,x,v,g,k])}},10013:(e,t,n)=>{n.d(t,{_:()=>b,x:()=>L});var r=n(9259),i=n(53248),o=n(37155),u=n(49828),a=n(59257),c=n(23146),s=n(6730),l=n(90329),d=n(91331),p=n(63504),f=n(944),m=n(23412),y=n(84755),g=n(36092);function v(e){let{logo:t,amount:n}=e;return(0,g.jsxs)(d.A,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsx)(p.A,{sx:{width:"16px",height:"16px",margin:"0 4px 0 0"},src:t,children:"\xa0"}),null!==n&&void 0!==n?n:0]})}var k=n(81938),h=n(49103),x=n(78878),w=n(2879);async function b(e,t){const n=await(0,u.u)();return await(0,w.Fo)(e,n,{positionId:t})}function T(){const e=(0,a.Le)(),t=(0,k.KX)(),n=(0,h.wR)();return(0,i.useCallback)(((i,o)=>{let{positionId:u,retry:a,currencyFeeAmount0:c,currencyFeeAmount1:s}=o;const d=function(e){var t;let{positionId:n,retry:i,currencyFeeAmount0:o,currencyFeeAmount1:u,principal:a,handleReclaim:c}=e;const s=(0,f.m)(null!==(t=null===a||void 0===a?void 0:a.toString())&&void 0!==t?t:"",12),d=o.toSignificant(12,{groupSeparator:","}),p=o.toSignificant(12),k=u.toSignificant(12,{groupSeparator:","}),h=u.toSignificant(12),x=o.currency.wrapped,w=u.currency.wrapped,b=(0,m.N)(p,x.decimals).minus(x.transFee).isLessThan(0),T=(0,m.N)(h,w.decimals).minus(w.transFee).isLessThan(0);return[{title:"Collect ".concat(x.symbol," and ").concat(w.symbol),step:0,children:[{label:r.Ru._({id:"/Be9Gl"}),value:n.toString()},{label:r.Ru._({id:"lE0+Z9"}),value:(0,g.jsx)(v,{amount:d,logo:x.logo})},{label:r.Ru._({id:"KSIdCc"}),value:(0,g.jsx)(v,{amount:k,logo:w.logo})}],errorActions:[(0,g.jsx)(y.QW,{onClick:i,children:(0,g.jsx)(l.x6,{id:"6gRgw8"})})]},{title:b?r.Ru._({id:"rYsd3Z",values:{0:x.symbol}}):r.Ru._({id:"qhKyO3",values:{0:x.symbol}}),step:1,children:[{label:r.Ru._({id:"hehnjM"}),value:(0,g.jsx)(v,{amount:d,logo:x.logo})},{label:r.Ru._({id:"xFM/mD"}),value:s}],errorActions:[(0,g.jsx)(y.QW,{onClick:c,children:(0,g.jsx)(l.x6,{id:"CkKHX6"})}),(0,g.jsx)(y.QW,{onClick:i,children:(0,g.jsx)(l.x6,{id:"6gRgw8"})})],errorMessage:r.Ru._({id:"pX/p94"}),skipError:b?r.Ru._({id:"urmFa3"}):void 0},{title:T?r.Ru._({id:"rYsd3Z",values:{0:w.symbol}}):r.Ru._({id:"qhKyO3",values:{0:w.symbol}}),step:2,children:[{label:r.Ru._({id:"hehnjM"}),value:(0,g.jsx)(v,{amount:k,logo:w.logo})},{label:r.Ru._({id:"xFM/mD"}),value:s}],errorActions:[(0,g.jsx)(y.QW,{onClick:c,children:(0,g.jsx)(l.x6,{id:"CkKHX6"})}),(0,g.jsx)(y.QW,{onClick:i,children:(0,g.jsx)(l.x6,{id:"6gRgw8"})})],errorMessage:r.Ru._({id:"pX/p94"}),skipError:T?r.Ru._({id:"urmFa3"}):void 0}]}({positionId:u,retry:a,currencyFeeAmount1:s,currencyFeeAmount0:c,principal:e,handleReclaim:n});t(String(i),{content:d,title:r.Ru._({id:"PI/zuX"})})}),[e])}function L(){const e=function(){const e=(0,a.Le)(),[t]=(0,x.dX)(),n=(0,h.RM)();return(0,i.useCallback)((i=>{let{pool:u,positionId:a,currencyFeeAmount0:s,currencyFeeAmount1:l,openExternalTip:d,stepKey:p}=i;return[async()=>{var n;if(!a||!e||!u)return!1;const{status:i,message:o}=await b(u.id,a);return"ok"===i||(t(null!==(n=(0,c.If)(o))&&void 0!==n?n:r.Ru._({id:"EB0eTJ"})),!1)},async()=>!(!s||!u)&&(!new o.A(s.quotient.toString()).minus(s.currency.transFee).isGreaterThan(0)||await n(s.currency,u.id,s.quotient.toString(),(e=>{let{message:t}=e;d({message:t,tipKey:p})}))),async()=>!(!l||!u)&&(!new o.A(l.quotient.toString()).minus(l.currency.transFee).isGreaterThan(0)||await n(l.currency,u.id,l.quotient.toString(),(e=>{let{message:t}=e;d({message:t,tipKey:p})})))]}),[e])}(),t=(0,s.TM)(),n=T();return(0,i.useCallback)((r=>{let{pool:i,positionId:o,currencyFeeAmount0:u,currencyFeeAmount1:a,openExternalTip:c}=r;const l=(0,s.Eu)(),d=e({pool:i,positionId:o,currencyFeeAmount0:u,currencyFeeAmount1:a,openExternalTip:c,stepKey:l}),{call:p,reset:f,retry:m}=t(d,l);return n(l,{positionId:o,currencyFeeAmount0:u,currencyFeeAmount1:a,retry:m}),{call:p,reset:f,retry:m,key:l}}),[e,t,n])}},95715:(e,t,n)=>{n.d(t,{J:()=>c,f:()=>s});var r=n(53248),i=n(24788),o=n(85393),u=n(25137),a=n(85067);function c(e){const{result:t}=(0,o.QH)(null===e||void 0===e?void 0:e.poolId),[,n]=(0,a.rd)(null===t||void 0===t?void 0:t.token0.address),[,r]=(0,a.rd)(null===t||void 0===t?void 0:t.token1.address),[c,s]=(0,u.Q2)(null!==n&&void 0!==n?n:void 0,null!==r&&void 0!==r?r:void 0,null!==t&&void 0!==t&&t.fee?Number(t.fee):void 0);let l;return s&&t&&e&&void 0!==e.tickLower&&void 0!==e.tickUpper&&void 0!==e.liquidity&&(l=new i.y({pool:s,liquidity:e.liquidity.toString(),tickLower:Number(e.tickLower),tickUpper:Number(e.tickUpper)})),{loading:c===u.S.LOADING,checking:c===u.S.NOT_CHECK,position:l,pool:null!==s&&void 0!==s?s:void 0}}function s(e){let t,{tickLower:n,tickUpper:o,liquidity:u,pool:a}=e;return a&&u&&(n||0===n)&&(o||0===o)&&(t=new i.y({pool:a,liquidity:u,tickLower:Number(n),tickUpper:Number(o)})),(0,r.useMemo)((()=>t),[t])}},16429:(e,t,n)=>{n.d(t,{r:()=>i});var r=n(53248);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const[i,o]=(0,r.useState)(void 0),[u,a]=(0,r.useState)(0);return(0,r.useEffect)((()=>{!async function(){if(e){const t=await e();o(t)}}()}),[u,e,t]),(0,r.useEffect)((()=>{const t=setInterval((()=>{e&&a((e=>e+1))}),n);return()=>{clearInterval(t)}}),[n,e]),(0,r.useMemo)((()=>i),[i])}},43496:(e,t,n)=>{n.d(t,{c:()=>r});let r=function(e){return e.NOT_STARTED="NOT_STARTED",e.LIVE="LIVE",e.FINISHED="FINISHED",e.CLOSED="CLOSED",e}({})},12316:(e,t,n)=>{n.d(t,{L:()=>i,j:()=>r});let r=function(e){return e.LIVE="Live",e.CLOSURE="Closure",e.UNSTARTED="Unstarted",e.FINISHED="Finished",e}({});function i(e){if(e.status.toLowerCase()===r.CLOSURE.toLowerCase())return r.CLOSURE;const t=BigInt((new Date).getTime()),n=e.endTime*BigInt(1e3);return t<e.startTime*BigInt(1e3)?r.UNSTARTED:t>n?r.FINISHED:r.LIVE}},15469:(e,t,n)=>{n.d(t,{N_:()=>r,Qz:()=>i,lW:()=>o});const r=86400,i=1461*r/4,o=i/12},75015:(e,t,n)=>{n.d(t,{Hc:()=>f,Ls:()=>l,O2:()=>y,UO:()=>g,YK:()=>p,lU:()=>v,qt:()=>m,yN:()=>k});var r=n(53248),i=n(35479),o=n(16752),u=n(81795),a=n(93864),c=n(37037);const s=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,a)}c((r=r.apply(e,t||[])).next())}))};function l(e,t){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getFarmInfo(t)).data}))}function d(e,t,n,r){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getUserPositions(u.p.from(t),BigInt(n),BigInt(r))).data}))}function p(e,t,n){const i=(0,r.useCallback)(((n,r)=>s(this,void 0,void 0,(function*(){if(e&&t)return yield d(e,t,n,r)}))),[e,t]);return(0,c.ND)(i,300,n)}function f(e){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getTVL()).data}))}function m(e,t){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getUserTVL(u.p.fromText(t))).data}))}function y(e,t){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getRewardInfo(t)).data}))}function g(e,t){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.Oj)(e)).create(t.rewardToken,t.rewardAmount,t.rewardPool,t.pool,t.startTime,t.endTime,t.secondPerCycle,t.token0AmountLimit,t.token1AmountLimit,t.priceInsideLimit))}))}function v(e,t,n,u){return(0,c.Pz)((0,r.useCallback)((()=>s(this,void 0,void 0,(function*(){if((0,o.W)(e,t)&&n)return yield function(e,t,n){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.Oj)()).getFarmList(BigInt(e),BigInt(t),n)).data}))}(e,t,n)}))),[e,t,n]),u)}function k(e){return(0,c.Pz)((0,r.useCallback)((()=>s(this,void 0,void 0,(function*(){if(e)return yield function(e){return s(this,void 0,void 0,(function*(){return(0,i.Pk)(yield(yield(0,a.P4)(e)).getRewardMeta()).data}))}(e)}))),[e]))}},47287:(e,t,n)=>{function r(e){if(!e)return{};const t=e.amount0.currency,n=e.amount1.currency;return e.token0PriceUpper.lessThan(1)?{priceLower:e.token0PriceUpper.invert(),priceUpper:e.token0PriceLower.invert(),quote:t,base:n}:{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:n,base:t}}n.d(t,{s:()=>r})},8482:(e,t,n)=>{function r(e){let{priceLower:t,priceUpper:n,quote:r,base:i,invert:o}=e;return{priceUpper:o?null===t||void 0===t?void 0:t.invert():n,priceLower:o?null===n||void 0===n?void 0:n.invert():t,quote:o?i:r,base:o?r:i}}n.d(t,{h:()=>r})},74758:(e,t,n)=>{function r(e){return e.length>27?"https://icscan.io/principal/".concat(e):"https://dashboard.internetcomputer.org/canister/".concat(e)}n.d(t,{c:()=>r})},90308:(e,t,n)=>{n.d(t,{GS:()=>s,Sm:()=>l,St:()=>a,sZ:()=>c,yG:()=>u});var r=n(14754),i=n.n(r),o=n(15469);function u(e){return Number(BigInt(e)/BigInt(1e6))}function a(e){return Number(BigInt(e)*BigInt(1e6))}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"";const n=Number(String(e).substr(0,13));return i()(n).format(t)}const s=e=>e/o.N_,l=e=>Math.round(e*o.N_)},87892:(e,t,n)=>{e.exports=n.p+"static/media/1.28c4a546daaba6b79f81.png"},41606:(e,t,n)=>{e.exports=n.p+"static/media/3.559ea8cfedc425025a4f.png"}}]);
//# sourceMappingURL=4402.d6829075.chunk.js.map